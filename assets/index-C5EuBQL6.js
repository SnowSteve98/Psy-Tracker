(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function lb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var yd={exports:{}},cl={};var __;function ub(){if(__)return cl;__=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=i,cl.jsxs=i,cl}var v_;function cb(){return v_||(v_=1,yd.exports=ub()),yd.exports}var R=cb(),_d={exports:{}},bt={};var E_;function hb(){if(E_)return bt;E_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function B(M){return M===null||typeof M!="object"?null:(M=V&&M[V]||M["@@iterator"],typeof M=="function"?M:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,$={};function st(M,X,it){this.props=M,this.context=X,this.refs=$,this.updater=it||U}st.prototype.isReactComponent={},st.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},st.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function tt(){}tt.prototype=st.prototype;function rt(M,X,it){this.props=M,this.context=X,this.refs=$,this.updater=it||U}var ct=rt.prototype=new tt;ct.constructor=rt,Z(ct,st.prototype),ct.isPureReactComponent=!0;var pt=Array.isArray;function ht(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function b(M,X,it){var ot=it.ref;return{$$typeof:a,type:M,key:X,ref:ot!==void 0?ot:null,props:it}}function D(M,X){return b(M.type,X,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function z(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(it){return X[it]})}var C=/\/+/g;function jt(M,X){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):X.toString(36)}function Jt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ht,ht):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,X,it,ot,Et){var Ct=typeof M;(Ct==="undefined"||Ct==="boolean")&&(M=null);var Ut=!1;if(M===null)Ut=!0;else switch(Ct){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(M.$$typeof){case a:case t:Ut=!0;break;case w:return Ut=M._init,G(Ut(M._payload),X,it,ot,Et)}}if(Ut)return Et=Et(M),Ut=ot===""?"."+jt(M,0):ot,pt(Et)?(it="",Ut!=null&&(it=Ut.replace(C,"$&/")+"/"),G(Et,X,it,"",function(Ws){return Ws})):Et!=null&&(N(Et)&&(Et=D(Et,it+(Et.key==null||M&&M.key===Et.key?"":(""+Et.key).replace(C,"$&/")+"/")+Ut)),X.push(Et)),1;Ut=0;var Ie=ot===""?".":ot+":";if(pt(M))for(var ae=0;ae<M.length;ae++)ot=M[ae],Ct=Ie+jt(ot,ae),Ut+=G(ot,X,it,Ct,Et);else if(ae=B(M),typeof ae=="function")for(M=ae.call(M),ae=0;!(ot=M.next()).done;)ot=ot.value,Ct=Ie+jt(ot,ae++),Ut+=G(ot,X,it,Ct,Et);else if(Ct==="object"){if(typeof M.then=="function")return G(Jt(M),X,it,ot,Et);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function nt(M,X,it){if(M==null)return M;var ot=[],Et=0;return G(M,ot,"","",function(Ct){return X.call(it,Ct,Et++)}),ot}function mt(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(it){(M._status===0||M._status===-1)&&(M._status=1,M._result=it)},function(it){(M._status===0||M._status===-1)&&(M._status=2,M._result=it)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Bt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Kt={map:nt,forEach:function(M,X,it){nt(M,function(){X.apply(this,arguments)},it)},count:function(M){var X=0;return nt(M,function(){X++}),X},toArray:function(M){return nt(M,function(X){return X})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return bt.Activity=A,bt.Children=Kt,bt.Component=st,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=rt,bt.StrictMode=r,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,bt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},bt.cache=function(M){return function(){return M.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(M,X,it){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ot=Z({},M.props),Et=M.key;if(X!=null)for(Ct in X.key!==void 0&&(Et=""+X.key),X)!S.call(X,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&X.ref===void 0||(ot[Ct]=X[Ct]);var Ct=arguments.length-2;if(Ct===1)ot.children=it;else if(1<Ct){for(var Ut=Array(Ct),Ie=0;Ie<Ct;Ie++)Ut[Ie]=arguments[Ie+2];ot.children=Ut}return b(M.type,Et,ot)},bt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},bt.createElement=function(M,X,it){var ot,Et={},Ct=null;if(X!=null)for(ot in X.key!==void 0&&(Ct=""+X.key),X)S.call(X,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(Et[ot]=X[ot]);var Ut=arguments.length-2;if(Ut===1)Et.children=it;else if(1<Ut){for(var Ie=Array(Ut),ae=0;ae<Ut;ae++)Ie[ae]=arguments[ae+2];Et.children=Ie}if(M&&M.defaultProps)for(ot in Ut=M.defaultProps,Ut)Et[ot]===void 0&&(Et[ot]=Ut[ot]);return b(M,Ct,Et)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(M){return{$$typeof:g,render:M}},bt.isValidElement=N,bt.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:mt}},bt.memo=function(M,X){return{$$typeof:_,type:M,compare:X===void 0?null:X}},bt.startTransition=function(M){var X=x.T,it={};x.T=it;try{var ot=M(),Et=x.S;Et!==null&&Et(it,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(ht,Bt)}catch(Ct){Bt(Ct)}finally{X!==null&&it.types!==null&&(X.types=it.types),x.T=X}},bt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},bt.use=function(M){return x.H.use(M)},bt.useActionState=function(M,X,it){return x.H.useActionState(M,X,it)},bt.useCallback=function(M,X){return x.H.useCallback(M,X)},bt.useContext=function(M){return x.H.useContext(M)},bt.useDebugValue=function(){},bt.useDeferredValue=function(M,X){return x.H.useDeferredValue(M,X)},bt.useEffect=function(M,X){return x.H.useEffect(M,X)},bt.useEffectEvent=function(M){return x.H.useEffectEvent(M)},bt.useId=function(){return x.H.useId()},bt.useImperativeHandle=function(M,X,it){return x.H.useImperativeHandle(M,X,it)},bt.useInsertionEffect=function(M,X){return x.H.useInsertionEffect(M,X)},bt.useLayoutEffect=function(M,X){return x.H.useLayoutEffect(M,X)},bt.useMemo=function(M,X){return x.H.useMemo(M,X)},bt.useOptimistic=function(M,X){return x.H.useOptimistic(M,X)},bt.useReducer=function(M,X,it){return x.H.useReducer(M,X,it)},bt.useRef=function(M){return x.H.useRef(M)},bt.useState=function(M){return x.H.useState(M)},bt.useSyncExternalStore=function(M,X,it){return x.H.useSyncExternalStore(M,X,it)},bt.useTransition=function(){return x.H.useTransition()},bt.version="19.2.1",bt}var T_;function om(){return T_||(T_=1,_d.exports=hb()),_d.exports}var At=om();const ev=lb(At);var vd={exports:{}},hl={},Ed={exports:{}},Td={};var b_;function fb(){return b_||(b_=1,(function(a){function t(G,nt){var mt=G.length;G.push(nt);t:for(;0<mt;){var Bt=mt-1>>>1,Kt=G[Bt];if(0<l(Kt,nt))G[Bt]=nt,G[mt]=Kt,mt=Bt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var nt=G[0],mt=G.pop();if(mt!==nt){G[0]=mt;t:for(var Bt=0,Kt=G.length,M=Kt>>>1;Bt<M;){var X=2*(Bt+1)-1,it=G[X],ot=X+1,Et=G[ot];if(0>l(it,mt))ot<Kt&&0>l(Et,it)?(G[Bt]=Et,G[ot]=mt,Bt=ot):(G[Bt]=it,G[X]=mt,Bt=X);else if(ot<Kt&&0>l(Et,mt))G[Bt]=Et,G[ot]=mt,Bt=ot;else break t}}return nt}function l(G,nt){var mt=G.sortIndex-nt.sortIndex;return mt!==0?mt:G.id-nt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],_=[],w=1,A=null,V=3,B=!1,U=!1,Z=!1,$=!1,st=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function ct(G){for(var nt=i(_);nt!==null;){if(nt.callback===null)r(_);else if(nt.startTime<=G)r(_),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(_)}}function pt(G){if(Z=!1,ct(G),!U)if(i(y)!==null)U=!0,ht||(ht=!0,z());else{var nt=i(_);nt!==null&&Jt(pt,nt.startTime-G)}}var ht=!1,x=-1,S=5,b=-1;function D(){return $?!0:!(a.unstable_now()-b<S)}function N(){if($=!1,ht){var G=a.unstable_now();b=G;var nt=!0;try{t:{U=!1,Z&&(Z=!1,tt(x),x=-1),B=!0;var mt=V;try{e:{for(ct(G),A=i(y);A!==null&&!(A.expirationTime>G&&D());){var Bt=A.callback;if(typeof Bt=="function"){A.callback=null,V=A.priorityLevel;var Kt=Bt(A.expirationTime<=G);if(G=a.unstable_now(),typeof Kt=="function"){A.callback=Kt,ct(G),nt=!0;break e}A===i(y)&&r(y),ct(G)}else r(y);A=i(y)}if(A!==null)nt=!0;else{var M=i(_);M!==null&&Jt(pt,M.startTime-G),nt=!1}}break t}finally{A=null,V=mt,B=!1}nt=void 0}}finally{nt?z():ht=!1}}}var z;if(typeof rt=="function")z=function(){rt(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,jt=C.port2;C.port1.onmessage=N,z=function(){jt.postMessage(null)}}else z=function(){st(N,0)};function Jt(G,nt){x=st(function(){G(a.unstable_now())},nt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_next=function(G){switch(V){case 1:case 2:case 3:var nt=3;break;default:nt=V}var mt=V;V=nt;try{return G()}finally{V=mt}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var mt=V;V=G;try{return nt()}finally{V=mt}},a.unstable_scheduleCallback=function(G,nt,mt){var Bt=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Bt+mt:Bt):mt=Bt,G){case 1:var Kt=-1;break;case 2:Kt=250;break;case 5:Kt=1073741823;break;case 4:Kt=1e4;break;default:Kt=5e3}return Kt=mt+Kt,G={id:w++,callback:nt,priorityLevel:G,startTime:mt,expirationTime:Kt,sortIndex:-1},mt>Bt?(G.sortIndex=mt,t(_,G),i(y)===null&&G===i(_)&&(Z?(tt(x),x=-1):Z=!0,Jt(pt,mt-Bt))):(G.sortIndex=Kt,t(y,G),U||B||(U=!0,ht||(ht=!0,z()))),G},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(G){var nt=V;return function(){var mt=V;V=nt;try{return G.apply(this,arguments)}finally{V=mt}}}})(Td)),Td}var S_;function db(){return S_||(S_=1,Ed.exports=fb()),Ed.exports}var bd={exports:{}},Ye={};var A_;function mb(){if(A_)return Ye;A_=1;var a=om();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)_+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:w}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(y,_){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,w)},Ye.flushSync=function(y){var _=d.T,w=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=w,r.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var w=_.as,A=g(w,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;w==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:B}):w==="script"&&r.d.X(y,{crossOrigin:A,integrity:V,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var w=g(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var w=_.as,A=g(w,_.crossOrigin);r.d.L(y,w,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var w=g(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Ye.requestFormReset=function(y){r.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,w){return d.H.useFormState(y,_,w)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.1",Ye}var w_;function gb(){if(w_)return bd.exports;w_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),bd.exports=mb(),bd.exports}var R_;function pb(){if(R_)return hl;R_=1;var a=db(),t=om(),i=gb();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function w(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=w(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function jt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case st:return"Profiler";case $:return"StrictMode";case pt:return"Suspense";case ht:return"SuspenseList";case b:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case rt:return e.displayName||"Context";case tt:return(e._context.displayName||"Context")+".Consumer";case ct:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:jt(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return jt(e(n))}catch{}}return null}var Jt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Bt=[],Kt=-1;function M(e){return{current:e}}function X(e){0>Kt||(e.current=Bt[Kt],Bt[Kt]=null,Kt--)}function it(e,n){Kt++,Bt[Kt]=e.current,e.current=n}var ot=M(null),Et=M(null),Ct=M(null),Ut=M(null);function Ie(e,n){switch(it(Ct,n),it(Et,e),it(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?By(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=By(n),e=qy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ot),it(ot,e)}function ae(){X(ot),X(Et),X(Ct)}function Ws(e){e.memoizedState!==null&&it(Ut,e);var n=ot.current,s=qy(n,e.type);n!==s&&(it(Et,e),it(ot,s))}function Hr(e){Et.current===e&&(X(ot),X(Et)),Ut.current===e&&(X(Ut),al._currentValue=mt)}var Fr,Gr;function Jn(e){if(Fr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Fr=n&&n[1]||"",Gr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+e+Gr}var ro=!1;function tr(e,n){if(!e||ro)return"";ro=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(F){var q=F}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(F){q=F}e.call(Y.prototype)}}else{try{throw Error()}catch(F){q=F}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),j=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===j.length)for(o=I.length-1,h=j.length-1;1<=o&&0<=h&&I[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==j[h]){var Q=`
`+I[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{ro=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Jn(s):""}function ao(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return tr(e.type,!1);case 11:return tr(e.type.render,!1);case 1:return tr(e.type,!0);case 31:return Jn("Activity");default:return""}}function oo(e){try{var n="",s=null;do n+=ao(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Ne=a.unstable_scheduleCallback,ns=a.unstable_cancelCallback,_h=a.unstable_shouldYield,Bl=a.unstable_requestPaint,We=a.unstable_now,er=a.unstable_getCurrentPriorityLevel,lo=a.unstable_ImmediatePriority,uo=a.unstable_UserBlockingPriority,is=a.unstable_NormalPriority,vh=a.unstable_LowPriority,ql=a.unstable_IdlePriority,Hl=a.log,Fl=a.unstable_setDisableYieldValue,kn=null,Pe=null;function En(e){if(typeof Hl=="function"&&Fl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(kn,e)}catch{}}var de=Math.clz32?Math.clz32:Ql,Gl=Math.log,Qr=Math.LN2;function Ql(e){return e>>>=0,e===0?32:31-(Gl(e)/Qr|0)|0}var Zn=256,nr=262144,ve=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Wn(o):(p&=E,p!==0?h=Wn(p):s||(s=E&~e,s!==0&&(h=Wn(s))))):(E=o&~f,E!==0?h=Wn(E):p!==0?h=Wn(p):s||(s=o&~e,s!==0&&(h=Wn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Un(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Eh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ir(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Th(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(s=p&~s;0<s;){var Q=31-de(s),Y=1<<Q;E[Q]=0,I[Q]=-1;var q=j[Q];if(q!==null)for(j[Q]=null,Q=0;Q<q.length;Q++){var F=q[Q];F!==null&&(F.lane&=-536870913)}s&=~Y}o!==0&&sr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function sr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function co(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-de(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function ho(e,n){var s=n&-n;return s=(s&42)!==0?1:rr(s),(s&(e.suspendedLanes|n))!==0?0:s}function rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yl(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:h_(e.type))}function Ln(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var Pn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Pn,Ve="__reactProps$"+Pn,ni="__reactContainer$"+Pn,Kr="__reactEvents$"+Pn,bh="__reactListeners$"+Pn,Xl="__reactHandles$"+Pn,$l="__reactResources$"+Pn,ii="__reactMarker$"+Pn;function Yr(e){delete e[Ee],delete e[Ve],delete e[Kr],delete e[bh],delete e[Xl]}function si(e){var n=e[Ee];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ni]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Xy(e);e!==null;){if(s=e[Ee])return s;e=Xy(e)}return n}e=s,s=e.parentNode}return null}function Tn(e){if(e=e[Ee]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ri(e){var n=e[$l];return n||(n=e[$l]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[ii]=!0}var fo=new Set,mo={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(mo[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},yo={};function Jl(e){return _e.call(yo,e)?!0:_e.call(po,e)?!1:go.test(e)?yo[e]=!0:(po[e]=!0,!1)}function Xr(e,n,s){if(Jl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function fn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function be(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=ss(e)?"checked":"value";e._valueTracker=_o(e,n,""+e[n])}}function ar(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ss(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var or=/[\n"\\]/g;function nn(e){return e.replace(or,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $r(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?vo(e,p,ze(n)):s!=null?vo(e,p,ze(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function Zl(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}s=s!=null?""+ze(s):"",n=n!=null?""+ze(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Yt(e)}function vo(e,n,s){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function rs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ze(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Wl(e,n,s){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ze(s):""}function as(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(Jt(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ze(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Yt(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||tu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function To(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Eo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function Jr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zr(e){return os.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var bo=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ls=null,ui=null;function lr(e){var n=Tn(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if($r(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(r(90));$r(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ar(o)}break t;case"textarea":Wl(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&rs(e,!!s.multiple,n,!1)}}}var Wr=!1;function us(e,n,s){if(Wr)return e(n,s);Wr=!0;try{var o=e(n);return o}finally{if(Wr=!1,(ls!==null||ui!==null)&&(Yu(),ls&&(n=ls,e=ui,ui=ls=null,lr(n),e)))for(n=0;n<e.length;n++)lr(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ve]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ur=!1;if(Sn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){ur=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{ur=!1}var ci=null,So=null,cr=null;function Ao(){if(cr)return cr;var e,n=So,s=n.length,o,h="value"in ci?ci.value:ci.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return cr=h.slice(e,1<o?1-o:void 0)}function hr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function qn(){return!1}function je(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ii:qn,this.isPropagationStopped=qn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=je(Ni),cs=A({},Ni,{view:0,detail:0}),wo=je(cs),hs,ta,fi,ea=A({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(hs=e.screenX-fi.screenX,ta=e.screenY-fi.screenY):ta=hs=0,fi=e),hs)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),Ro=je(ea),fr=A({},ea,{dataTransfer:0}),nu=je(fr),iu=A({},cs,{relatedTarget:0}),dr=je(iu),Co=A({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),su=je(Co),na=A({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ru=je(na),au=A({},Ni,{data:0}),di=je(au),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uu[e])?!!n[e]:!1}function fs(){return cu}var tn=A({},cs,{key:function(e){if(e.key){var n=ou[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return e.type==="keypress"?hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hu=je(tn),fu=A({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=je(fu),u=A({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),m=je(u),v=A({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(v),L=A({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=je(L),et=A({},Ni,{newState:0,oldState:0}),wt=je(et),me=[9,13,27,32],Ft=Sn&&"CompositionEvent"in window,oe=null;Sn&&"documentMode"in document&&(oe=document.documentMode);var An=Sn&&"TextEvent"in window&&!oe,mi=Sn&&(!Ft||oe&&8<oe&&11>=oe),Hn=" ",Fn=!1;function mr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ia(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function OE(e,n){switch(e){case"compositionend":return ia(n);case"keypress":return n.which!==32?null:(Fn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Fn?null:e;default:return null}}function ME(e,n){if(sa)return e==="compositionend"||!Ft&&mr(e,n)?(e=Ao(),cr=So=ci=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var VE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!VE[e.type]:n==="textarea"}function Wm(e,n,s,o){ls?ui?ui.push(o):ui=[o]:ls=o,n=ec(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var xo=null,Io=null;function zE(e){zy(e,0)}function du(e){var n=hn(e);if(ar(n))return e}function tg(e,n){if(e==="change")return n}var eg=!1;if(Sn){var Sh;if(Sn){var Ah="oninput"in document;if(!Ah){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),Ah=typeof ng.oninput=="function"}Sh=Ah}else Sh=!1;eg=Sh&&(!document.documentMode||9<document.documentMode)}function ig(){xo&&(xo.detachEvent("onpropertychange",sg),Io=xo=null)}function sg(e){if(e.propertyName==="value"&&du(Io)){var n=[];Wm(n,Io,e,bn(e)),us(zE,n)}}function kE(e,n,s){e==="focusin"?(ig(),xo=n,Io=s,xo.attachEvent("onpropertychange",sg)):e==="focusout"&&ig()}function UE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(Io)}function LE(e,n){if(e==="click")return du(n)}function PE(e,n){if(e==="input"||e==="change")return du(n)}function jE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:jE;function No(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!_e.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,n){var s=rg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=rg(s)}}function og(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?og(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=li(e.document)}return n}function wh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var BE=Sn&&"documentMode"in document&&11>=document.documentMode,ra=null,Rh=null,Do=null,Ch=!1;function ug(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ch||ra==null||ra!==li(o)||(o=ra,"selectionStart"in o&&wh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Do&&No(Do,o)||(Do=o,o=ec(Rh,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ra)))}function gr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var aa={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},xh={},cg={};Sn&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function pr(e){if(xh[e])return xh[e];if(!aa[e])return e;var n=aa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in cg)return xh[e]=n[s];return e}var hg=pr("animationend"),fg=pr("animationiteration"),dg=pr("animationstart"),qE=pr("transitionrun"),HE=pr("transitionstart"),FE=pr("transitioncancel"),mg=pr("transitionend"),gg=new Map,Ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ih.push("scrollEnd");function Gn(e,n){gg.set(e,n),ai(n,[e])}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],oa=0,Nh=0;function gu(){for(var e=oa,n=Nh=oa=0;n<e;){var s=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&pg(s,h,f)}}function pu(e,n,s,o){wn[oa++]=e,wn[oa++]=n,wn[oa++]=s,wn[oa++]=o,Nh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Dh(e,n,s,o){return pu(e,n,s,o),yu(e)}function yr(e,n){return pu(e,null,null,n),yu(e)}function pg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function yu(e){if(50<Wo)throw Wo=0,Bf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var la={};function GE(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,o){return new GE(e,n,s,o)}function Oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function yg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")Oh(e)&&(p=1);else if(typeof e=="string")p=$T(e,s,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case b:return e=mn(31,s,n,h),e.elementType=b,e.lanes=f,e;case Z:return _r(s.children,h,f,n);case $:p=8,h|=24;break;case st:return e=mn(12,s,n,h|2),e.elementType=st,e.lanes=f,e;case pt:return e=mn(13,s,n,h),e.elementType=pt,e.lanes=f,e;case ht:return e=mn(19,s,n,h),e.elementType=ht,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rt:p=10;break t;case tt:p=9;break t;case ct:p=11;break t;case x:p=14;break t;case S:p=16,o=null;break t}p=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=mn(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function _r(e,n,s,o){return e=mn(7,e,o,n),e.lanes=s,e}function Mh(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function _g(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function Vh(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var vg=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var s=vg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:oo(n)},vg.set(e,n),n)}return{value:e,source:n,stack:oo(n)}}var ua=[],ca=0,vu=null,Oo=0,Cn=[],xn=0,ds=null,gi=1,pi="";function Mi(e,n){ua[ca++]=Oo,ua[ca++]=vu,vu=e,Oo=n}function Eg(e,n,s){Cn[xn++]=gi,Cn[xn++]=pi,Cn[xn++]=ds,ds=e;var o=gi;e=pi;var h=32-de(o)-1;o&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,gi=1<<32-de(n)+h|s<<h|o,pi=f+e}else gi=1<<f|s<<h|o,pi=e}function zh(e){e.return!==null&&(Mi(e,1),Eg(e,1,0))}function kh(e){for(;e===vu;)vu=ua[--ca],ua[ca]=null,Oo=ua[--ca],ua[ca]=null;for(;e===ds;)ds=Cn[--xn],Cn[xn]=null,pi=Cn[--xn],Cn[xn]=null,gi=Cn[--xn],Cn[xn]=null}function Tg(e,n){Cn[xn++]=gi,Cn[xn++]=pi,Cn[xn++]=ds,gi=n.id,pi=n.overflow,ds=e}var Be=null,ie=null,kt=!1,ms=null,In=!1,Uh=Error(r(519));function gs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(Rn(n,e)),Uh}function bg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ve]=o,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<el.length;s++)Nt(el[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Zl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),as(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Py(n.textContent,s)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||gs(e,!0)}function Sg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Be=Be.return}}function ha(e){if(e!==Be)return!1;if(!kt)return Sg(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||nd(e.type,e.memoizedProps)),s=!s),s&&ie&&gs(e),Sg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=Yy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=Yy(e)}else n===27?(n=ie,Is(e.type)?(e=od,od=null,ie=e):ie=n):ie=Be?Dn(e.stateNode.nextSibling):null;return!0}function vr(){ie=Be=null,kt=!1}function Lh(){var e=ms;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ms=null),e}function Mo(e){ms===null?ms=[e]:ms.push(e)}var Ph=M(null),Er=null,Vi=null;function ps(e,n,s){it(Ph,n._currentValue),n._currentValue=s}function zi(e){e._currentValue=Ph.current,X(Ph)}function jh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Bh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),jh(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),jh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function fa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;dn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&Bh(n,e,s,o),n.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Tr(e){Er=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Ag(Er,e)}function Tu(e,n){return Er===null&&Tr(e),Ag(e,n)}function Ag(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Vi===null){if(e===null)throw Error(r(308));Vi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vi=Vi.next=n;return s}var QE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},KE=a.unstable_scheduleCallback,YE=a.unstable_NormalPriority,Se={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new QE,data:new Map,refCount:0}}function Vo(e){e.refCount--,e.refCount===0&&KE(YE,function(){e.controller.abort()})}var zo=null,Hh=0,da=0,ma=null;function XE(e,n){if(zo===null){var s=zo=[];Hh=0,da=Kf(),ma={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Hh++,n.then(wg,wg),n}function wg(){if(--Hh===0&&zo!==null){ma!==null&&(ma.status="fulfilled");var e=zo;zo=null,da=0,ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function $E(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Rg=G.S;G.S=function(e,n){uy=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&XE(e,n),Rg!==null&&Rg(e,n)};var br=M(null);function Fh(){var e=br.current;return e!==null?e:ne.pooledCache}function bu(e,n){n===null?it(br,br.current):it(br,n.pool)}function Cg(){var e=Fh();return e===null?null:{parent:Se._currentValue,pool:e}}var ga=Error(r(460)),Gh=Error(r(474)),Su=Error(r(542)),Au={then:function(){}};function xg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ig(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Dg(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Dg(e),e}throw Ar=n,ga}}function Sr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ar=s,ga):s}}var Ar=null;function Ng(){if(Ar===null)throw Error(r(459));var e=Ar;return Ar=null,e}function Dg(e){if(e===ga||e===Su)throw Error(r(483))}var pa=null,ko=0;function wu(e){var n=ko;return ko+=1,pa===null&&(pa=[]),Ig(pa,e,n)}function Uo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===V?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Og(e){function n(k,O){if(e){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function s(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Oi(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,K){return O===null||O.tag!==6?(O=Mh(P,k.mode,K),O.return=k,O):(O=h(O,P),O.return=k,O)}function I(k,O,P,K){var dt=P.type;return dt===Z?Q(k,O,P.props.children,K,P.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Sr(dt)===O.type)?(O=h(O,P.props),Uo(O,P),O.return=k,O):(O=_u(P.type,P.key,P.props,null,k.mode,K),Uo(O,P),O.return=k,O)}function j(k,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Vh(P,k.mode,K),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function Q(k,O,P,K,dt){return O===null||O.tag!==7?(O=_r(P,k.mode,K,dt),O.return=k,O):(O=h(O,P),O.return=k,O)}function Y(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Mh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return P=_u(O.type,O.key,O.props,null,k.mode,P),Uo(P,O),P.return=k,P;case U:return O=Vh(O,k.mode,P),O.return=k,O;case S:return O=Sr(O),Y(k,O,P)}if(Jt(O)||z(O))return O=_r(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return Y(k,wu(O),P);if(O.$$typeof===rt)return Y(k,Tu(k,O),P);Ru(k,O)}return null}function q(k,O,P,K){var dt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:E(k,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===dt?I(k,O,P,K):null;case U:return P.key===dt?j(k,O,P,K):null;case S:return P=Sr(P),q(k,O,P,K)}if(Jt(P)||z(P))return dt!==null?null:Q(k,O,P,K,null);if(typeof P.then=="function")return q(k,O,wu(P),K);if(P.$$typeof===rt)return q(k,O,Tu(k,P),K);Ru(k,P)}return null}function F(k,O,P,K,dt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(O,k,""+K,dt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return k=k.get(K.key===null?P:K.key)||null,I(O,k,K,dt);case U:return k=k.get(K.key===null?P:K.key)||null,j(O,k,K,dt);case S:return K=Sr(K),F(k,O,P,K,dt)}if(Jt(K)||z(K))return k=k.get(P)||null,Q(O,k,K,dt,null);if(typeof K.then=="function")return F(k,O,P,wu(K),dt);if(K.$$typeof===rt)return F(k,O,P,Tu(O,K),dt);Ru(O,K)}return null}function lt(k,O,P,K){for(var dt=null,qt=null,ut=O,xt=O=0,Ot=null;ut!==null&&xt<P.length;xt++){ut.index>xt?(Ot=ut,ut=null):Ot=ut.sibling;var Ht=q(k,ut,P[xt],K);if(Ht===null){ut===null&&(ut=Ot);break}e&&ut&&Ht.alternate===null&&n(k,ut),O=f(Ht,O,xt),qt===null?dt=Ht:qt.sibling=Ht,qt=Ht,ut=Ot}if(xt===P.length)return s(k,ut),kt&&Mi(k,xt),dt;if(ut===null){for(;xt<P.length;xt++)ut=Y(k,P[xt],K),ut!==null&&(O=f(ut,O,xt),qt===null?dt=ut:qt.sibling=ut,qt=ut);return kt&&Mi(k,xt),dt}for(ut=o(ut);xt<P.length;xt++)Ot=F(ut,k,xt,P[xt],K),Ot!==null&&(e&&Ot.alternate!==null&&ut.delete(Ot.key===null?xt:Ot.key),O=f(Ot,O,xt),qt===null?dt=Ot:qt.sibling=Ot,qt=Ot);return e&&ut.forEach(function(Vs){return n(k,Vs)}),kt&&Mi(k,xt),dt}function yt(k,O,P,K){if(P==null)throw Error(r(151));for(var dt=null,qt=null,ut=O,xt=O=0,Ot=null,Ht=P.next();ut!==null&&!Ht.done;xt++,Ht=P.next()){ut.index>xt?(Ot=ut,ut=null):Ot=ut.sibling;var Vs=q(k,ut,Ht.value,K);if(Vs===null){ut===null&&(ut=Ot);break}e&&ut&&Vs.alternate===null&&n(k,ut),O=f(Vs,O,xt),qt===null?dt=Vs:qt.sibling=Vs,qt=Vs,ut=Ot}if(Ht.done)return s(k,ut),kt&&Mi(k,xt),dt;if(ut===null){for(;!Ht.done;xt++,Ht=P.next())Ht=Y(k,Ht.value,K),Ht!==null&&(O=f(Ht,O,xt),qt===null?dt=Ht:qt.sibling=Ht,qt=Ht);return kt&&Mi(k,xt),dt}for(ut=o(ut);!Ht.done;xt++,Ht=P.next())Ht=F(ut,k,xt,Ht.value,K),Ht!==null&&(e&&Ht.alternate!==null&&ut.delete(Ht.key===null?xt:Ht.key),O=f(Ht,O,xt),qt===null?dt=Ht:qt.sibling=Ht,qt=Ht);return e&&ut.forEach(function(ob){return n(k,ob)}),kt&&Mi(k,xt),dt}function ee(k,O,P,K){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:t:{for(var dt=P.key;O!==null;){if(O.key===dt){if(dt=P.type,dt===Z){if(O.tag===7){s(k,O.sibling),K=h(O,P.props.children),K.return=k,k=K;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Sr(dt)===O.type){s(k,O.sibling),K=h(O,P.props),Uo(K,P),K.return=k,k=K;break t}s(k,O);break}else n(k,O);O=O.sibling}P.type===Z?(K=_r(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=_u(P.type,P.key,P.props,null,k.mode,K),Uo(K,P),K.return=k,k=K)}return p(k);case U:t:{for(dt=P.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(k,O.sibling),K=h(O,P.children||[]),K.return=k,k=K;break t}else{s(k,O);break}else n(k,O);O=O.sibling}K=Vh(P,k.mode,K),K.return=k,k=K}return p(k);case S:return P=Sr(P),ee(k,O,P,K)}if(Jt(P))return lt(k,O,P,K);if(z(P)){if(dt=z(P),typeof dt!="function")throw Error(r(150));return P=dt.call(P),yt(k,O,P,K)}if(typeof P.then=="function")return ee(k,O,wu(P),K);if(P.$$typeof===rt)return ee(k,O,Tu(k,P),K);Ru(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(k,O.sibling),K=h(O,P),K.return=k,k=K):(s(k,O),K=Mh(P,k.mode,K),K.return=k,k=K),p(k)):s(k,O)}return function(k,O,P,K){try{ko=0;var dt=ee(k,O,P,K);return pa=null,dt}catch(ut){if(ut===ga||ut===Su)throw ut;var qt=mn(29,ut,null,k.mode);return qt.lanes=K,qt.return=k,qt}finally{}}}var wr=Og(!0),Mg=Og(!1),ys=!1;function Qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _s(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=yu(e),pg(e,null,s),n}return pu(e,o,n,s),yu(e)}function Lo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}function Yh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Xh=!1;function Po(){if(Xh){var e=ma;if(e!==null)throw e}}function jo(e,n,s,o){Xh=!1;var h=e.updateQueue;ys=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,j=I.next;I.next=null,p===null?f=j:p.next=j,p=I;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;p=0,Q=j=I=null,E=f;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(Dt&q)===q:(o&q)===q){q!==0&&q===da&&(Xh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,yt=E;q=n;var ee=s;switch(yt.tag){case 1:if(lt=yt.payload,typeof lt=="function"){Y=lt.call(ee,Y,q);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=yt.payload,q=typeof lt=="function"?lt.call(ee,Y,q):lt,q==null)break t;Y=A({},Y,q);break t;case 2:ys=!0}}q=E.callback,q!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=F,I=Y):Q=Q.next=F,p|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),As|=p,e.lanes=p,e.memoizedState=Y}}function Vg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function zg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Vg(s[e],n)}var ya=M(null),Cu=M(0);function kg(e,n){e=Fi,it(Cu,e),it(ya,n),Fi=e|n.baseLanes}function $h(){it(Cu,Fi),it(ya,ya.current)}function Jh(){Fi=Cu.current,X(ya),X(Cu)}var gn=M(null),Nn=null;function Es(e){var n=e.alternate;it(ge,ge.current&1),it(gn,e),Nn===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(Nn=e)}function Zh(e){it(ge,ge.current),it(gn,e),Nn===null&&(Nn=e)}function Ug(e){e.tag===22?(it(ge,ge.current),it(gn,e),Nn===null&&(Nn=e)):Ts()}function Ts(){it(ge,ge.current),it(gn,gn.current)}function pn(e){X(gn),Nn===e&&(Nn=null),X(ge)}var ge=M(0);function xu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||rd(s)||ad(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ki=0,Rt=null,Wt=null,Ae=null,Iu=!1,_a=!1,Rr=!1,Nu=0,Bo=0,va=null,JE=0;function he(){throw Error(r(321))}function Wh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!dn(e[s],n[s]))return!1;return!0}function tf(e,n,s,o,h,f){return ki=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Ep:pf,Rr=!1,f=s(o,h),Rr=!1,_a&&(f=Pg(n,s,o,h)),Lg(e),f}function Lg(e){G.H=Fo;var n=Wt!==null&&Wt.next!==null;if(ki=0,Ae=Wt=Rt=null,Iu=!1,Bo=0,va=null,n)throw Error(r(300));e===null||we||(e=e.dependencies,e!==null&&Eu(e)&&(we=!0))}function Pg(e,n,s,o){Rt=e;var h=0;do{if(_a&&(va=null),Bo=0,_a=!1,25<=h)throw Error(r(301));if(h+=1,Ae=Wt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Tp,f=n(s,o)}while(_a);return f}function ZE(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?qo(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function ef(){var e=Nu!==0;return Nu=0,e}function nf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function sf(e){if(Iu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Iu=!1}ki=0,Ae=Wt=Rt=null,_a=!1,Bo=Nu=0,va=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if(Wt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=Ae===null?Rt.memoizedState:Ae.next;if(n!==null)Ae=n,Wt=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var n=Bo;return Bo+=1,va===null&&(va=[]),e=Ig(va,e,n),n=Rt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Ep:pf),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===rt)return qe(e)}throw Error(r(438,String(e)))}function rf(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Du(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=D;return n.index++,s}function Ui(e,n){return typeof n=="function"?n(e):n}function Mu(e){var n=pe();return af(n,Wt,e)}function af(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,j=n,Q=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Dt&Y)===Y:(ki&Y)===Y){var q=j.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===da&&(Q=!0);else if((ki&q)===q){j=j.next,q===da&&(Q=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=Y,p=f):I=I.next=Y,Rt.lanes|=q,As|=q;Y=j.action,Rr&&s(f,Y),f=j.hasEagerState?j.eagerState:s(f,Y)}else q={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=q,p=f):I=I.next=q,Rt.lanes|=Y,As|=Y;j=j.next}while(j!==null&&j!==n);if(I===null?p=f:I.next=E,!dn(f,e.memoizedState)&&(we=!0,Q&&(s=ma,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function of(e){var n=pe(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);dn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function jg(e,n,s){var o=Rt,h=pe(),f=kt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var p=!dn((Wt||h).memoizedState,s);if(p&&(h.memoizedState=s,we=!0),h=h.queue,cf(Hg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Ea(9,{destroy:void 0},qg.bind(null,o,h,s,n),null),ne===null)throw Error(r(349));f||(ki&127)!==0||Bg(o,n,s)}return s}function Bg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=Du(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function qg(e,n,s,o){n.value=s,n.getSnapshot=o,Fg(n)&&Gg(e)}function Hg(e,n,s){return s(function(){Fg(n)&&Gg(e)})}function Fg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!dn(e,s)}catch{return!0}}function Gg(e){var n=yr(e,2);n!==null&&un(n,e,2)}function lf(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),Rr){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},n}function Qg(e,n,s,o){return e.baseState=s,af(e,Wt,typeof o=="function"?o:Ui)}function WE(e,n,s,o,h){if(ku(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Kg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Kg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(h,o),I=G.S;I!==null&&I(p,E),Yg(e,n,E)}catch(j){uf(e,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,o),Yg(e,n,f)}catch(j){uf(e,n,j)}}function Yg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Xg(e,n,o)},function(o){return uf(e,n,o)}):Xg(e,n,s)}function Xg(e,n,s){n.status="fulfilled",n.value=s,$g(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Kg(e,s)))}function uf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,$g(n),n=n.next;while(n!==o)}e.action=null}function $g(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Jg(e,n){return n}function Zg(e,n){if(kt){var s=ne.formState;if(s!==null){t:{var o=Rt;if(kt){if(ie){e:{for(var h=ie,f=In;h.nodeType!==8;){if(!f){h=null;break e}if(h=Dn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Dn(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:n},s.queue=o,s=yp.bind(null,Rt,o),o.dispatch=s,o=lf(!1),f=gf.bind(null,Rt,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=WE.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Wg(e){var n=pe();return tp(n,Wt,e)}function tp(e,n,s){if(n=af(e,n,Jg)[0],e=Mu(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qo(n)}catch(p){throw p===ga?Su:p}else o=n;n=pe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Ea(9,{destroy:void 0},tT.bind(null,h,s),null)),[o,f,e]}function tT(e,n){e.action=n}function ep(e){var n=pe(),s=Wt;if(s!==null)return tp(n,s,e);pe(),n=n.memoizedState,s=pe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ea(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Du(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function np(){return pe().memoizedState}function Vu(e,n,s,o){var h=en();Rt.flags|=e,h.memoizedState=Ea(1|n,{destroy:void 0},s,o===void 0?null:o)}function zu(e,n,s,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Wt!==null&&o!==null&&Wh(o,Wt.memoizedState.deps)?h.memoizedState=Ea(n,f,s,o):(Rt.flags|=e,h.memoizedState=Ea(1|n,f,s,o))}function ip(e,n){Vu(8390656,8,e,n)}function cf(e,n){zu(2048,8,e,n)}function eT(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Du(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function sp(e){var n=pe().memoizedState;return eT({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function rp(e,n){return zu(4,2,e,n)}function ap(e,n){return zu(4,4,e,n)}function op(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function lp(e,n,s){s=s!=null?s.concat([e]):null,zu(4,4,op.bind(null,n,e),s)}function hf(){}function up(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Wh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function cp(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Wh(n,o[1]))return o[0];if(o=e(),Rr){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o}function ff(e,n,s){return s===void 0||(ki&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=hy(),Rt.lanes|=e,As|=e,s)}function hp(e,n,s,o){return dn(s,n)?s:ya.current!==null?(e=ff(e,s,o),dn(e,n)||(we=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(Dt&261930)===0?(we=!0,e.memoizedState=s):(e=hy(),Rt.lanes|=e,As|=e,n)}function fp(e,n,s,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,gf(e,!1,n,s);try{var I=h(),j=G.S;if(j!==null&&j(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=$E(I,o);Ho(e,n,Q,vn(e))}else Ho(e,n,o,vn(e))}catch(Y){Ho(e,n,{then:function(){},status:"rejected",reason:Y},vn())}finally{nt.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function nT(){}function df(e,n,s,o){if(e.tag!==5)throw Error(r(476));var h=dp(e).queue;fp(e,h,n,mt,s===null?nT:function(){return mp(e),s(o)})}function dp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:mt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function mp(e){var n=dp(e);n.next===null&&(n=e.alternate.memoizedState),Ho(e,n.next.queue,{},vn())}function mf(){return qe(al)}function gp(){return pe().memoizedState}function pp(){return pe().memoizedState}function iT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();e=_s(s);var o=vs(n,e,s);o!==null&&(un(o,n,s),Lo(o,n,s)),n={cache:qh()},e.payload=n;return}n=n.return}}function sT(e,n,s){var o=vn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ku(e)?_p(n,s):(s=Dh(e,n,s,o),s!==null&&(un(s,e,o),vp(s,n,o)))}function yp(e,n,s){var o=vn();Ho(e,n,s,o)}function Ho(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ku(e))_p(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,dn(E,p))return pu(e,n,h,0),ne===null&&gu(),!1}catch{}finally{}if(s=Dh(e,n,h,o),s!==null)return un(s,e,o),vp(s,n,o),!0}return!1}function gf(e,n,s,o){if(o={lane:2,revertLane:Kf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ku(e)){if(n)throw Error(r(479))}else n=Dh(e,s,o,2),n!==null&&un(n,e,2)}function ku(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function _p(e,n){_a=Iu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function vp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}var Fo={readContext:qe,use:Ou,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Fo.useEffectEvent=he;var Ep={readContext:qe,use:Ou,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:ip,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Vu(4194308,4,op.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Vu(4194308,4,e,n)},useInsertionEffect:function(e,n){Vu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var o=e();if(Rr){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=en();if(s!==void 0){var h=s(n);if(Rr){En(!0);try{s(n)}finally{En(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=sT.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=lf(e);var n=e.queue,s=yp.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:hf,useDeferredValue:function(e,n){var s=en();return ff(s,e,n)},useTransition:function(){var e=lf(!1);return e=fp.bind(null,Rt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=en();if(kt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),ne===null)throw Error(r(349));(Dt&127)!==0||Bg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,ip(Hg.bind(null,o,f,e),[e]),o.flags|=2048,Ea(9,{destroy:void 0},qg.bind(null,o,f,s,n),null),s},useId:function(){var e=en(),n=ne.identifierPrefix;if(kt){var s=pi,o=gi;s=(o&~(1<<32-de(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Nu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=JE++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:mf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=gf.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:rf,useCacheRefresh:function(){return en().memoizedState=iT.bind(null,Rt)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((Gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},pf={readContext:qe,use:Ou,useCallback:up,useContext:qe,useEffect:cf,useImperativeHandle:lp,useInsertionEffect:rp,useLayoutEffect:ap,useMemo:cp,useReducer:Mu,useRef:np,useState:function(){return Mu(Ui)},useDebugValue:hf,useDeferredValue:function(e,n){var s=pe();return hp(s,Wt.memoizedState,e,n)},useTransition:function(){var e=Mu(Ui)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:jg,useId:gp,useHostTransitionStatus:mf,useFormState:Wg,useActionState:Wg,useOptimistic:function(e,n){var s=pe();return Qg(s,Wt,e,n)},useMemoCache:rf,useCacheRefresh:pp};pf.useEffectEvent=sp;var Tp={readContext:qe,use:Ou,useCallback:up,useContext:qe,useEffect:cf,useImperativeHandle:lp,useInsertionEffect:rp,useLayoutEffect:ap,useMemo:cp,useReducer:of,useRef:np,useState:function(){return of(Ui)},useDebugValue:hf,useDeferredValue:function(e,n){var s=pe();return Wt===null?ff(s,e,n):hp(s,Wt.memoizedState,e,n)},useTransition:function(){var e=of(Ui)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:jg,useId:gp,useHostTransitionStatus:mf,useFormState:ep,useActionState:ep,useOptimistic:function(e,n){var s=pe();return Wt!==null?Qg(s,Wt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:rf,useCacheRefresh:pp};Tp.useEffectEvent=sp;function yf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var _f={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=vn(),h=_s(o);h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,o),n!==null&&(un(n,e,o),Lo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=vn(),h=_s(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,o),n!==null&&(un(n,e,o),Lo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=vn(),o=_s(s);o.tag=2,n!=null&&(o.callback=n),n=vs(e,o,s),n!==null&&(un(n,e,s),Lo(n,e,s))}};function bp(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!No(s,o)||!No(h,f):!0}function Sp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&_f.enqueueReplaceState(n,n.state,null)}function Cr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Ap(e){mu(e)}function wp(e){console.error(e)}function Rp(e){mu(e)}function Uu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Cp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function vf(e,n,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){Uu(e,n)},s}function xp(e){return e=_s(e),e.tag=3,e}function Ip(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Cp(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Cp(n,s,o),typeof h!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function rT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&fa(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return Nn===null?Xu():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Au?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Ff(e,o,h)),!1;case 22:return s.flags|=65536,o===Au?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Ff(e,o,h)),!1}throw Error(r(435,s.tag))}return Ff(e,o,h),Xu(),!1}if(kt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Uh&&(e=Error(r(422),{cause:o}),Mo(Rn(e,s)))):(o!==Uh&&(n=Error(r(423),{cause:o}),Mo(Rn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Rn(o,s),h=vf(e.stateNode,o,h),Yh(e,h),fe!==4&&(fe=2)),!1;var f=Error(r(520),{cause:o});if(f=Rn(f,s),Zo===null?Zo=[f]:Zo.push(f),fe!==4&&(fe=2),n===null)return!0;o=Rn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=vf(s.stateNode,o,e),Yh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ws===null||!ws.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=xp(h),Ip(h,e,s,o),Yh(s,h),!1}s=s.return}while(s!==null);return!1}var Ef=Error(r(461)),we=!1;function He(e,n,s,o){n.child=e===null?Mg(n,null,s,o):wr(n,e.child,s,o)}function Np(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Tr(n),o=tf(e,n,s,p,f,h),E=ef(),e!==null&&!we?(nf(e,n,h),Li(e,n,h)):(kt&&E&&zh(n),n.flags|=1,He(e,n,o,h),n.child)}function Dp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Oh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Op(e,n,f,o,h)):(e=_u(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!xf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:No,s(p,o)&&e.ref===n.ref)return Li(e,n,h)}return n.flags|=1,e=Oi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Op(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(No(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,xf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,Li(e,n,h)}return Tf(e,n,s,o,h)}function Mp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Vp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(n,f!==null?f.cachePool:null),f!==null?kg(n,f):$h(),Ug(n);else return o=n.lanes=536870912,Vp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(bu(n,f.cachePool),kg(n,f),Ts(),n.memoizedState=null):(e!==null&&bu(n,null),$h(),Ts());return He(e,n,h,s),n.child}function Go(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Vp(e,n,s,o,h){var f=Fh();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&bu(n,null),$h(),Ug(n),e!==null&&fa(e,n,o,!0),n.childLanes=h,null}function Lu(e,n){return n=ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function zp(e,n,s){return wr(n,e.child,null,s),e=Lu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function aT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=Lu(n,o),n.lanes=536870912,Go(null,e);if(Zh(n),(e=ie)?(e=Ky(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=_g(e),s.return=n,n.child=s,Be=n,ie=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return Lu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(Zh(n),h)if(n.flags&256)n.flags&=-257,n=zp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(we||fa(e,n,s,!1),h=(s&e.childLanes)!==0,we||h){if(o=ne,o!==null&&(p=ho(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,yr(e,p),un(o,e,p),Ef;Xu(),n=zp(e,n,s)}else e=f.treeContext,ie=Dn(p.nextSibling),Be=n,kt=!0,ms=null,In=!1,e!==null&&Tg(n,e),n=Lu(n,o),n.flags|=4096;return n}return e=Oi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Pu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Tf(e,n,s,o,h){return Tr(n),s=tf(e,n,s,o,void 0,h),o=ef(),e!==null&&!we?(nf(e,n,h),Li(e,n,h)):(kt&&o&&zh(n),n.flags|=1,He(e,n,s,h),n.child)}function kp(e,n,s,o,h,f){return Tr(n),n.updateQueue=null,s=Pg(n,o,s,h),Lg(e),o=ef(),e!==null&&!we?(nf(e,n,f),Li(e,n,f)):(kt&&o&&zh(n),n.flags|=1,He(e,n,s,f),n.child)}function Up(e,n,s,o,h){if(Tr(n),n.stateNode===null){var f=la,p=s.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_f,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Qh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?qe(p):la,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(yf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&_f.enqueueReplaceState(f,f.state,null),jo(n,o,f,h),Po(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Cr(s,E);f.props=I;var j=f.context,Q=s.contextType;p=la,typeof Q=="object"&&Q!==null&&(p=qe(Q));var Y=s.getDerivedStateFromProps;Q=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==p)&&Sp(n,f,o,p),ys=!1;var q=n.memoizedState;f.state=q,jo(n,o,f,h),Po(),j=n.memoizedState,E||q!==j||ys?(typeof Y=="function"&&(yf(n,s,Y,o),j=n.memoizedState),(I=ys||bp(n,s,I,o,q,j,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Kh(e,n),p=n.memoizedProps,Q=Cr(s,p),f.props=Q,Y=n.pendingProps,q=f.context,j=s.contextType,I=la,typeof j=="object"&&j!==null&&(I=qe(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||q!==I)&&Sp(n,f,o,I),ys=!1,q=n.memoizedState,f.state=q,jo(n,o,f,h),Po();var F=n.memoizedState;p!==Y||q!==F||ys||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof E=="function"&&(yf(n,s,E,o),F=n.memoizedState),(Q=ys||bp(n,s,Q,o,q,F,I)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=I,o=Q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Pu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=wr(n,e.child,null,h),n.child=wr(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Li(e,n,h),e}function Lp(e,n,s,o){return vr(),n.flags|=256,He(e,n,s,o),n.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sf(e){return{baseLanes:e,cachePool:Cg()}}function Af(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=_n),e}function Pp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Es(n):Ts(),(e=ie)?(e=Ky(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=_g(e),s.return=n,n.child=s,Be=n,ie=null)):e=null,e===null)throw gs(n);return ad(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ts(),h=n.mode,E=ju({mode:"hidden",children:E},h),o=_r(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Sf(s),o.childLanes=Af(e,p,s),n.memoizedState=bf,Go(null,o)):(Es(n),wf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Es(n),n.flags&=-257,n=Rf(e,n,s)):n.memoizedState!==null?(Ts(),n.child=e.child,n.flags|=128,n=null):(Ts(),E=o.fallback,h=n.mode,o=ju({mode:"visible",children:o.children},h),E=_r(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,wr(n,e.child,null,s),o=n.child,o.memoizedState=Sf(s),o.childLanes=Af(e,p,s),n.memoizedState=bf,n=Go(null,o));else if(Es(n),ad(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(r(419)),o.stack="",o.digest=p,Mo({value:o,source:null,stack:null}),n=Rf(e,n,s)}else if(we||fa(e,n,s,!1),p=(s&e.childLanes)!==0,we||p){if(p=ne,p!==null&&(o=ho(p,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,yr(e,o),un(p,e,o),Ef;rd(E)||Xu(),n=Rf(e,n,s)}else rd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ie=Dn(E.nextSibling),Be=n,kt=!0,ms=null,In=!1,e!==null&&Tg(n,e),n=wf(n,o.children),n.flags|=4096);return n}return h?(Ts(),E=o.fallback,h=n.mode,I=e.child,j=I.sibling,o=Oi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,j!==null?E=Oi(j,E):(E=_r(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Go(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Sf(s):(h=E.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Cg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Af(e,p,s),n.memoizedState=bf,Go(e.child,o)):(Es(n),s=e.child,e=s.sibling,s=Oi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function wf(e,n){return n=ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ju(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function Rf(e,n,s){return wr(n,e.child,null,s),e=wf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function jp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),jh(e.return,n,s)}function Cf(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Bp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=ge.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,it(ge,p),He(e,n,o,s),o=kt?Oo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jp(e,s,n);else if(e.tag===19)jp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&xu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Cf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&xu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Cf(n,!0,s,null,f,o);break;case"together":Cf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Li(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),As|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(fa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Oi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Oi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function oT(e,n,s){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),ps(n,Se,e.memoizedState.cache),vr();break;case 27:case 5:Ws(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Zh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Es(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Pp(e,n,s):(Es(n),e=Li(e,n,s),e!==null?e.sibling:null);Es(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(fa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Bp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(ge,ge.current),o)break;return null;case 22:return n.lanes=0,Mp(e,n,s,n.pendingProps);case 24:ps(n,Se,e.memoizedState.cache)}return Li(e,n,s)}function qp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!xf(e,s)&&(n.flags&128)===0)return we=!1,oT(e,n,s);we=(e.flags&131072)!==0}else we=!1,kt&&(n.flags&1048576)!==0&&Eg(n,Oo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Sr(n.elementType),n.type=e,typeof e=="function")Oh(e)?(o=Cr(e,o),n.tag=1,n=Up(null,n,e,o,s)):(n.tag=0,n=Tf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===ct){n.tag=11,n=Np(null,n,e,o,s);break t}else if(h===x){n.tag=14,n=Dp(null,n,e,o,s);break t}}throw n=jt(e)||e,Error(r(306,n,""))}}return n;case 0:return Tf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Cr(o,n.pendingProps),Up(e,n,o,h,s);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Kh(e,n),jo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,ps(n,Se,o),o!==f.cache&&Bh(n,[Se],s,!0),Po(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Lp(e,n,o,s);break t}else if(o!==h){h=Rn(Error(r(424)),n),Mo(h),n=Lp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=Dn(e.firstChild),Be=n,kt=!0,ms=null,In=!0,s=Mg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(vr(),o===h){n=Li(e,n,s);break t}He(e,n,o,s)}n=n.child}return n;case 26:return Pu(e,n),e===null?(s=Wy(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,o=nc(Ct.current).createElement(s),o[Ee]=n,o[Ve]=e,Fe(o,s,e),Te(o),n.stateNode=o):n.memoizedState=Wy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ws(n),e===null&&kt&&(o=n.stateNode=$y(n.type,n.pendingProps,Ct.current),Be=n,In=!0,h=ie,Is(n.type)?(od=h,ie=Dn(o.firstChild)):ie=h),He(e,n,n.pendingProps.children,s),Pu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=ie)&&(o=UT(o,n.type,n.pendingProps,In),o!==null?(n.stateNode=o,Be=n,ie=Dn(o.firstChild),In=!1,h=!0):h=!1),h||gs(n)),Ws(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,nd(h,f)?o=null:p!==null&&nd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=tf(e,n,ZE,null,null,s),al._currentValue=h),Pu(e,n),He(e,n,o,s),n.child;case 6:return e===null&&kt&&((e=s=ie)&&(s=LT(s,n.pendingProps,In),s!==null?(n.stateNode=s,Be=n,ie=null,e=!0):e=!1),e||gs(n)),null;case 13:return Pp(e,n,s);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=wr(n,null,o,s):He(e,n,o,s),n.child;case 11:return Np(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ps(n,n.type,o.value),He(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Tr(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,s),n.child;case 14:return Dp(e,n,n.type,n.pendingProps,s);case 15:return Op(e,n,n.type,n.pendingProps,s);case 19:return Bp(e,n,s);case 31:return aT(e,n,s);case 22:return Mp(e,n,s,n.pendingProps);case 24:return Tr(n),o=qe(Se),e===null?(h=Fh(),h===null&&(h=ne,f=qh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Qh(n),ps(n,Se,h)):((e.lanes&s)!==0&&(Kh(e,n),jo(n,null,null,s),Po()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ps(n,Se,o)):(o=f.cache,ps(n,Se,o),o!==h.cache&&Bh(n,[Se],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Pi(e){e.flags|=4}function If(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(gy())e.flags|=8192;else throw Ar=Au,Gh}else e.flags&=-16777217}function Hp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!s_(n))if(gy())e.flags|=8192;else throw Ar=Au,Gh}function Bu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Kl():536870912,e.lanes|=n,Aa|=n)}function Qo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function lT(e,n,s){var o=n.pendingProps;switch(kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),zi(Se),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ha(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(se(n),Hp(n,f)):(se(n),If(n,h,null,o,s))):f?f!==e.memoizedState?(Pi(n),se(n),Hp(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Pi(n),se(n),If(n,h,e,o,s)),null;case 27:if(Hr(n),s=Ct.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return se(n),null}e=ot.current,ha(n)?bg(n):(e=$y(h,o,s),n.stateNode=e,Pi(n))}return se(n),null;case 5:if(Hr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return se(n),null}if(f=ot.current,ha(n))bg(n);else{var p=nc(Ct.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ee]=n,f[Ve]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Pi(n)}}return se(n),If(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=Ct.current,ha(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Py(e.nodeValue,s)),e||gs(n,!0)}else e=nc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return se(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ha(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ee]=n}else vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else s=Lh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ha(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ee]=n}else vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Lh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Bu(n,n.updateQueue),se(n),null);case 4:return ae(),e===null&&Jf(n.stateNode.containerInfo),se(n),null;case 10:return zi(n.type),se(n),null;case 19:if(X(ge),o=n.memoizedState,o===null)return se(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Qo(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=xu(e),f!==null){for(n.flags|=128,Qo(o,!1),e=f.updateQueue,n.updateQueue=e,Bu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)yg(s,e),s=s.sibling;return it(ge,ge.current&1|2),kt&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>Qu&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304)}else{if(!h)if(e=xu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Bu(n,e),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return se(n),null}else 2*We()-o.renderingStartTime>Qu&&s!==536870912&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,s=ge.current,it(ge,h?s&1|2:s&1),kt&&Mi(n,o.treeForkCount),e):(se(n),null);case 22:case 23:return pn(n),Jh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&Bu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&X(br),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),zi(Se),se(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function uT(e,n){switch(kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(Se),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Hr(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(r(340));vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(ge),null;case 4:return ae(),null;case 10:return zi(n.type),null;case 22:case 23:return pn(n),Jh(),e!==null&&X(br),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(Se),null;case 25:return null;default:return null}}function Fp(e,n){switch(kh(n),n.tag){case 3:zi(Se),ae();break;case 26:case 27:case 5:Hr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:X(ge);break;case 10:zi(n.type);break;case 22:case 23:pn(n),Jh(),e!==null&&X(br);break;case 24:zi(Se)}}function Ko(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){$t(n,n.return,E)}}function bs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=s,j=E;try{j()}catch(Q){$t(h,I,Q)}}}o=o.next}while(o!==f)}}catch(Q){$t(n,n.return,Q)}}function Gp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{zg(n,s)}catch(o){$t(e,e.return,o)}}}function Qp(e,n,s){s.props=Cr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function Yo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){$t(e,n,h)}}function yi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function Kp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function Nf(e,n,s){try{var o=e.stateNode;DT(o,e.type,s,n),o[Ve]=n}catch(h){$t(e,e.return,h)}}function Yp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Is(e.type)||e.tag===4}function Df(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Is(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&Is(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Of(e,n,s),e=e.sibling;e!==null;)Of(e,n,s),e=e.sibling}function qu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Is(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(qu(e,n,s),e=e.sibling;e!==null;)qu(e,n,s),e=e.sibling}function Xp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,s),n[Ee]=e,n[Ve]=s}catch(f){$t(e,e.return,f)}}var ji=!1,Re=!1,Mf=!1,$p=typeof WeakSet=="function"?WeakSet:Set,ke=null;function cT(e,n){if(e=e.containerInfo,td=uc,e=lg(e),wh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,I=-1,j=0,Q=0,Y=e,q=null;e:for(;;){for(var F;Y!==s||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(I=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(F=Y.firstChild)!==null;)q=Y,Y=F;for(;;){if(Y===e)break e;if(q===s&&++j===h&&(E=p),q===f&&++Q===o&&(I=p),(F=Y.nextSibling)!==null)break;Y=q,q=Y.parentNode}Y=F}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(ed={focusedElem:e,selectionRange:s},uc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var lt=Cr(s.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){$t(s,s.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)sd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function Jp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:qi(e,s),o&4&&Ko(5,s);break;case 1:if(qi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){$t(s,s.return,p)}else{var h=Cr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){$t(s,s.return,p)}}o&64&&Gp(s),o&512&&Yo(s,s.return);break;case 3:if(qi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{zg(e,n)}catch(p){$t(s,s.return,p)}}break;case 27:n===null&&o&4&&Xp(s);case 26:case 5:qi(e,s),n===null&&o&4&&Kp(s),o&512&&Yo(s,s.return);break;case 12:qi(e,s);break;case 31:qi(e,s),o&4&&ty(e,s);break;case 13:qi(e,s),o&4&&ey(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=vT.bind(null,s),PT(e,s))));break;case 22:if(o=s.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||Re,h=ji;var f=Re;ji=o,(Re=n)&&!f?Hi(e,s,(s.subtreeFlags&8772)!==0):qi(e,s),ji=h,Re=f}break;case 30:break;default:qi(e,s)}}function Zp(e){var n=e.alternate;n!==null&&(e.alternate=null,Zp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Yr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,rn=!1;function Bi(e,n,s){for(s=s.child;s!==null;)Wp(e,n,s),s=s.sibling}function Wp(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(kn,s)}catch{}switch(s.tag){case 26:Re||yi(s,n),Bi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Re||yi(s,n);var o=le,h=rn;Is(s.type)&&(le=s.stateNode,rn=!1),Bi(e,n,s),il(s.stateNode),le=o,rn=h;break;case 5:Re||yi(s,n);case 6:if(o=le,h=rn,le=null,Bi(e,n,s),le=o,rn=h,le!==null)if(rn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:le!==null&&(rn?(e=le,Gy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Oa(e)):Gy(le,s.stateNode));break;case 4:o=le,h=rn,le=s.stateNode.containerInfo,rn=!0,Bi(e,n,s),le=o,rn=h;break;case 0:case 11:case 14:case 15:bs(2,s,n),Re||bs(4,s,n),Bi(e,n,s);break;case 1:Re||(yi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Qp(s,n,o)),Bi(e,n,s);break;case 21:Bi(e,n,s);break;case 22:Re=(o=Re)||s.memoizedState!==null,Bi(e,n,s),Re=o;break;default:Bi(e,n,s)}}function ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oa(e)}catch(s){$t(n,n.return,s)}}}function ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oa(e)}catch(s){$t(n,n.return,s)}}function hT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new $p),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new $p),n;default:throw Error(r(435,e.tag))}}function Hu(e,n){var s=hT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=ET.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Is(E.type)){le=E.stateNode,rn=!1;break t}break;case 5:le=E.stateNode,rn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(le===null)throw Error(r(160));Wp(f,p,h),le=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ny(n,e),n=n.sibling}var Qn=null;function ny(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(bs(3,e,e.return),Ko(3,e),bs(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(Re||s===null||yi(s,s.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Qn;if(an(n,e),on(e),o&512&&(Re||s===null||yi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,s),f[Ee]=e,Te(f),o=f;break t;case"link":var p=n_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;case"meta":if(p=n_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else i_(h,e.type,e.stateNode);else e.stateNode=e_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?i_(h,e.type,e.stateNode):e_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Nf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(Re||s===null||yi(s,s.return)),s!==null&&o&4&&Nf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(Re||s===null||yi(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(lt){$t(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Nf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Mf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(lt){$t(e,e.return,lt)}}break;case 3:if(rc=null,h=Qn,Qn=ic(n.containerInfo),an(n,e),Qn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Oa(n.containerInfo)}catch(lt){$t(e,e.return,lt)}Mf&&(Mf=!1,iy(e));break;case 4:o=Qn,Qn=ic(e.stateNode.containerInfo),an(n,e),on(e),Qn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gu=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,j=ji,Q=Re;if(ji=j||h,Re=Q||I,an(n,e),Re=Q,ji=j,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||ji||Re||xr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,q=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(lt){$t(I,I.return,lt)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(lt){$t(I,I.return,lt)}}}else if(n.tag===18){if(s===null){I=n;try{var F=I.stateNode;h?Qy(F,!0):Qy(I.stateNode,!1)}catch(lt){$t(I,I.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Hu(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Yp(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=Df(e);qu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(sn(p,""),s.flags&=-33);var E=Df(e);qu(e,E,p);break;case 3:case 4:var I=s.stateNode.containerInfo,j=Df(e);Of(e,j,I);break;default:throw Error(r(161))}}catch(Q){$t(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function iy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Jp(e,n.alternate,n),n=n.sibling}function xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:bs(4,n,n.return),xr(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Qp(n,n.return,s),xr(n);break;case 27:il(n.stateNode);case 26:case 5:yi(n,n.return),xr(n);break;case 22:n.memoizedState===null&&xr(n);break;case 30:xr(n);break;default:xr(n)}e=e.sibling}}function Hi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,s),Ko(4,f);break;case 1:if(Hi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){$t(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Vg(I[h],E)}catch(j){$t(o,o.return,j)}}s&&p&64&&Gp(f),Yo(f,f.return);break;case 27:Xp(f);case 26:case 5:Hi(h,f,s),s&&o===null&&p&4&&Kp(f),Yo(f,f.return);break;case 12:Hi(h,f,s);break;case 31:Hi(h,f,s),s&&p&4&&ty(h,f);break;case 13:Hi(h,f,s),s&&p&4&&ey(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,s),Yo(f,f.return);break;case 30:break;default:Hi(h,f,s)}n=n.sibling}}function Vf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Vo(s))}function zf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e))}function Kn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sy(e,n,s,o),n=n.sibling}function sy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,s,o),h&2048&&Ko(9,n);break;case 1:Kn(e,n,s,o);break;case 3:Kn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e)));break;case 12:if(h&2048){Kn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){$t(n,n.return,I)}}else Kn(e,n,s,o);break;case 31:Kn(e,n,s,o);break;case 13:Kn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,s,o):Xo(e,n):f._visibility&2?Kn(e,n,s,o):(f._visibility|=2,Ta(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Vf(p,n);break;case 24:Kn(e,n,s,o),h&2048&&zf(n.alternate,n);break;default:Kn(e,n,s,o)}}function Ta(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,I=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:Ta(f,p,E,I,h),Ko(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Ta(f,p,E,I,h):Xo(f,p):(Q._visibility|=2,Ta(f,p,E,I,h)),h&&j&2048&&Vf(p.alternate,p);break;case 24:Ta(f,p,E,I,h),h&&j&2048&&zf(p.alternate,p);break;default:Ta(f,p,E,I,h)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Xo(s,o),h&2048&&Vf(o.alternate,o);break;case 24:Xo(s,o),h&2048&&zf(o.alternate,o);break;default:Xo(s,o)}n=n.sibling}}var $o=8192;function ba(e,n,s){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)ry(e,n,s),e=e.sibling}function ry(e,n,s){switch(e.tag){case 26:ba(e,n,s),e.flags&$o&&e.memoizedState!==null&&JT(s,Qn,e.memoizedState,e.memoizedProps);break;case 5:ba(e,n,s);break;case 3:case 4:var o=Qn;Qn=ic(e.stateNode.containerInfo),ba(e,n,s),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=$o,$o=16777216,ba(e,n,s),$o=o):ba(e,n,s));break;default:ba(e,n,s)}}function ay(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,ly(o,e)}ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)oy(e),e=e.sibling}function oy(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&bs(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fu(e)):Jo(e);break;default:Jo(e)}}function Fu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,ly(o,e)}ay(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:bs(8,n,n.return),Fu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Fu(n));break;default:Fu(n)}e=e.sibling}}function ly(e,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:bs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Vo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ke=o;else t:for(s=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(Zp(o),o===s){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var fT={getCacheForType:function(e){var n=qe(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Se).controller.signal}},dT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,It=null,Dt=0,Xt=0,yn=null,Ss=!1,Sa=!1,kf=!1,Fi=0,fe=0,As=0,Ir=0,Uf=0,_n=0,Aa=0,Zo=null,ln=null,Lf=!1,Gu=0,uy=0,Qu=1/0,Ku=null,ws=null,De=0,Rs=null,wa=null,Gi=0,Pf=0,jf=null,cy=null,Wo=0,Bf=null;function vn(){return(Gt&2)!==0&&Dt!==0?Dt&-Dt:G.T!==null?Kf():Yl()}function hy(){if(_n===0)if((Dt&536870912)===0||kt){var e=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function un(e,n,s){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ra(e,0),Cs(e,Dt,_n,!1)),ir(e,s),((Gt&2)===0||e!==ne)&&(e===ne&&((Gt&2)===0&&(Ir|=s),fe===4&&Cs(e,Dt,_n,!1)),_i(e))}function fy(e,n,s){if((Gt&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Un(e,n),h=o?pT(e,n):Hf(e,n,!0),f=o;do{if(h===0){Sa&&!o&&Cs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!mT(s)){h=Hf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=Zo;var I=E.current.memoizedState.isDehydrated;if(I&&(Ra(E,p).flags|=256),p=Hf(E,p,!1),p!==2){if(kf&&!I){E.errorRecoveryDisabledLanes|=f,Ir|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ra(e,0),Cs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Cs(o,n,_n,!Ss);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Gu+300-We(),10<h)){if(Cs(o,n,_n,!Ss),ti(o,0,!0)!==0)break t;Gi=n,o.timeoutHandle=Hy(dy.bind(null,o,s,ln,Ku,Lf,n,_n,Ir,Aa,Ss,f,"Throttled",-0,0),h);break t}dy(o,s,ln,Ku,Lf,n,_n,Ir,Aa,Ss,f,null,-0,0)}}break}while(!0);_i(e)}function dy(e,n,s,o,h,f,p,E,I,j,Q,Y,q,F){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},ry(n,f,Y);var lt=(f&62914560)===f?Gu-We():(f&4194048)===f?uy-We():0;if(lt=ZT(Y,lt),lt!==null){Gi=f,e.cancelPendingCommit=lt(Ty.bind(null,e,n,f,s,o,h,p,E,I,Q,Y,null,q,F)),Cs(e,f,p,!j);return}}Ty(e,n,f,s,o,h,p,E,I)}function mT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(e,n,s,o){n&=~Uf,n&=~Ir,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&sr(e,s,n)}function Yu(){return(Gt&6)===0?(tl(0),!1):!0}function qf(){if(It!==null){if(Xt===0)var e=It.return;else e=It,Vi=Er=null,sf(e),pa=null,ko=0,e=It;for(;e!==null;)Fp(e.alternate,e),e=e.return;It=null}}function Ra(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,VT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Gi=0,qf(),ne=e,It=s=Oi(e.current,null),Dt=n,Xt=0,yn=null,Ss=!1,Sa=Un(e,n),kf=!1,Aa=_n=Uf=Ir=As=fe=0,ln=Zo=null,Lf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Fi=n,gu(),s}function my(e,n){Rt=null,G.H=Fo,n===ga||n===Su?(n=Ng(),Xt=3):n===Gh?(n=Ng(),Xt=4):Xt=n===Ef?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,It===null&&(fe=1,Uu(e,Rn(n,e.current)))}function gy(){var e=gn.current;return e===null?!0:(Dt&4194048)===Dt?Nn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Nn:!1}function py(){var e=G.H;return G.H=Fo,e===null?Fo:e}function yy(){var e=G.A;return G.A=fT,e}function Xu(){fe=4,Ss||(Dt&4194048)!==Dt&&gn.current!==null||(Sa=!0),(As&134217727)===0&&(Ir&134217727)===0||ne===null||Cs(ne,Dt,_n,!1)}function Hf(e,n,s){var o=Gt;Gt|=2;var h=py(),f=yy();(ne!==e||Dt!==n)&&(Ku=null,Ra(e,n)),n=!1;var p=fe;t:do try{if(Xt!==0&&It!==null){var E=It,I=yn;switch(Xt){case 8:qf(),p=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var j=Xt;if(Xt=0,yn=null,Ca(e,E,I,j),s&&Sa){p=0;break t}break;default:j=Xt,Xt=0,yn=null,Ca(e,E,I,j)}}gT(),p=fe;break}catch(Q){my(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Vi=Er=null,Gt=o,G.H=h,G.A=f,It===null&&(ne=null,Dt=0,gu()),p}function gT(){for(;It!==null;)_y(It)}function pT(e,n){var s=Gt;Gt|=2;var o=py(),h=yy();ne!==e||Dt!==n?(Ku=null,Qu=We()+500,Ra(e,n)):Sa=Un(e,n);t:do try{if(Xt!==0&&It!==null){n=It;var f=yn;e:switch(Xt){case 1:Xt=0,yn=null,Ca(e,n,f,1);break;case 2:case 9:if(xg(f)){Xt=0,yn=null,vy(n);break}n=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),_i(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:xg(f)?(Xt=0,yn=null,vy(n)):(Xt=0,yn=null,Ca(e,n,f,7));break;case 5:var p=null;switch(It.tag){case 26:p=It.memoizedState;case 5:case 27:var E=It;if(p?s_(p):E.stateNode.complete){Xt=0,yn=null;var I=E.sibling;if(I!==null)It=I;else{var j=E.return;j!==null?(It=j,$u(j)):It=null}break e}}Xt=0,yn=null,Ca(e,n,f,5);break;case 6:Xt=0,yn=null,Ca(e,n,f,6);break;case 8:qf(),fe=6;break t;default:throw Error(r(462))}}yT();break}catch(Q){my(e,Q)}while(!0);return Vi=Er=null,G.H=o,G.A=h,Gt=s,It!==null?0:(ne=null,Dt=0,gu(),fe)}function yT(){for(;It!==null&&!_h();)_y(It)}function _y(e){var n=qp(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?$u(e):It=n}function vy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=kp(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=kp(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:sf(n);default:Fp(s,n),n=It=yg(n,Fi),n=qp(s,n,Fi)}e.memoizedProps=e.pendingProps,n===null?$u(e):It=n}function Ca(e,n,s,o){Vi=Er=null,sf(n),pa=null,ko=0;var h=n.return;try{if(rT(e,h,n,s,Dt)){fe=1,Uu(e,Rn(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;fe=1,Uu(e,Rn(s,e.current)),It=null;return}n.flags&32768?(kt||o===1?e=!0:Sa||(Dt&536870912)!==0?e=!1:(Ss=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ey(n,e)):$u(n)}function $u(e){var n=e;do{if((n.flags&32768)!==0){Ey(n,Ss);return}e=n.return;var s=lT(n.alternate,n,Fi);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);fe===0&&(fe=5)}function Ey(e,n){do{var s=uT(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);fe=6,It=null}function Ty(e,n,s,o,h,f,p,E,I){e.cancelPendingCommit=null;do Ju();while(De!==0);if((Gt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Nh,Th(e,s,f,p,E,I),e===ne&&(It=ne=null,Dt=0),wa=n,Rs=e,Gi=s,Pf=f,jf=h,cy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,TT(is,function(){return Ry(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,p=Gt,Gt|=4;try{cT(e,n,s)}finally{Gt=p,nt.p=h,G.T=o}}De=1,by(),Sy(),Ay()}}function by(){if(De===1){De=0;var e=Rs,n=wa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Gt;Gt|=4;try{ny(n,e);var f=ed,p=lg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&og(E.ownerDocument.documentElement,E)){if(I!==null&&wh(E)){var j=I.start,Q=I.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var Y=E.ownerDocument||document,q=Y&&Y.defaultView||window;if(q.getSelection){var F=q.getSelection(),lt=E.textContent.length,yt=Math.min(I.start,lt),ee=I.end===void 0?yt:Math.min(I.end,lt);!F.extend&&yt>ee&&(p=ee,ee=yt,yt=p);var k=ag(E,yt),O=ag(E,ee);if(k&&O&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),yt>ee?(F.addRange(P),F.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),F.addRange(P))}}}}for(Y=[],F=E;F=F.parentNode;)F.nodeType===1&&Y.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}uc=!!td,ed=td=null}finally{Gt=h,nt.p=o,G.T=s}}e.current=n,De=2}}function Sy(){if(De===2){De=0;var e=Rs,n=wa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Gt;Gt|=4;try{Jp(e,n.alternate,n)}finally{Gt=h,nt.p=o,G.T=s}}De=3}}function Ay(){if(De===4||De===3){De=0,Bl();var e=Rs,n=wa,s=Gi,o=cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,wa=Rs=null,wy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ws=null),xi(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,nt.p=h}}(Gi&3)!==0&&Ju(),_i(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Bf?Wo++:(Wo=0,Bf=e):Wo=0,tl(0)}}function wy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Vo(n)))}function Ju(){return by(),Sy(),Ay(),Ry()}function Ry(){if(De!==5)return!1;var e=Rs,n=Pf;Pf=0;var s=xi(Gi),o=G.T,h=nt.p;try{nt.p=32>s?32:s,G.T=null,s=jf,jf=null;var f=Rs,p=Gi;if(De=0,wa=Rs=null,Gi=0,(Gt&6)!==0)throw Error(r(331));var E=Gt;if(Gt|=4,oy(f.current),sy(f,f.current,p,s),Gt=E,tl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{nt.p=h,G.T=o,wy(e,n)}}function Cy(e,n,s){n=Rn(s,n),n=vf(e.stateNode,n,2),e=vs(e,n,2),e!==null&&(ir(e,2),_i(e))}function $t(e,n,s){if(e.tag===3)Cy(e,e,s);else for(;n!==null;){if(n.tag===3){Cy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ws===null||!ws.has(o))){e=Rn(s,e),s=xp(2),o=vs(n,s,2),o!==null&&(Ip(s,o,n,e),ir(o,2),_i(o));break}}n=n.return}}function Ff(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new dT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(kf=!0,h.add(s),e=_T.bind(null,e,n,s),n.then(e,e))}function _T(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ne===e&&(Dt&s)===s&&(fe===4||fe===3&&(Dt&62914560)===Dt&&300>We()-Gu?(Gt&2)===0&&Ra(e,0):Uf|=s,Aa===Dt&&(Aa=0)),_i(e)}function xy(e,n){n===0&&(n=Kl()),e=yr(e,n),e!==null&&(ir(e,n),_i(e))}function vT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),xy(e,s)}function ET(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),xy(e,s)}function TT(e,n){return Ne(e,n)}var Zu=null,xa=null,Gf=!1,Wu=!1,Qf=!1,xs=0;function _i(e){e!==xa&&e.next===null&&(xa===null?Zu=xa=e:xa=xa.next=e),Wu=!0,Gf||(Gf=!0,ST())}function tl(e,n){if(!Qf&&Wu){Qf=!0;do for(var s=!1,o=Zu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Oy(o,f))}else f=Dt,f=ti(o,o===ne?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Un(o,f)||(s=!0,Oy(o,f));o=o.next}while(s);Qf=!1}}function bT(){Iy()}function Iy(){Wu=Gf=!1;var e=0;xs!==0&&MT()&&(e=xs);for(var n=We(),s=null,o=Zu;o!==null;){var h=o.next,f=Ny(o,n);f===0?(o.next=null,s===null?Zu=h:s.next=h,h===null&&(xa=s)):(s=o,(e!==0||(f&3)!==0)&&(Wu=!0)),o=h}De!==0&&De!==5||tl(e),xs!==0&&(xs=0)}function Ny(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-de(f),E=1<<p,I=h[p];I===-1?((E&s)===0||(E&o)!==0)&&(h[p]=Eh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=ne,s=Dt,s=ti(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ns(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Un(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ns(o),xi(s)){case 2:case 8:s=uo;break;case 32:s=is;break;case 268435456:s=ql;break;default:s=is}return o=Dy.bind(null,e),s=Ne(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ns(o),e.callbackPriority=2,e.callbackNode=null,2}function Dy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ju()&&e.callbackNode!==s)return null;var o=Dt;return o=ti(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(fy(e,o,n),Ny(e,We()),e.callbackNode!=null&&e.callbackNode===s?Dy.bind(null,e):null)}function Oy(e,n){if(Ju())return null;fy(e,n,!0)}function ST(){zT(function(){(Gt&6)!==0?Ne(lo,bT):Iy()})}function Kf(){if(xs===0){var e=da;e===0&&(e=Zn,Zn<<=1,(Zn&261888)===0&&(Zn=256)),xs=e}return xs}function My(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zr(""+e)}function Vy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function AT(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=My((h[Ve]||null).action),p=o.submitter;p&&(n=(n=p[Ve]||null)?My(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new hi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xs!==0){var I=p?Vy(h,p):new FormData(h);df(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?Vy(h,p):new FormData(h),df(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Yf=0;Yf<Ih.length;Yf++){var Xf=Ih[Yf],wT=Xf.toLowerCase(),RT=Xf[0].toUpperCase()+Xf.slice(1);Gn(wT,"on"+RT)}Gn(hg,"onAnimationEnd"),Gn(fg,"onAnimationIteration"),Gn(dg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(qE,"onTransitionRun"),Gn(HE,"onTransitionStart"),Gn(FE,"onTransitionCancel"),Gn(mg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function zy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,j=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Q){mu(Q)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,j=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Q){mu(Q)}h.currentTarget=null,f=I}}}}function Nt(e,n){var s=n[Kr];s===void 0&&(s=n[Kr]=new Set);var o=e+"__bubble";s.has(o)||(ky(n,e,2,!1),s.add(o))}function $f(e,n,s){var o=0;n&&(o|=4),ky(s,e,o,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function Jf(e){if(!e[tc]){e[tc]=!0,fo.forEach(function(s){s!=="selectionchange"&&(CT.has(s)||$f(s,!1,e),$f(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tc]||(n[tc]=!0,$f("selectionchange",!1,n))}}function ky(e,n,s,o){switch(h_(n)){case 2:var h=eb;break;case 8:h=nb;break;default:h=fd}s=h.bind(null,n,s,e),h=void 0,!ur||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Zf(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=si(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue t}E=E.parentNode}}o=o.return}us(function(){var j=f,Q=bn(s),Y=[];t:{var q=gg.get(e);if(q!==void 0){var F=hi,lt=e;switch(e){case"keypress":if(hr(s)===0)break t;case"keydown":case"keyup":F=hu;break;case"focusin":lt="focus",F=dr;break;case"focusout":lt="blur",F=dr;break;case"beforeblur":case"afterblur":F=dr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case hg:case fg:case dg:F=su;break;case mg:F=T;break;case"scroll":case"scrollend":F=wo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Di;break;case"toggle":case"beforetoggle":F=wt}var yt=(n&4)!==0,ee=!yt&&(e==="scroll"||e==="scrollend"),k=yt?q!==null?q+"Capture":null:q;yt=[];for(var O=j,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Bn(O,k),K!=null&&yt.push(nl(O,K,P))),ee)break;O=O.return}0<yt.length&&(q=new F(q,lt,null,s,Q),Y.push({event:q,listeners:yt}))}}if((n&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",q&&s!==bo&&(lt=s.relatedTarget||s.fromElement)&&(si(lt)||lt[ni]))break t;if((F||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,F?(lt=s.relatedTarget||s.toElement,F=j,lt=lt?si(lt):null,lt!==null&&(ee=c(lt),yt=lt.tag,lt!==ee||yt!==5&&yt!==27&&yt!==6)&&(lt=null)):(F=null,lt=j),F!==lt)){if(yt=Ro,K="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Di,K="onPointerLeave",k="onPointerEnter",O="pointer"),ee=F==null?q:hn(F),P=lt==null?q:hn(lt),q=new yt(K,O+"leave",F,s,Q),q.target=ee,q.relatedTarget=P,K=null,si(Q)===j&&(yt=new yt(k,O+"enter",lt,s,Q),yt.target=P,yt.relatedTarget=ee,K=yt),ee=K,F&&lt)e:{for(yt=xT,k=F,O=lt,P=0,K=k;K;K=yt(K))P++;K=0;for(var dt=O;dt;dt=yt(dt))K++;for(;0<P-K;)k=yt(k),P--;for(;0<K-P;)O=yt(O),K--;for(;P--;){if(k===O||O!==null&&k===O.alternate){yt=k;break e}k=yt(k),O=yt(O)}yt=null}else yt=null;F!==null&&Uy(Y,q,F,yt,!1),lt!==null&&ee!==null&&Uy(Y,ee,lt,yt,!0)}}t:{if(q=j?hn(j):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var qt=tg;else if(Zm(q))if(eg)qt=PE;else{qt=UE;var ut=kE}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&Jr(j.elementType)&&(qt=tg):qt=LE;if(qt&&(qt=qt(e,j))){Wm(Y,qt,s,Q);break t}ut&&ut(e,q,j),e==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&vo(q,"number",q.value)}switch(ut=j?hn(j):window,e){case"focusin":(Zm(ut)||ut.contentEditable==="true")&&(ra=ut,Rh=j,Do=null);break;case"focusout":Do=Rh=ra=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,ug(Y,s,Q);break;case"selectionchange":if(BE)break;case"keydown":case"keyup":ug(Y,s,Q)}var xt;if(Ft)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else sa?mr(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(mi&&s.locale!=="ko"&&(sa||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&sa&&(xt=Ao()):(ci=Q,So="value"in ci?ci.value:ci.textContent,sa=!0)),ut=ec(j,Ot),0<ut.length&&(Ot=new di(Ot,e,null,s,Q),Y.push({event:Ot,listeners:ut}),xt?Ot.data=xt:(xt=ia(s),xt!==null&&(Ot.data=xt)))),(xt=An?OE(e,s):ME(e,s))&&(Ot=ec(j,"onBeforeInput"),0<Ot.length&&(ut=new di("onBeforeInput","beforeinput",null,s,Q),Y.push({event:ut,listeners:Ot}),ut.data=xt)),AT(Y,e,j,s,Q)}zy(Y,n)})}function nl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ec(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,s),h!=null&&o.unshift(nl(e,h,f)),h=Bn(e,n),h!=null&&o.push(nl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function xT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Uy(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,I=E.alternate,j=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||j===null||(I=j,h?(j=Bn(s,f),j!=null&&p.unshift(nl(s,j,I))):h||(j=Bn(s,f),j!=null&&p.push(nl(s,j,I)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var IT=/\r\n?/g,NT=/\u0000|\uFFFD/g;function Ly(e){return(typeof e=="string"?e:""+e).replace(IT,`
`).replace(NT,"")}function Py(e,n){return n=Ly(n),Ly(e)===n}function te(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,s,o);break;case"style":To(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Zr(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Zr(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=jn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Zr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),Xr(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=eu.get(s)||s,Xr(e,s,o))}}function Wf(e,n,s,o,h,f){switch(s){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Xr(e,s,o)}}}function Fe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:te(e,n,f,p,s,null)}}h&&te(e,n,"srcSet",s.srcSet,s,null),o&&te(e,n,"src",s.src,s,null);return;case"input":Nt("invalid",e);var E=f=p=h=null,I=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":p=Q;break;case"checked":I=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:te(e,n,o,Q,s,null)}}Zl(e,f,E,I,j,p,h,!1);return;case"select":Nt("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:te(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?rs(e,!!o,n,!1):s!=null&&rs(e,!!o,s,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:te(e,n,p,E,s,null)}as(e,o,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:te(e,n,I,o,s,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)Nt(el[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:te(e,n,j,o,s,null)}return;default:if(Jr(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&Wf(e,n,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&te(e,n,E,o,s,null))}function DT(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,j=null,Q=null;for(F in s){var Y=s[F];if(s.hasOwnProperty(F)&&Y!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=Y;default:o.hasOwnProperty(F)||te(e,n,F,null,o,Y)}}for(var q in o){var F=o[q];if(Y=s[q],o.hasOwnProperty(q)&&(F!=null||Y!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":Q=F;break;case"value":p=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==Y&&te(e,n,q,F,o,Y)}}$r(e,p,E,I,j,Q,f,h);return;case"select":F=p=E=q=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":F=I;default:o.hasOwnProperty(f)||te(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&te(e,n,h,f,o,I)}n=E,s=p,o=F,q!=null?rs(e,!!s,q,!1):!!o!=!!s&&(n!=null?rs(e,!!s,n,!0):rs(e,!!s,s?[]:"",!1));return;case"textarea":F=q=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&te(e,n,p,h,o,f)}Wl(e,q,F);return;case"option":for(var lt in s)if(q=s[lt],s.hasOwnProperty(lt)&&q!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:te(e,n,lt,null,o,q)}for(I in o)if(q=o[I],F=s[I],o.hasOwnProperty(I)&&q!==F&&(q!=null||F!=null))switch(I){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:te(e,n,I,q,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)q=s[yt],s.hasOwnProperty(yt)&&q!=null&&!o.hasOwnProperty(yt)&&te(e,n,yt,null,o,q);for(j in o)if(q=o[j],F=s[j],o.hasOwnProperty(j)&&q!==F&&(q!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:te(e,n,j,q,o,F)}return;default:if(Jr(n)){for(var ee in s)q=s[ee],s.hasOwnProperty(ee)&&q!==void 0&&!o.hasOwnProperty(ee)&&Wf(e,n,ee,void 0,o,q);for(Q in o)q=o[Q],F=s[Q],!o.hasOwnProperty(Q)||q===F||q===void 0&&F===void 0||Wf(e,n,Q,q,o,F);return}}for(var k in s)q=s[k],s.hasOwnProperty(k)&&q!=null&&!o.hasOwnProperty(k)&&te(e,n,k,null,o,q);for(Y in o)q=o[Y],F=s[Y],!o.hasOwnProperty(Y)||q===F||q==null&&F==null||te(e,n,Y,q,o,F)}function jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&jy(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],j=I.startTime;if(j>E)break;var Q=I.transferSize,Y=I.initiatorType;Q&&jy(Y)&&(I=I.responseEnd,p+=Q*(I<E?1:(E-j)/(I-j)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var td=null,ed=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function By(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function nd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var id=null;function MT(){var e=window.event;return e&&e.type==="popstate"?e===id?!1:(id=e,!0):(id=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,VT=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,zT=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(e){return Fy.resolve(null).then(e).catch(kT)}:Hy;function kT(e){setTimeout(function(){throw e})}function Is(e){return e==="head"}function Gy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Oa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")il(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,il(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&il(e.ownerDocument.body);s=h}while(s);Oa(n)}function Qy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":sd(s),Yr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function UT(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function LT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Dn(e.nextSibling),e===null))return null;return e}function Ky(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function rd(e){return e.data==="$?"||e.data==="$~"}function ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function PT(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Dn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var od=null;function Yy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Dn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Xy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function $y(e,n,s){switch(n=nc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Yr(e)}var On=new Map,Jy=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=nt.d;nt.d={f:jT,r:BT,D:qT,C:HT,L:FT,m:GT,X:KT,S:QT,M:YT};function jT(){var e=Qi.f(),n=Yu();return e||n}function BT(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?mp(n):Qi.r(e)}var Ia=typeof document>"u"?null:document;function Zy(e,n,s){var o=Ia;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Jy.has(h)||(Jy.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function qT(e){Qi.D(e),Zy("dns-prefetch",e,null)}function HT(e,n){Qi.C(e,n),Zy("preconnect",e,n)}function FT(e,n,s){Qi.L(e,n,s);var o=Ia;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Na(e);break;case"script":f=Da(e)}On.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),On.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(rl(f))||(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function GT(e,n){Qi.m(e,n);var s=Ia;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Da(e)}if(!On.has(f)&&(e=A({rel:"modulepreload",href:e},n),On.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(rl(f)))return}o=s.createElement("link"),Fe(o,"link",e),Te(o),s.head.appendChild(o)}}}function QT(e,n,s){Qi.S(e,n,s);var o=Ia;if(o&&e){var h=ri(o).hoistableStyles,f=Na(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(sl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=On.get(f))&&ld(e,s);var I=p=o.createElement("link");Te(I),Fe(I,"link",e),I._p=new Promise(function(j,Q){I.onload=j,I.onerror=Q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function KT(e,n){Qi.X(e,n);var s=Ia;if(s&&e){var o=ri(s).hoistableScripts,h=Da(e),f=o.get(h);f||(f=s.querySelector(rl(h)),f||(e=A({src:e,async:!0},n),(n=On.get(h))&&ud(e,n),f=s.createElement("script"),Te(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function YT(e,n){Qi.M(e,n);var s=Ia;if(s&&e){var o=ri(s).hoistableScripts,h=Da(e),f=o.get(h);f||(f=s.querySelector(rl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=On.get(h))&&ud(e,n),f=s.createElement("script"),Te(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Wy(e,n,s,o){var h=(h=Ct.current)?ic(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Na(s.href),s=ri(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Na(s.href);var f=ri(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(sl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),On.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},On.set(e,s),f||XT(h,e,s,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Da(s),s=ri(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Na(e){return'href="'+nn(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function t_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function XT(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",s),Te(n),e.head.appendChild(n))}function Da(e){return'[src="'+nn(e)+'"]'}function rl(e){return"script[async]"+e}function e_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Fe(o,"style",h),sc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Na(s.href);var f=e.querySelector(sl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=t_(s),(h=On.get(h))&&ld(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Fe(f,"link",o),n.state.loading|=4,sc(f,s.precedence,e),n.instance=f;case"script":return f=Da(s.src),(h=e.querySelector(rl(f)))?(n.instance=h,Te(h),h):(o=s,(h=On.get(f))&&(o=A({},s),ud(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,sc(o,s.precedence,e));return n.instance}function sc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ld(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var rc=null;function n_(e,n,s){if(rc===null){var o=new Map,h=rc=new Map;h.set(s,o)}else h=rc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ii]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function i_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function $T(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function s_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function JT(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Na(o.href),f=n.querySelector(sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ac.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Te(f);return}f=n.ownerDocument||n,o=t_(o),(h=On.get(h))&&ld(o,h),f=f.createElement("link"),Te(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Fe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ac.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var cd=0;function ZT(e,n){return e.stylesheets&&e.count===0&&lc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&cd===0&&(cd=62500*OT());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>cd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function lc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,n.forEach(WT,e),oc=null,ac.call(e))}function WT(e,n){if(!(n.state.loading&4)){var s=oc.get(e);if(s)var o=s.get(null);else{s=new Map,oc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var al={$$typeof:rt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function tb(e,n,s,o,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function r_(e,n,s,o,h,f,p,E,I,j,Q,Y){return e=new tb(e,n,s,p,I,j,Q,Y,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=qh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Qh(f),e}function a_(e){return e?(e=la,e):la}function o_(e,n,s,o,h,f){h=a_(h),o.context===null?o.context=h:o.pendingContext=h,o=_s(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=vs(e,o,n),s!==null&&(un(s,e,n),Lo(s,e,n))}function l_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function hd(e,n){l_(e,n),(e=e.alternate)&&l_(e,n)}function u_(e){if(e.tag===13||e.tag===31){var n=yr(e,67108864);n!==null&&un(n,e,67108864),hd(e,67108864)}}function c_(e){if(e.tag===13||e.tag===31){var n=vn();n=rr(n);var s=yr(e,n);s!==null&&un(s,e,n),hd(e,n)}}var uc=!0;function eb(e,n,s,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,fd(e,n,s,o)}finally{nt.p=f,G.T=h}}function nb(e,n,s,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,fd(e,n,s,o)}finally{nt.p=f,G.T=h}}function fd(e,n,s,o){if(uc){var h=dd(o);if(h===null)Zf(e,n,o,cc,s),f_(e,o);else if(sb(h,e,n,s,o))o.stopPropagation();else if(f_(e,o),n&4&&-1<ib.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Wn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-de(p);E.entanglements[1]|=I,p&=~I}_i(f),(Gt&6)===0&&(Qu=We()+500,tl(0))}}break;case 31:case 13:E=yr(f,2),E!==null&&un(E,f,2),Yu(),hd(f,2)}if(f=dd(o),f===null&&Zf(e,n,o,cc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Zf(e,n,o,null,s)}}function dd(e){return e=bn(e),md(e)}var cc=null;function md(e){if(cc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cc=e,null}function h_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(er()){case lo:return 2;case uo:return 8;case is:case vh:return 32;case ql:return 268435456;default:return 32}default:return 32}}var gd=!1,Ns=null,Ds=null,Os=null,ol=new Map,ll=new Map,Ms=[],ib="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f_(e,n){switch(e){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ul(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&u_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function sb(e,n,s,o,h){switch(n){case"focusin":return Ns=ul(Ns,e,n,s,o,h),!0;case"dragenter":return Ds=ul(Ds,e,n,s,o,h),!0;case"mouseover":return Os=ul(Os,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ol.set(f,ul(ol.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ll.set(f,ul(ll.get(f)||null,e,n,s,o,h)),!0}return!1}function d_(e){var n=si(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Ln(e.priority,function(){c_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Ln(e.priority,function(){c_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=dd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);bo=o,s.target.dispatchEvent(o),bo=null}else return n=Tn(s),n!==null&&u_(n),e.blockedOn=s,!1;n.shift()}return!0}function m_(e,n,s){hc(e)&&s.delete(n)}function rb(){gd=!1,Ns!==null&&hc(Ns)&&(Ns=null),Ds!==null&&hc(Ds)&&(Ds=null),Os!==null&&hc(Os)&&(Os=null),ol.forEach(m_),ll.forEach(m_)}function fc(e,n){e.blockedOn===n&&(e.blockedOn=null,gd||(gd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,rb)))}var dc=null;function g_(e){dc!==e&&(dc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(md(o||s)===null)continue;break}var f=Tn(s);f!==null&&(e.splice(n,3),n-=3,df(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Oa(e){function n(I){return fc(I,e)}Ns!==null&&fc(Ns,e),Ds!==null&&fc(Ds,e),Os!==null&&fc(Os,e),ol.forEach(n),ll.forEach(n);for(var s=0;s<Ms.length;s++){var o=Ms[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ms.length&&(s=Ms[0],s.blockedOn===null);)d_(s),s.blockedOn===null&&Ms.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[Ve]||null;if(typeof f=="function")p||g_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ve]||null)E=p.formAction;else if(md(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),g_(s)}}}function p_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function pd(e){this._internalRoot=e}mc.prototype.render=pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=vn();o_(s,o,e,n,null,null)},mc.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;o_(e.current,2,null,e,null,null),Yu(),n[ni]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ms.length&&n!==0&&n<Ms[s].priority;s++);Ms.splice(s,0,e),s===0&&d_(e)}};var y_=t.version;if(y_!=="19.2.1")throw Error(r(527,y_,"19.2.1"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var ab={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{kn=gc.inject(ab),Pe=gc}catch{}}return hl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",h=Ap,f=wp,p=Rp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=r_(e,1,!1,null,null,s,o,null,h,f,p,p_),e[ni]=n.current,Jf(e),new pd(n)},hl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,h="",f=Ap,p=wp,E=Rp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=r_(e,1,!0,n,s??null,o,h,I,f,p,E,p_),n.context=a_(null),s=n.current,o=vn(),o=rr(o),h=_s(o),h.callback=null,vs(s,h,o),s=o,n.current.lanes=s,ir(n,s),_i(n),e[ni]=n.current,Jf(e),new mc(n)},hl.version="19.2.1",hl}var C_;function yb(){if(C_)return vd.exports;C_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),vd.exports=pb(),vd.exports}var _b=yb();const vb=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Eb=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),x_=a=>{const t=Eb(a);return t.charAt(0).toUpperCase()+t.slice(1)},nv=(...a)=>a.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),Tb=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var bb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Sb=At.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},y)=>At.createElement("svg",{ref:y,...bb,width:t,height:t,stroke:a,strokeWidth:r?Number(i)*24/Number(t):i,className:nv("lucide",l),...!c&&!Tb(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,w])=>At.createElement(_,w)),...Array.isArray(c)?c:[c]]));const Pt=(a,t)=>{const i=At.forwardRef(({className:r,...l},c)=>At.createElement(Sb,{ref:c,iconNode:t,className:nv(`lucide-${vb(x_(a))}`,`lucide-${a}`,r),...l}));return i.displayName=x_(a),i};const Ab=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],wb=Pt("baby",Ab);const Rb=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],lm=Pt("brain",Rb);const Cb=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],xb=Pt("calendar-range",Cb);const Ib=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],iv=Pt("calendar",Ib);const Nb=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Db=Pt("chevron-left",Nb);const Ob=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Mb=Pt("chevron-right",Ob);const Vb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zb=Pt("circle-check-big",Vb);const kb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ub=Pt("clock",kb);const Lb=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],sv=Pt("cloud",Lb);const Pb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jb=Pt("download",Pb);const Bb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qb=Pt("file-text",Bb);const Hb=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Fb=Pt("funnel",Hb);const Gb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],rv=Pt("grid-3x3",Gb);const Qb=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Kb=Pt("hard-drive",Qb);const Yb=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Xb=Pt("heart",Yb);const $b=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Jb=Pt("house",$b);const Zb=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Wb=Pt("list",Zb);const tS=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],eS=Pt("message-circle",tS);const nS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],av=Pt("pencil",nS);const iS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],um=Pt("plus",iS);const sS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],rS=Pt("save",sS);const aS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],oS=Pt("search",aS);const lS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uS=Pt("settings",lS);const cS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],hS=Pt("smile",cS);const fS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],dS=Pt("sparkles",fS);const mS=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],Oc=Pt("sticky-note",mS);const gS=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],pS=Pt("tag",gS);const yS=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]],ov=Pt("text-align-justify",yS);const _S=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cm=Pt("trash-2",_S);const vS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ES=Pt("upload",vS);const TS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lv=Pt("user",TS);const bS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uv=Pt("users",bS);const SS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zd=Pt("x",SS);const AS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wS=Pt("zap",AS),RS=()=>{};var I_={};const cv=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},CS=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],g=a[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,g=d?a[l+1]:0,y=l+2<a.length,_=y?a[l+2]:0,w=c>>2,A=(c&3)<<4|g>>4;let V=(g&15)<<2|_>>6,B=_&63;y||(B=64,d||(V=64)),r.push(i[w],i[A],i[V],i[B])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(cv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):CS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const _=l<a.length?i[a.charAt(l)]:64;++l;const A=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||g==null||_==null||A==null)throw new xS;const V=c<<2|g>>4;if(r.push(V),_!==64){const B=g<<4&240|_>>2;if(r.push(B),A!==64){const U=_<<6&192|A;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class xS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IS=function(a){const t=cv(a);return hv.encodeByteArray(t,!0)},Mc=function(a){return IS(a).replace(/\./g,"")},fv=function(a){try{return hv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function NS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const DS=()=>NS().__FIREBASE_DEFAULTS__,OS=()=>{if(typeof process>"u"||typeof I_>"u")return;const a=I_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},MS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&fv(a[1]);return t&&JSON.parse(t)},th=()=>{try{return RS()||DS()||OS()||MS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},dv=a=>th()?.emulatorHosts?.[a],VS=a=>{const t=dv(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},mv=()=>th()?.config,gv=a=>th()?.[`_${a}`];class zS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Za(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pv(a){return(await fetch(a,{credentials:"include"})).ok}function kS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Mc(JSON.stringify(i)),Mc(JSON.stringify(d)),""].join(".")}const pl={};function US(){const a={prod:[],emulator:[]};for(const t of Object.keys(pl))pl[t]?a.emulator.push(t):a.prod.push(t);return a}function LS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let N_=!1;function yv(a,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||pl[a]===t||pl[a]||N_)return;pl[a]=t;function i(V){return`__firebase__banner__${V}`}const r="__firebase__banner",c=US().prod.length>0;function d(){const V=document.getElementById(r);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,B){V.setAttribute("width","24"),V.setAttribute("id",B),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{N_=!0,d()},V}function w(V,B){V.setAttribute("id",B),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=LS(r),B=i("text"),U=document.getElementById(B)||document.createElement("span"),Z=i("learnmore"),$=document.getElementById(Z)||document.createElement("a"),st=i("preprendIcon"),tt=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const rt=V.element;g(rt),w($,Z);const ct=_();y(tt,st),rt.append(tt,U,$,ct),document.body.appendChild(rt)}c?(U.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function jS(){const a=th()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function HS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FS(){const a=Ze();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function GS(){return!jS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QS(){try{return typeof indexedDB=="object"}catch{return!1}}function KS(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const YS="FirebaseError";class es extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=YS,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?XS(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new es(l,g,r)}}function XS(a,t){return a.replace($S,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const $S=/\{\$([^}]+)}/g;function JS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Vr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=a[l],d=t[l];if(D_(c)&&D_(d)){if(!Vr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function D_(a){return a!==null&&typeof a=="object"}function Ol(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ZS(a,t){const i=new WS(a,t);return i.subscribe.bind(i)}class WS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");tA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Sd),l.error===void 0&&(l.error=Sd),l.complete===void 0&&(l.complete=Sd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Sd(){}function zn(a){return a&&a._delegate?a._delegate:a}class zr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Nr="[DEFAULT]";class eA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new zS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iA(t))try{this.getOrInitializeService({instanceIdentifier:Nr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Nr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Nr){return this.instances.has(t)}getOptions(t=Nr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Nr){return this.component?this.component.multipleInstances?t:Nr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nA(a){return a===Nr?void 0:a}function iA(a){return a.instantiationMode==="EAGER"}class sA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new eA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Mt||(Mt={}));const rA={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},aA=Mt.INFO,oA={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},lA=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=oA[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hm{constructor(t){this.name=t,this._logLevel=aA,this._logHandler=lA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const uA=(a,t)=>t.some(i=>a instanceof i);let O_,M_;function cA(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hA(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _v=new WeakMap,kd=new WeakMap,vv=new WeakMap,Ad=new WeakMap,fm=new WeakMap;function fA(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Bs(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&_v.set(i,a)}).catch(()=>{}),fm.set(t,a),t}function dA(a){if(kd.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});kd.set(a,t)}let Ud={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return kd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||vv.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Bs(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function mA(a){Ud=a(Ud)}function gA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(wd(this),t,...i);return vv.set(r,t.sort?t.sort():[t]),Bs(r)}:hA().includes(a)?function(...t){return a.apply(wd(this),t),Bs(_v.get(this))}:function(...t){return Bs(a.apply(wd(this),t))}}function pA(a){return typeof a=="function"?gA(a):(a instanceof IDBTransaction&&dA(a),uA(a,cA())?new Proxy(a,Ud):a)}function Bs(a){if(a instanceof IDBRequest)return fA(a);if(Ad.has(a))return Ad.get(a);const t=pA(a);return t!==a&&(Ad.set(a,t),fm.set(t,a)),t}const wd=a=>fm.get(a);function yA(a,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),g=Bs(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Bs(d.result),y.oldVersion,y.newVersion,Bs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const _A=["get","getKey","getAll","getAllKeys","count"],vA=["put","add","delete","clear"],Rd=new Map;function V_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Rd.get(t))return Rd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=vA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||_A.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Rd.set(t,c),c}mA(a=>({...a,get:(t,i,r)=>V_(t,i)||a.get(t,i,r),has:(t,i)=>!!V_(t,i)||a.has(t,i)}));class EA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(TA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function TA(a){return a.getComponent()?.type==="VERSION"}const Ld="@firebase/app",z_="0.14.6";const $i=new hm("@firebase/app"),bA="@firebase/app-compat",SA="@firebase/analytics-compat",AA="@firebase/analytics",wA="@firebase/app-check-compat",RA="@firebase/app-check",CA="@firebase/auth",xA="@firebase/auth-compat",IA="@firebase/database",NA="@firebase/data-connect",DA="@firebase/database-compat",OA="@firebase/functions",MA="@firebase/functions-compat",VA="@firebase/installations",zA="@firebase/installations-compat",kA="@firebase/messaging",UA="@firebase/messaging-compat",LA="@firebase/performance",PA="@firebase/performance-compat",jA="@firebase/remote-config",BA="@firebase/remote-config-compat",qA="@firebase/storage",HA="@firebase/storage-compat",FA="@firebase/firestore",GA="@firebase/ai",QA="@firebase/firestore-compat",KA="firebase",YA="12.6.0";const Pd="[DEFAULT]",XA={[Ld]:"fire-core",[bA]:"fire-core-compat",[AA]:"fire-analytics",[SA]:"fire-analytics-compat",[RA]:"fire-app-check",[wA]:"fire-app-check-compat",[CA]:"fire-auth",[xA]:"fire-auth-compat",[IA]:"fire-rtdb",[NA]:"fire-data-connect",[DA]:"fire-rtdb-compat",[OA]:"fire-fn",[MA]:"fire-fn-compat",[VA]:"fire-iid",[zA]:"fire-iid-compat",[kA]:"fire-fcm",[UA]:"fire-fcm-compat",[LA]:"fire-perf",[PA]:"fire-perf-compat",[jA]:"fire-rc",[BA]:"fire-rc-compat",[qA]:"fire-gcs",[HA]:"fire-gcs-compat",[FA]:"fire-fst",[QA]:"fire-fst-compat",[GA]:"fire-vertex","fire-js":"fire-js",[KA]:"fire-js-all"};const Vc=new Map,$A=new Map,jd=new Map;function k_(a,t){try{a.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Fa(a){const t=a.name;if(jd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;jd.set(t,a);for(const i of Vc.values())k_(i,a);for(const i of $A.values())k_(i,a);return!0}function dm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Yn(a){return a==null?!1:a.settings!==void 0}const JA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Dl("app","Firebase",JA);class ZA{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}const Wa=YA;function Ev(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:Pd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw qs.create("bad-app-name",{appName:String(l)});if(i||(i=mv()),!i)throw qs.create("no-options");const c=Vc.get(l);if(c){if(Vr(i,c.options)&&Vr(r,c.config))return c;throw qs.create("duplicate-app",{appName:l})}const d=new sA(l);for(const y of jd.values())d.addComponent(y);const g=new ZA(i,r,d);return Vc.set(l,g),g}function Tv(a=Pd){const t=Vc.get(a);if(!t&&a===Pd&&mv())return Ev();if(!t)throw qs.create("no-app",{appName:a});return t}function Hs(a,t,i){let r=XA[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Fa(new zr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const WA="firebase-heartbeat-database",t2=1,bl="firebase-heartbeat-store";let Cd=null;function bv(){return Cd||(Cd=yA(WA,t2,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(bl)}catch(i){console.warn(i)}}}}).catch(a=>{throw qs.create("idb-open",{originalErrorMessage:a.message})})),Cd}async function e2(a){try{const i=(await bv()).transaction(bl),r=await i.objectStore(bl).get(Sv(a));return await i.done,r}catch(t){if(t instanceof es)$i.warn(t.message);else{const i=qs.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function U_(a,t){try{const r=(await bv()).transaction(bl,"readwrite");await r.objectStore(bl).put(t,Sv(a)),await r.done}catch(i){if(i instanceof es)$i.warn(i.message);else{const r=qs.create("idb-set",{originalErrorMessage:i?.message});$i.warn(r.message)}}}function Sv(a){return`${a.name}!${a.options.appId}`}const n2=1024,i2=30;class s2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new a2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=L_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>i2){const l=o2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=L_(),{heartbeatsToSend:i,unsentEntries:r}=r2(this._heartbeatsCache.heartbeats),l=Mc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function L_(){return new Date().toISOString().substring(0,10)}function r2(a,t=n2){const i=[];let r=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),P_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),P_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class a2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QS()?KS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await e2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return U_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return U_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function P_(a){return Mc(JSON.stringify({version:2,heartbeats:a})).length}function o2(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function l2(a){Fa(new zr("platform-logger",t=>new EA(t),"PRIVATE")),Fa(new zr("heartbeat",t=>new s2(t),"PRIVATE")),Hs(Ld,z_,a),Hs(Ld,z_,"esm2020"),Hs("fire-js","")}l2("");var u2="firebase",c2="12.6.0";Hs(u2,c2,"app");function Av(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h2=Av,wv=new Dl("auth","Firebase",Av());const zc=new hm("@firebase/auth");function f2(a,...t){zc.logLevel<=Mt.WARN&&zc.warn(`Auth (${Wa}): ${a}`,...t)}function bc(a,...t){zc.logLevel<=Mt.ERROR&&zc.error(`Auth (${Wa}): ${a}`,...t)}function Ji(a,...t){throw mm(a,...t)}function Ei(a,...t){return mm(a,...t)}function Rv(a,t,i){const r={...h2(),[t]:i};return new Dl("auth","Firebase",r).create(t,{appName:a.name})}function Fs(a){return Rv(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mm(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return wv.create(a,...t)}function vt(a,t,...i){if(!a)throw mm(t,...i)}function Ki(a){const t="INTERNAL ASSERTION FAILED: "+a;throw bc(t),new Error(t)}function Zi(a,t){a||Ki(t)}function Bd(){return typeof self<"u"&&self.location?.href||""}function d2(){return j_()==="http:"||j_()==="https:"}function j_(){return typeof self<"u"&&self.location?.protocol||null}function m2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d2()||qS()||"connection"in navigator)?navigator.onLine:!0}function g2(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Ml{constructor(t,i){this.shortDelay=t,this.longDelay=i,Zi(i>t,"Short delay should be less than long delay!"),this.isMobile=PS()||HS()}get(){return m2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gm(a,t){Zi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Cv{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const p2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const y2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_2=new Ml(3e4,6e4);function eh(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function to(a,t,i,r,l={}){return xv(a,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=Ol({key:a.config.apiKey,...d}).slice(1),y=await a._getAdditionalHeaders();y["Content-Type"]="application/json",a.languageCode&&(y["X-Firebase-Locale"]=a.languageCode);const _={method:t,headers:y,...c};return BS()||(_.referrerPolicy="no-referrer"),a.emulatorConfig&&Za(a.emulatorConfig.host)&&(_.credentials="include"),Cv.fetch()(await Nv(a,a.config.apiHost,i,g),_)})}async function xv(a,t,i){a._canInitEmulator=!1;const r={...p2,...t};try{const l=new v2(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw pc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(a,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw pc(a,"email-already-in-use",d);if(y==="USER_DISABLED")throw pc(a,"user-disabled",d);const w=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Rv(a,w,_);Ji(a,w)}}catch(l){if(l instanceof es)throw l;Ji(a,"network-request-failed",{message:String(l)})}}async function Iv(a,t,i,r,l={}){const c=await to(a,t,i,r,l);return"mfaPendingCredential"in c&&Ji(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function Nv(a,t,i,r){const l=`${t}${i}?${r}`,c=a,d=c.config.emulator?gm(a.config,l):`${a.config.apiScheme}://${l}`;return y2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class v2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),_2.get())})}}function pc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ei(a,t,r);return l.customData._tokenResponse=i,l}async function E2(a,t){return to(a,"POST","/v1/accounts:delete",t)}async function kc(a,t){return to(a,"POST","/v1/accounts:lookup",t)}function yl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function T2(a,t=!1){const i=zn(a),r=await i.getIdToken(t),l=pm(r);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:yl(xd(l.auth_time)),issuedAtTime:yl(xd(l.iat)),expirationTime:yl(xd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function xd(a){return Number(a)*1e3}function pm(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=fv(i);return l?JSON.parse(l):(bc("Failed to decode base64 JWT payload"),null)}catch(l){return bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function B_(a){const t=pm(a);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Sl(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof es&&b2(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function b2({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class S2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class qd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Uc(a){const t=a.auth,i=await a.getIdToken(),r=await Sl(a,kc(t,{idToken:i}));vt(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?Dv(l.providerUserInfo):[],d=w2(a.providerData,c),g=a.isAnonymous,y=!(a.email&&l.passwordHash)&&!d?.length,_=g?y:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new qd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(a,w)}async function A2(a){const t=zn(a);await Uc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function w2(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function Dv(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function R2(a,t){const i=await xv(a,{},async()=>{const r=Ol({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await Nv(a,l,"/v1/token",`key=${c}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return a.emulatorConfig&&Za(a.emulatorConfig.host)&&(y.credentials="include"),Cv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function C2(a,t){return to(a,"POST","/v2/accounts:revokeToken",eh(a,t))}class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):B_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=B_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await R2(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new La;return r&&(vt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return Ki("not implemented")}}function zs(a,t){vt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new S2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new qd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Sl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return T2(this,t)}reload(){return A2(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Uc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Fs(this.auth));const t=await this.getIdToken();return await Sl(this,E2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,w=i.lastLoginAt??void 0,{uid:A,emailVerified:V,isAnonymous:B,providerData:U,stsTokenManager:Z}=i;vt(A&&Z,t,"internal-error");const $=La.fromJSON(this.name,Z);vt(typeof A=="string",t,"internal-error"),zs(r,t.name),zs(l,t.name),vt(typeof V=="boolean",t,"internal-error"),vt(typeof B=="boolean",t,"internal-error"),zs(c,t.name),zs(d,t.name),zs(g,t.name),zs(y,t.name),zs(_,t.name),zs(w,t.name);const st=new Xn({uid:A,auth:t,email:l,emailVerified:V,displayName:r,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:$,createdAt:_,lastLoginAt:w});return U&&Array.isArray(U)&&(st.providerData=U.map(tt=>({...tt}))),y&&(st._redirectEventId=y),st}static async _fromIdTokenResponse(t,i,r=!1){const l=new La;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Uc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Dv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new La;g.updateFromIdToken(r);const y=new Xn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new qd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const q_=new Map;function Yi(a){Zi(a instanceof Function,"Expected a class definition");let t=q_.get(a);return t?(Zi(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,q_.set(a,t),t)}class Ov{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Ov.type="NONE";const H_=Ov;function Sc(a,t,i){return`firebase:${a}:${t}:${i}`}class Pa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Sc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Sc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await kc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Pa(Yi(H_),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Yi(H_);const d=Sc(r,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const w=await _._get(d);if(w){let A;if(typeof w=="string"){const V=await kc(t,{idToken:w}).catch(()=>{});if(!V)break;A=await Xn._fromGetAccountInfoResponse(t,V,w)}else A=Xn._fromJSON(t,w);_!==c&&(g=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Pa(c,t,r):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Pa(c,t,r))}}function F_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Lv(t))return"Blackberry";if(Pv(t))return"Webos";if(Vv(t))return"Safari";if((t.includes("chrome/")||zv(t))&&!t.includes("edge/"))return"Chrome";if(Uv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function Mv(a=Ze()){return/firefox\//i.test(a)}function Vv(a=Ze()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zv(a=Ze()){return/crios\//i.test(a)}function kv(a=Ze()){return/iemobile/i.test(a)}function Uv(a=Ze()){return/android/i.test(a)}function Lv(a=Ze()){return/blackberry/i.test(a)}function Pv(a=Ze()){return/webos/i.test(a)}function ym(a=Ze()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function x2(a=Ze()){return ym(a)&&!!window.navigator?.standalone}function I2(){return FS()&&document.documentMode===10}function jv(a=Ze()){return ym(a)||Uv(a)||Pv(a)||Lv(a)||/windows phone/i.test(a)||kv(a)}function Bv(a,t=[]){let i;switch(a){case"Browser":i=F_(Ze());break;case"Worker":i=`${F_(Ze())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Wa}/${r}`}class N2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function D2(a,t={}){return to(a,"GET","/v2/passwordPolicy",eh(a,t))}const O2=6;class M2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??O2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class V2{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G_(this),this.idTokenSubscription=new G_(this),this.beforeStateQueue=new N2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Yi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await kc(this,{idToken:t}),r=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Uc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=g2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Fs(this));const i=t?zn(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await D2(this),i=new M2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Dl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await C2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Yi(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Yi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Bv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&f2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function nh(a){return zn(a)}class G_{constructor(t){this.auth=t,this.observer=null,this.addObserver=ZS(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z2(a){_m=a}function k2(a){return _m.loadJS(a)}function U2(){return _m.gapiScript}function L2(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function P2(a,t){const i=dm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Vr(c,t??{}))return l;Ji(l,"already-initialized")}return i.initialize({options:t})}function j2(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Yi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function B2(a,t,i){const r=nh(a);vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=qv(t),{host:d,port:g}=q2(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},w=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(Vr(_,r.config.emulator)&&Vr(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,Za(d)?(pv(`${c}//${d}${y}`),yv("Auth",!0)):H2()}function qv(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function q2(a){const t=qv(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Q_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Q_(d)}}}function Q_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function H2(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class Hv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}async function ja(a,t){return Iv(a,"POST","/v1/accounts:signInWithIdp",eh(a,t))}const F2="http://localhost";class kr extends Hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new kr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new kr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ja(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,ja(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ja(t,i)}buildRequest(){const t={requestUri:F2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ol(i)}return t}}class Fv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Vl extends Fv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ks extends Vl{constructor(){super("facebook.com")}static credential(t){return kr._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ks.credentialFromTaggedObject(t)}static credentialFromError(t){return ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ks.credential(t.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";class Us extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return kr._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Us.credential(i,r)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";class Ls extends Vl{constructor(){super("github.com")}static credential(t){return kr._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ls.credential(t.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";class Ps extends Vl{constructor(){super("twitter.com")}static credential(t,i){return kr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Ps.credential(i,r)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";async function G2(a,t){return Iv(a,"POST","/v1/accounts:signUp",eh(a,t))}class Qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Xn._fromIdTokenResponse(t,r,l),d=K_(r);return new Qs({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=K_(r);return new Qs({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function K_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function Q2(a){if(Yn(a.app))return Promise.reject(Fs(a));const t=nh(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Qs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await G2(t,{returnSecureToken:!0}),r=await Qs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}class Lc extends es{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Lc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Lc(t,i,r,l)}}function Gv(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Lc._fromErrorAndOperation(a,c,t,r):c})}async function K2(a,t,i=!1){const r=await Sl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Qs._forOperation(a,"link",r)}async function Y2(a,t,i=!1){const{auth:r}=a;if(Yn(r.app))return Promise.reject(Fs(r));const l="reauthenticate";try{const c=await Sl(a,Gv(r,l,t,a),i);vt(c.idToken,r,"internal-error");const d=pm(c.idToken);vt(d,r,"internal-error");const{sub:g}=d;return vt(a.uid===g,r,"user-mismatch"),Qs._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ji(r,"user-mismatch"),c}}async function X2(a,t,i=!1){if(Yn(a.app))return Promise.reject(Fs(a));const r="signIn",l=await Gv(a,r,t),c=await Qs._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(c.user),c}function $2(a,t,i,r){return zn(a).onIdTokenChanged(t,i,r)}function J2(a,t,i){return zn(a).beforeAuthStateChanged(t,i)}function Z2(a,t,i,r){return zn(a).onAuthStateChanged(t,i,r)}const Pc="__sak";class Qv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Pc,"1"),this.storage.removeItem(Pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const W2=1e3,tw=10;class Kv extends Qv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);I2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,tw):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},W2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Kv.type="LOCAL";const ew=Kv;class Yv extends Qv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Yv.type="SESSION";const Xv=Yv;function nw(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new ih(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await nw(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];function vm(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class iw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=vm("",20);l.port1.start();const w=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const V=A;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(w),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ti(){return window}function sw(a){Ti().location.href=a}function $v(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function rw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aw(){return navigator?.serviceWorker?.controller||null}function ow(){return $v()?self:null}const Jv="firebaseLocalStorageDb",lw=1,jc="firebaseLocalStorage",Zv="fbase_key";class zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function sh(a,t){return a.transaction([jc],t?"readwrite":"readonly").objectStore(jc)}function uw(){const a=indexedDB.deleteDatabase(Jv);return new zl(a).toPromise()}function Hd(){const a=indexedDB.open(Jv,lw);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(jc,{keyPath:Zv})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(jc)?t(r):(r.close(),await uw(),t(await Hd()))})})}async function Y_(a,t,i){const r=sh(a,!0).put({[Zv]:t,value:i});return new zl(r).toPromise()}async function cw(a,t){const i=sh(a,!1).get(t),r=await new zl(i).toPromise();return r===void 0?null:r.value}function X_(a,t){const i=sh(a,!0).delete(t);return new zl(i).toPromise()}const hw=800,fw=3;class Wv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>fw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $v()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(ow()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rw(),!this.activeServiceWorker)return;this.sender=new iw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||aw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hd();return await Y_(t,Pc,"1"),await X_(t,Pc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y_(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>cw(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>X_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=sh(l,!1).getAll();return new zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wv.type="LOCAL";const dw=Wv;new Ml(3e4,6e4);function mw(a,t){return t?Yi(t):(vt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Em extends Hv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function gw(a){return X2(a.auth,new Em(a),a.bypassAuthState)}function pw(a){const{auth:t,user:i}=a;return vt(i,t,"internal-error"),Y2(i,new Em(a),a.bypassAuthState)}async function yw(a){const{auth:t,user:i}=a;return vt(i,t,"internal-error"),K2(i,new Em(a),a.bypassAuthState)}class t1{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gw;case"linkViaPopup":case"linkViaRedirect":return yw;case"reauthViaPopup":case"reauthViaRedirect":return pw;default:Ji(this.auth,"internal-error")}}resolve(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _w=new Ml(2e3,1e4);class Ua extends t1{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const t=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_w.get())};t()}}Ua.currentPopupAction=null;const vw="pendingRedirect",Ac=new Map;class Ew extends t1{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Ac.get(this.auth._key());if(!t){try{const r=await Tw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Ac.set(this.auth._key(),t)}return this.bypassAuthState||Ac.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Tw(a,t){const i=Aw(t),r=Sw(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function bw(a,t){Ac.set(a._key(),t)}function Sw(a){return Yi(a._redirectPersistence)}function Aw(a){return Sc(vw,a.config.apiKey,a.name)}async function ww(a,t,i=!1){if(Yn(a.app))return Promise.reject(Fs(a));const r=nh(a),l=mw(r,t),d=await new Ew(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const Rw=600*1e3;class Cw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!e1(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ei(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Rw&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(t))}saveEventToCache(t){this.cachedEventUids.add($_(t)),this.lastProcessedEventTime=Date.now()}}function $_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function e1({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function xw(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e1(a);default:return!1}}async function Iw(a,t={}){return to(a,"GET","/v1/projects",t)}const Nw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dw=/^https?/;async function Ow(a){if(a.config.emulator)return;const{authorizedDomains:t}=await Iw(a);for(const i of t)try{if(Mw(i))return}catch{}Ji(a,"unauthorized-domain")}function Mw(a){const t=Bd(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!Dw.test(i))return!1;if(Nw.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const Vw=new Ml(3e4,6e4);function J_(){const a=Ti().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function zw(a){return new Promise((t,i)=>{function r(){J_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{J_(),i(Ei(a,"network-request-failed"))},timeout:Vw.get()})}if(Ti().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ti().gapi?.load)r();else{const l=L2("iframefcb");return Ti()[l]=()=>{gapi.load?r():i(Ei(a,"network-request-failed"))},k2(`${U2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw wc=null,t})}let wc=null;function kw(a){return wc=wc||zw(a),wc}const Uw=new Ml(5e3,15e3),Lw="__/auth/iframe",Pw="emulator/auth/iframe",jw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qw(a){const t=a.config;vt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?gm(t,Pw):`https://${a.config.authDomain}/${Lw}`,r={apiKey:t.apiKey,appName:a.name,v:Wa},l=Bw.get(a.config.apiHost);l&&(r.eid=l);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Ol(r).slice(1)}`}async function Hw(a){const t=await kw(a),i=Ti().gapi;return vt(i,a,"internal-error"),t.open({where:document.body,url:qw(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jw,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ei(a,"network-request-failed"),g=Ti().setTimeout(()=>{c(d)},Uw.get());function y(){Ti().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const Fw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gw=500,Qw=600,Kw="_blank",Yw="http://localhost";class Z_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xw(a,t,i,r=Gw,l=Qw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...Fw,width:r.toString(),height:l.toString(),top:c,left:d},_=Ze().toLowerCase();i&&(g=zv(_)?Kw:i),Mv(_)&&(t=t||Yw,y.scrollbars="yes");const w=Object.entries(y).reduce((V,[B,U])=>`${V}${B}=${U},`,"");if(x2(_)&&g!=="_self")return $w(t||"",g),new Z_(null);const A=window.open(t||"",g,w);vt(A,a,"popup-blocked");try{A.focus()}catch{}return new Z_(A)}function $w(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const Jw="__/auth/handler",Zw="emulator/auth/handler",Ww=encodeURIComponent("fac");async function W_(a,t,i,r,l,c){vt(a.config.authDomain,a,"auth-domain-config-required"),vt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:Wa,eventId:l};if(t instanceof Fv){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",JS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[w,A]of Object.entries({}))d[w]=A}if(t instanceof Vl){const w=t.getScopes().filter(A=>A!=="");w.length>0&&(d.scopes=w.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const w of Object.keys(g))g[w]===void 0&&delete g[w];const y=await a._getAppCheckToken(),_=y?`#${Ww}=${encodeURIComponent(y)}`:"";return`${tR(a)}?${Ol(g).slice(1)}${_}`}function tR({config:a}){return a.emulator?gm(a,Zw):`https://${a.authDomain}/${Jw}`}const Id="webStorageSupport";class eR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xv,this._completeRedirectFn=ww,this._overrideRedirectResult=bw}async _openPopup(t,i,r,l){Zi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await W_(t,i,r,Bd(),l);return Xw(t,c,vm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await W_(t,i,r,Bd(),l);return sw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Zi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await Hw(t),r=new Cw(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Id,{type:Id},l=>{const c=l?.[0]?.[Id];c!==void 0&&i(!!c),Ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Ow(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return jv()||Vv()||ym()}}const nR=eR;var t0="@firebase/auth",e0="1.11.1";class iR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rR(a){Fa(new zr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bv(a)},_=new V2(r,l,c,y);return j2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Fa(new zr("auth-internal",t=>{const i=nh(t.getProvider("auth").getImmediate());return(r=>new iR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hs(t0,e0,sR(a)),Hs(t0,e0,"esm2020")}const aR=300,oR=gv("authIdTokenMaxAge")||aR;let n0=null;const lR=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>oR)return;const l=i?.token;n0!==l&&(n0=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function uR(a=Tv()){const t=dm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=P2(a,{popupRedirectResolver:nR,persistence:[dw,ew,Xv]}),r=gv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=lR(c.toString());J2(i,d,()=>d(i.currentUser)),$2(i,g=>d(g))}}const l=dv("auth");return l&&B2(i,`http://${l}`),i}function cR(){return document.getElementsByTagName("head")?.[0]??document}z2({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const c=Ei("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",cR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rR("Browser");var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gs,n1;(function(){var a;function t(x,S){function b(){}b.prototype=S.prototype,x.F=S.prototype,x.prototype=new b,x.prototype.constructor=x,x.D=function(D,N,z){for(var C=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)C[jt-2]=arguments[jt];return S.prototype[N].apply(D,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,S,b){b||(b=0);const D=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)D[N]=S.charCodeAt(b++)|S.charCodeAt(b++)<<8|S.charCodeAt(b++)<<16|S.charCodeAt(b++)<<24;else for(N=0;N<16;++N)D[N]=S[b++]|S[b++]<<8|S[b++]<<16|S[b++]<<24;S=x.g[0],b=x.g[1],N=x.g[2];let z=x.g[3],C;C=S+(z^b&(N^z))+D[0]+3614090360&4294967295,S=b+(C<<7&4294967295|C>>>25),C=z+(N^S&(b^N))+D[1]+3905402710&4294967295,z=S+(C<<12&4294967295|C>>>20),C=N+(b^z&(S^b))+D[2]+606105819&4294967295,N=z+(C<<17&4294967295|C>>>15),C=b+(S^N&(z^S))+D[3]+3250441966&4294967295,b=N+(C<<22&4294967295|C>>>10),C=S+(z^b&(N^z))+D[4]+4118548399&4294967295,S=b+(C<<7&4294967295|C>>>25),C=z+(N^S&(b^N))+D[5]+1200080426&4294967295,z=S+(C<<12&4294967295|C>>>20),C=N+(b^z&(S^b))+D[6]+2821735955&4294967295,N=z+(C<<17&4294967295|C>>>15),C=b+(S^N&(z^S))+D[7]+4249261313&4294967295,b=N+(C<<22&4294967295|C>>>10),C=S+(z^b&(N^z))+D[8]+1770035416&4294967295,S=b+(C<<7&4294967295|C>>>25),C=z+(N^S&(b^N))+D[9]+2336552879&4294967295,z=S+(C<<12&4294967295|C>>>20),C=N+(b^z&(S^b))+D[10]+4294925233&4294967295,N=z+(C<<17&4294967295|C>>>15),C=b+(S^N&(z^S))+D[11]+2304563134&4294967295,b=N+(C<<22&4294967295|C>>>10),C=S+(z^b&(N^z))+D[12]+1804603682&4294967295,S=b+(C<<7&4294967295|C>>>25),C=z+(N^S&(b^N))+D[13]+4254626195&4294967295,z=S+(C<<12&4294967295|C>>>20),C=N+(b^z&(S^b))+D[14]+2792965006&4294967295,N=z+(C<<17&4294967295|C>>>15),C=b+(S^N&(z^S))+D[15]+1236535329&4294967295,b=N+(C<<22&4294967295|C>>>10),C=S+(N^z&(b^N))+D[1]+4129170786&4294967295,S=b+(C<<5&4294967295|C>>>27),C=z+(b^N&(S^b))+D[6]+3225465664&4294967295,z=S+(C<<9&4294967295|C>>>23),C=N+(S^b&(z^S))+D[11]+643717713&4294967295,N=z+(C<<14&4294967295|C>>>18),C=b+(z^S&(N^z))+D[0]+3921069994&4294967295,b=N+(C<<20&4294967295|C>>>12),C=S+(N^z&(b^N))+D[5]+3593408605&4294967295,S=b+(C<<5&4294967295|C>>>27),C=z+(b^N&(S^b))+D[10]+38016083&4294967295,z=S+(C<<9&4294967295|C>>>23),C=N+(S^b&(z^S))+D[15]+3634488961&4294967295,N=z+(C<<14&4294967295|C>>>18),C=b+(z^S&(N^z))+D[4]+3889429448&4294967295,b=N+(C<<20&4294967295|C>>>12),C=S+(N^z&(b^N))+D[9]+568446438&4294967295,S=b+(C<<5&4294967295|C>>>27),C=z+(b^N&(S^b))+D[14]+3275163606&4294967295,z=S+(C<<9&4294967295|C>>>23),C=N+(S^b&(z^S))+D[3]+4107603335&4294967295,N=z+(C<<14&4294967295|C>>>18),C=b+(z^S&(N^z))+D[8]+1163531501&4294967295,b=N+(C<<20&4294967295|C>>>12),C=S+(N^z&(b^N))+D[13]+2850285829&4294967295,S=b+(C<<5&4294967295|C>>>27),C=z+(b^N&(S^b))+D[2]+4243563512&4294967295,z=S+(C<<9&4294967295|C>>>23),C=N+(S^b&(z^S))+D[7]+1735328473&4294967295,N=z+(C<<14&4294967295|C>>>18),C=b+(z^S&(N^z))+D[12]+2368359562&4294967295,b=N+(C<<20&4294967295|C>>>12),C=S+(b^N^z)+D[5]+4294588738&4294967295,S=b+(C<<4&4294967295|C>>>28),C=z+(S^b^N)+D[8]+2272392833&4294967295,z=S+(C<<11&4294967295|C>>>21),C=N+(z^S^b)+D[11]+1839030562&4294967295,N=z+(C<<16&4294967295|C>>>16),C=b+(N^z^S)+D[14]+4259657740&4294967295,b=N+(C<<23&4294967295|C>>>9),C=S+(b^N^z)+D[1]+2763975236&4294967295,S=b+(C<<4&4294967295|C>>>28),C=z+(S^b^N)+D[4]+1272893353&4294967295,z=S+(C<<11&4294967295|C>>>21),C=N+(z^S^b)+D[7]+4139469664&4294967295,N=z+(C<<16&4294967295|C>>>16),C=b+(N^z^S)+D[10]+3200236656&4294967295,b=N+(C<<23&4294967295|C>>>9),C=S+(b^N^z)+D[13]+681279174&4294967295,S=b+(C<<4&4294967295|C>>>28),C=z+(S^b^N)+D[0]+3936430074&4294967295,z=S+(C<<11&4294967295|C>>>21),C=N+(z^S^b)+D[3]+3572445317&4294967295,N=z+(C<<16&4294967295|C>>>16),C=b+(N^z^S)+D[6]+76029189&4294967295,b=N+(C<<23&4294967295|C>>>9),C=S+(b^N^z)+D[9]+3654602809&4294967295,S=b+(C<<4&4294967295|C>>>28),C=z+(S^b^N)+D[12]+3873151461&4294967295,z=S+(C<<11&4294967295|C>>>21),C=N+(z^S^b)+D[15]+530742520&4294967295,N=z+(C<<16&4294967295|C>>>16),C=b+(N^z^S)+D[2]+3299628645&4294967295,b=N+(C<<23&4294967295|C>>>9),C=S+(N^(b|~z))+D[0]+4096336452&4294967295,S=b+(C<<6&4294967295|C>>>26),C=z+(b^(S|~N))+D[7]+1126891415&4294967295,z=S+(C<<10&4294967295|C>>>22),C=N+(S^(z|~b))+D[14]+2878612391&4294967295,N=z+(C<<15&4294967295|C>>>17),C=b+(z^(N|~S))+D[5]+4237533241&4294967295,b=N+(C<<21&4294967295|C>>>11),C=S+(N^(b|~z))+D[12]+1700485571&4294967295,S=b+(C<<6&4294967295|C>>>26),C=z+(b^(S|~N))+D[3]+2399980690&4294967295,z=S+(C<<10&4294967295|C>>>22),C=N+(S^(z|~b))+D[10]+4293915773&4294967295,N=z+(C<<15&4294967295|C>>>17),C=b+(z^(N|~S))+D[1]+2240044497&4294967295,b=N+(C<<21&4294967295|C>>>11),C=S+(N^(b|~z))+D[8]+1873313359&4294967295,S=b+(C<<6&4294967295|C>>>26),C=z+(b^(S|~N))+D[15]+4264355552&4294967295,z=S+(C<<10&4294967295|C>>>22),C=N+(S^(z|~b))+D[6]+2734768916&4294967295,N=z+(C<<15&4294967295|C>>>17),C=b+(z^(N|~S))+D[13]+1309151649&4294967295,b=N+(C<<21&4294967295|C>>>11),C=S+(N^(b|~z))+D[4]+4149444226&4294967295,S=b+(C<<6&4294967295|C>>>26),C=z+(b^(S|~N))+D[11]+3174756917&4294967295,z=S+(C<<10&4294967295|C>>>22),C=N+(S^(z|~b))+D[2]+718787259&4294967295,N=z+(C<<15&4294967295|C>>>17),C=b+(z^(N|~S))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+z&4294967295}r.prototype.v=function(x,S){S===void 0&&(S=x.length);const b=S-this.blockSize,D=this.C;let N=this.h,z=0;for(;z<S;){if(N==0)for(;z<=b;)l(this,x,z),z+=this.blockSize;if(typeof x=="string"){for(;z<S;)if(D[N++]=x.charCodeAt(z++),N==this.blockSize){l(this,D),N=0;break}}else for(;z<S;)if(D[N++]=x[z++],N==this.blockSize){l(this,D),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var b=x.length-8;b<x.length;++b)x[b]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,b=0;b<4;++b)for(let D=0;D<32;D+=8)x[S++]=this.g[b]>>>D&255;return x};function c(x,S){var b=g;return Object.prototype.hasOwnProperty.call(b,x)?b[x]:b[x]=S(x)}function d(x,S){this.h=S;const b=[];let D=!0;for(let N=x.length-1;N>=0;N--){const z=x[N]|0;D&&z==S||(b[N]=z,D=!1)}this.g=b}var g={};function y(x){return-128<=x&&x<128?c(x,function(S){return new d([S|0],S<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return A;if(x<0)return $(_(-x));const S=[];let b=1;for(let D=0;x>=b;D++)S[D]=x/b|0,b*=4294967296;return new d(S,0)}function w(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return $(w(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=_(Math.pow(S,8));let D=A;for(let z=0;z<x.length;z+=8){var N=Math.min(8,x.length-z);const C=parseInt(x.substring(z,z+N),S);N<8?(N=_(Math.pow(S,N)),D=D.j(N).add(_(C))):(D=D.j(b),D=D.add(_(C)))}return D}var A=y(0),V=y(1),B=y(16777216);a=d.prototype,a.m=function(){if(Z(this))return-$(this).m();let x=0,S=1;for(let b=0;b<this.g.length;b++){const D=this.i(b);x+=(D>=0?D:4294967296+D)*S,S*=4294967296}return x},a.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(U(this))return"0";if(Z(this))return"-"+$(this).toString(x);const S=_(Math.pow(x,6));var b=this;let D="";for(;;){const N=ct(b,S).g;b=st(b,N.j(S));let z=((b.g.length>0?b.g[0]:b.h)>>>0).toString(x);if(b=N,U(b))return z+D;for(;z.length<6;)z="0"+z;D=z+D}},a.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function U(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function Z(x){return x.h==-1}a.l=function(x){return x=st(this,x),Z(x)?-1:U(x)?0:1};function $(x){const S=x.g.length,b=[];for(let D=0;D<S;D++)b[D]=~x.g[D];return new d(b,~x.h).add(V)}a.abs=function(){return Z(this)?$(this):this},a.add=function(x){const S=Math.max(this.g.length,x.g.length),b=[];let D=0;for(let N=0;N<=S;N++){let z=D+(this.i(N)&65535)+(x.i(N)&65535),C=(z>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);D=C>>>16,z&=65535,C&=65535,b[N]=C<<16|z}return new d(b,b[b.length-1]&-2147483648?-1:0)};function st(x,S){return x.add($(S))}a.j=function(x){if(U(this)||U(x))return A;if(Z(this))return Z(x)?$(this).j($(x)):$($(this).j(x));if(Z(x))return $(this.j($(x)));if(this.l(B)<0&&x.l(B)<0)return _(this.m()*x.m());const S=this.g.length+x.g.length,b=[];for(var D=0;D<2*S;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(let N=0;N<x.g.length;N++){const z=this.i(D)>>>16,C=this.i(D)&65535,jt=x.i(N)>>>16,Jt=x.i(N)&65535;b[2*D+2*N]+=C*Jt,tt(b,2*D+2*N),b[2*D+2*N+1]+=z*Jt,tt(b,2*D+2*N+1),b[2*D+2*N+1]+=C*jt,tt(b,2*D+2*N+1),b[2*D+2*N+2]+=z*jt,tt(b,2*D+2*N+2)}for(x=0;x<S;x++)b[x]=b[2*x+1]<<16|b[2*x];for(x=S;x<2*S;x++)b[x]=0;return new d(b,0)};function tt(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function rt(x,S){this.g=x,this.h=S}function ct(x,S){if(U(S))throw Error("division by zero");if(U(x))return new rt(A,A);if(Z(x))return S=ct($(x),S),new rt($(S.g),$(S.h));if(Z(S))return S=ct(x,$(S)),new rt($(S.g),S.h);if(x.g.length>30){if(Z(x)||Z(S))throw Error("slowDivide_ only works with positive integers.");for(var b=V,D=S;D.l(x)<=0;)b=pt(b),D=pt(D);var N=ht(b,1),z=ht(D,1);for(D=ht(D,2),b=ht(b,2);!U(D);){var C=z.add(D);C.l(x)<=0&&(N=N.add(b),z=C),D=ht(D,1),b=ht(b,1)}return S=st(x,N.j(S)),new rt(N,S)}for(N=A;x.l(S)>=0;){for(b=Math.max(1,Math.floor(x.m()/S.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),z=_(b),C=z.j(S);Z(C)||C.l(x)>0;)b-=D,z=_(b),C=z.j(S);U(z)&&(z=V),N=N.add(z),x=st(x,C)}return new rt(N,x)}a.B=function(x){return ct(this,x).h},a.and=function(x){const S=Math.max(this.g.length,x.g.length),b=[];for(let D=0;D<S;D++)b[D]=this.i(D)&x.i(D);return new d(b,this.h&x.h)},a.or=function(x){const S=Math.max(this.g.length,x.g.length),b=[];for(let D=0;D<S;D++)b[D]=this.i(D)|x.i(D);return new d(b,this.h|x.h)},a.xor=function(x){const S=Math.max(this.g.length,x.g.length),b=[];for(let D=0;D<S;D++)b[D]=this.i(D)^x.i(D);return new d(b,this.h^x.h)};function pt(x){const S=x.g.length+1,b=[];for(let D=0;D<S;D++)b[D]=x.i(D)<<1|x.i(D-1)>>>31;return new d(b,x.h)}function ht(x,S){const b=S>>5;S%=32;const D=x.g.length-b,N=[];for(let z=0;z<D;z++)N[z]=S>0?x.i(z+b)>>>S|x.i(z+b+1)<<32-S:x.i(z+b);return new d(N,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,n1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=w,Gs=d}).apply(typeof i0<"u"?i0:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var i1,fl,s1,Rc,Fd,r1,a1,o1;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function w(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,H){for(var et=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)et[wt-2]=arguments[wt];return m.prototype[L].apply(T,et)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function U(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const H=L.length||0;u.length=v+H;for(let et=0;et<H;et++)u[v+et]=L[et]}else u.push(L)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function st(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class tt{constructor(){this.h=this.g=null}add(m,v){const T=rt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var rt=new Z(()=>new ct,u=>u.reset());class ct{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,ht=!1,x=new tt,S=()=>{const u=Promise.resolve(void 0);pt=()=>{u.then(b)}};function b(){for(var u;u=st();){try{u.h.call(u.g)}catch(v){$(v)}var m=rt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ht=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function jt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(jt,N),jt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&jt.Z.h.call(this)},jt.prototype.h=function(){jt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Jt="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Kt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let H=0;H<X.length;H++)v=X[H],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ot(u){this.src=u,this.g={},this.h=0}ot.prototype.add=function(u,m,v,T,L){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const et=Ct(u,m,T,L);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new nt(m,this.src,H,!!T,L),m.fa=v,u.push(m)),m};function Et(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(T,L,1),H&&(mt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ct(u,m,v,T){for(let L=0;L<u.length;++L){const H=u[L];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ie={};function ae(u,m,v,T,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ae(u,m[H],v,T,L);return null}return v=oo(v),u&&u[Jt]?u.J(m,v,g(T)?!!T.capture:!1,L):Ws(u,m,v,!1,T,L)}function Ws(u,m,v,T,L,H){if(!m)throw Error("Invalid event type");const et=g(L)?!!L.capture:!!L;let wt=tr(u);if(wt||(u[Ut]=wt=new ot(u)),v=wt.add(m,v,T,et,H),v.proxy)return v;if(T=Hr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)z||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Hr(){function u(v){return m.call(u.src,u.listener,v)}const m=ro;return u}function Fr(u,m,v,T,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Fr(u,m[H],v,T,L);else T=g(T)?!!T.capture:!!T,v=oo(v),u&&u[Jt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Ct(m,v,T,L),v>-1&&(mt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=tr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ct(m,v,T,L)),(v=u>-1?m[u]:null)&&Gr(v))}function Gr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Jt])Et(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Jn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=tr(m))?(Et(v,u),v.h==0&&(v.src=null,m[Ut]=null)):mt(u)}}}function Jn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function ro(u,m){if(u.da)u=!0;else{m=new jt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Gr(u),u=v.call(T,m)}return u}function tr(u){return u=u[Ut],u instanceof ot?u:null}var ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function oo(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function _e(){D.call(this),this.i=new ot(this),this.M=this,this.G=null}A(_e,D),_e.prototype[Jt]=!0,_e.prototype.removeEventListener=function(u,m,v,T){Fr(this,u,m,v,T)};function Ne(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),it(m,L)}L=!0;let H,et;if(v)for(et=v.length-1;et>=0;et--)H=m.g=v[et],L=ns(H,T,!0,m)&&L;if(H=m.g=u,L=ns(H,T,!0,m)&&L,L=ns(H,T,!1,m)&&L,v)for(et=0;et<v.length;et++)H=m.g=v[et],L=ns(H,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)mt(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ns(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const et=m[H];if(et&&!et.da&&et.capture==v){const wt=et.listener,me=et.ha||et.src;et.fa&&Et(u.i,et),L=wt.call(me,T)!==!1&&L}}return L&&!T.defaultPrevented}function _h(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Bl(u){u.g=_h(()=>{u.g=null,u.i&&(u.i=!1,Bl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends D{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Bl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(u){D.call(this),this.h=u,this.g={}}A(er,D);var lo=[];function uo(u){Bt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Gr(m)},u),u.g={}}er.prototype.N=function(){er.Z.N.call(this),uo(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=d.JSON.stringify,vh=d.JSON.parse,ql=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Hl(){}function Fl(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}A(Pe,N);function En(){N.call(this,"c")}A(En,N);var de={},Gl=null;function Qr(){return Gl=Gl||new _e}de.Ia="serverreachability";function Ql(u){N.call(this,de.Ia,u)}A(Ql,N);function Zn(u){const m=Qr();Ne(m,new Ql(m))}de.STAT_EVENT="statevent";function nr(u,m){N.call(this,de.STAT_EVENT,u),this.stat=m}A(nr,N);function ve(u){const m=Qr();Ne(m,new nr(m,u))}de.Ja="timingevent";function Wn(u,m){N.call(this,de.Ja,u),this.size=m}A(Wn,N);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function Eh(u,m,v,T,L,H){u.info(function(){if(u.g)if(H){var et="",wt=H.split("&");for(let Ft=0;Ft<wt.length;Ft++){var me=wt[Ft].split("=");if(me.length>1){const oe=me[0];me=me[1];const An=oe.split("_");et=An.length>=2&&An[1]=="type"?et+(oe+"="+me+"&"):et+(oe+"=redacted&")}}}else et=null;else et=H;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function Kl(u,m,v,T,L,H,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+H+" "+et})}function ei(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Th(u,v)+(T?" "+T:"")})}function ir(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Th(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return is(H)}catch{return m}}var sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function rr(){}A(rr,Hl),rr.prototype.g=function(){return new XMLHttpRequest},ho=new rr;function xi(u){return encodeURIComponent(String(u))}function Yl(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Ln(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var Ee={},Ve={};function ni(u,m,v){u.M=1,u.A=ar(be(m)),u.u=v,u.R=!0,Kr(u,null)}function Kr(u,m){u.F=Date.now(),ii(u),u.B=be(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Jr(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Pn,u.g=uu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(lo[0]=L.toString()),L=lo);for(let H=0;H<L.length;H++){const et=ae(v,L[H],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Zn(),Eh(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const wt=qn(this.g),me=this.g.ya(),Ft=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||wt!=4||me==7||(me==8||Ft<=0?Zn(3):Zn(2)),si(this);var m=this.g.ca();this.X=m;var v=bh(this);if(this.o=m==200,Kl(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var H=T;break e}}H=null}if(u=H)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,ve(12),hn(this),Tn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=$l(this,v),oe==Ve){wt==4&&(this.m=4,ve(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,ve(15),ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,oe,null),ri(this,oe);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Co(et),et.P=!0,ve(11))}}else ei(this.i,this.l,v,null),ri(this,v);wt==4&&hn(this),this.o&&!this.K&&(wt==4?ru(this.j,this):(this.o=!1,ii(this)))}else Ni(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),hn(this),Tn(this)}}}catch{}finally{}};function bh(u){if(!Xl(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const T=m.length,L=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(L&&H==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Xl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function $l(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}Ln.prototype.cancel=function(){this.K=!0,hn(this)};function ii(u){u.T=Date.now()+u.H,Yr(u,u.H)}function Yr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(_(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ir(this.i,this.B),this.M!=2&&(Zn(),ve(17)),hn(this),this.m=2,Tn(this)):Yr(this,this.T-u)};function Tn(u){u.j.I==0||u.K||ru(u.j,u)}function hn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,uo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||oi(v.h,u))){if(!u.L&&oi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)na(v),hs(v);else break t;dr(v),ve(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ti(_(v.Va,v),6e3));ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else di(v,11)}else if((u.L||v.g==u)&&na(v),!C(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ft=L[m];const oe=Ft[0];if(!(oe<=v.K))if(v.K=oe,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const An=Ft[3];An!=null&&(v.ka=An,v.j.info("VER="+v.ka));const mi=Ft[4];mi!=null&&(v.za=mi,v.j.info("SVER="+v.za));const Hn=Ft[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Fn=u.g;if(Fn){const mr=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mr){var H=T.h;H.g||mr.indexOf("spdy")==-1&&mr.indexOf("quic")==-1&&mr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(go(H,H.h),H.h=null))}if(T.G){const ia=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;ia&&(T.wa=ia,Yt(T.J,T.G,ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var et=u;if(T.na=lu(T,T.L?T.ba:null,T.W),et.L){po(T.h,et);var wt=et,me=T.O;me&&(wt.H=me),wt.D&&(si(wt),ii(wt)),T.g=et}else iu(T);v.i.length>0&&fi(v)}else Ft[0]!="stop"&&Ft[0]!="close"||di(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?di(v,7):wo(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}Zn(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function go(u,m){u.g?u.g.add(m):u.h=m}function po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var Jl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,H=null;T>=0?(L=u[v].substring(0,T),H=u[v].substring(T+1)):L=u[v],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.u),this.h=u.h,_o(this,eu(u.i)),this.m=u.m):u&&(m=String(u).match(Jl))?(this.l=!1,ze(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),ss(this,m[4]),this.h=li(m[5]||"",!0),_o(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new as(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(or(m,$r,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(or(m,$r,!0),"@"),u.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(or(v,v.charAt(0)=="/"?vo:Zl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",or(v,Wl)),u.join("")},fn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?ze(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ss(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let et=0;et<L.length;){const wt=L[et++];wt=="."?T&&et==L.length&&H.push(""):wt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&et==L.length&&H.push("")):(H.push(wt),T=!0)}T=H.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?_o(m,eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new fn(u)}function ze(u,m,v){u.j=v?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _o(u,m,v){m instanceof as?(u.i=m,Zr(u.i,u.l)):(v||(m=or(m,rs)),u.i=new as(m,u.l))}function Yt(u,m,v){u.i.set(m,v)}function ar(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function or(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $r=/[#\/\?@]/g,Zl=/[#\?:]/g,vo=/[#\?]/g,rs=/[#\?@]/g,Wl=/#/g;function as(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Xr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=as.prototype,a.add=function(u,m){sn(this),this.i=null,u=os(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function tu(u,m){sn(u),m=os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return sn(u),m=os(u,m),u.g.has(m)}a.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function To(u,m){sn(u);let v=[];if(typeof m=="string")Eo(u,m)&&(v=v.concat(u.g.get(os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return sn(this),this.i=null,u=os(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=To(this,u),u.length>0?String(u[0]):m):m};function Jr(u,m,v){tu(u,m),v.length>0&&(u.i=null,u.g.set(os(u,m),B(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=xi(v);v=To(this,v);for(let H=0;H<v.length;H++){let et=L;v[H]!==""&&(et+="="+xi(v[H])),u.push(et)}}return this.i=u.join("&")};function eu(u){const m=new as;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Zr(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(tu(this,T),Jr(this,L,v))},u)),u.j=m}function jn(u,m){const v=new Un;if(d.Image){const T=new Image;T.onload=w(bn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=w(bn,v,"TestLoadImage: error",!1,m,T),T.onabort=w(bn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=w(bn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function bo(u,m){const v=new Un,T=new AbortController,L=setTimeout(()=>{T.abort(),bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(L),H.ok?bn(v,"TestPingServer: ok",!0,m):bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),bn(v,"TestPingServer: error",!1,m)})}function bn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function ls(){this.g=new ql}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}A(ui,Hl),ui.prototype.g=function(){return new lr(this.i,this.h)};function lr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(lr,_e),a=lr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?us(this):Bn(this),this.readyState==3&&Wr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,us(this))},a.Na=function(u){this.g&&(this.response=u,us(this))},a.ga=function(){this.g&&us(this)};function us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return Bt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function ur(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Sn(v),typeof u=="string"?v!=null&&xi(v):Yt(u,m,v))}function Zt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Zt,_e);var ci=/^https?$/i,So=["POST","PUT"];a=Zt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){cr(this,H);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(So,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,et]of v)this.g.setRequestHeader(H,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){cr(this,H)}};function cr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ao(u),Ii(u)}function Ao(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Ii(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Zt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?hr(this):this.Xa())},a.Xa=function(){hr(this)};function hr(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),qn(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=H===0){let et=String(u.D).match(Jl)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!ci.test(et?et.toLowerCase():"")}v=T}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var L=qn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Ao(u)}}finally{Ii(u)}}}}function Ii(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),vh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var v=Yl(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[L]||[];m[L]=H,H.push(v)}Kt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function cs(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(u&&u.concurrentRequestLimit),this.Ba=new ls,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=cs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=lu(this,null,this.W),fi(this)};function wo(u){if(ta(u),u.I==3){var m=u.V++,v=be(u.J);if(Yt(v,"SID",u.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),fr(u,v),m=new Ln(u,u.j,m),m.M=2,m.A=ar(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=uu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}ou(u)}function hs(u){u.g&&(Co(u),u.g.cancel(),u.g=null)}function ta(u){hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),na(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;pt||S(),ht||(pt(),ht=!0),x.add(m,u),u.D=0}}function ea(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(_(u.Ea,u,m),au(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Ln(this,this.j,u);let H=this.o;if(this.U&&(H?(H=M(H),it(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=nu(this,L,m),v=be(this.J),Yt(v,"RID",u),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),fr(this,v),H&&(this.R?m="headers="+xi(Sn(H))+"&"+m:this.u&&ur(v,this.u,H)),go(this.h,L),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),L.U=!0,ni(L,v,null)):ni(L,v,m),this.I=2}}else this.I==3&&(u?Ro(this,u):this.i.length==0||mo(this.h)||Ro(this))};function Ro(u,m){var v;m?v=m.l:v=u.V++;const T=be(u.J);Yt(T,"SID",u.M),Yt(T,"RID",v),Yt(T,"AID",u.K),fr(u,T),u.u&&u.o&&ur(T,u.u,u.o),v=new Ln(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=nu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),go(u.h,v),ni(v,T,m)}function fr(u,m){u.H&&Bt(u.H,function(v,T){Yt(m,T,v)}),u.l&&Bt({},function(v,T){Yt(m,T,v)})}function nu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let wt=-1;for(;;){const me=["count="+v];wt==-1?v>0?(wt=L[0].g,me.push("ofs="+wt)):wt=0:me.push("ofs="+wt);let Ft=!0;for(let oe=0;oe<v;oe++){var H=L[oe].g;const An=L[oe].map;if(H-=wt,H<0)wt=Math.max(0,L[oe].g-100),Ft=!1;else try{H="req"+H+"_"||"";try{var et=An instanceof Map?An:Object.entries(An);for(const[mi,Hn]of et){let Fn=Hn;g(Hn)&&(Fn=is(Hn)),me.push(H+mi+"="+encodeURIComponent(Fn))}}catch(mi){throw me.push(H+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(An)}}if(Ft){et=me.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;pt||S(),ht||(pt(),ht=!0),x.add(m,u),u.A=0}}function dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(_(u.Da,u),au(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),hs(this),su(this))};function Co(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function su(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),fr(u,m),u.u&&u.o&&ur(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ar(be(m)),v.u=null,v.R=!0,Kr(v,u)}a.Va=function(){this.C!=null&&(this.C=null,hs(this),dr(this),ve(19))};function na(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ru(u,m){var v=null;if(u.g==m){na(u),Co(u),u.g=null;var T=2}else if(oi(u.h,m))v=m.G,po(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Qr(),Ne(T,new Wn(T,v)),fi(u)}else iu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ea(u,m)||T==2&&dr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function au(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(T,"https"),ar(T),L?jn(T.toString(),v):bo(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),ou(u),ta(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function ou(u){if(u.I=0,u.ja=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&(U(u.ja,m),U(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function lu(u,m,v){var T=v instanceof fn?be(v):new fn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ss(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new fn(null);T&&ze(H,T),m&&(H.g=m),L&&ss(H,L),v&&(H.h=v),T=H}return v=u.G,m=u.wa,v&&m&&Yt(T,v,m),Yt(T,"VER",u.ka),fr(u,T),T}function uu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new ui({ab:v})):new Zt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}a=cu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function fs(){}fs.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){_e.call(this),this.g=new cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Di(this)}A(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){wo(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=is(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&fi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,tn.Z.N.call(this)};function hu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(hu,Pe);function fu(){En.call(this),this.status=1}A(fu,En);function Di(u){this.g=u}A(Di,cu),Di.prototype.ra=function(){Ne(this.g,"a")},Di.prototype.qa=function(u){Ne(this.g,new hu(u))},Di.prototype.pa=function(u){Ne(this.g,new fu)},Di.prototype.oa=function(){Ne(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,o1=function(){return new fs},a1=function(){return Qr()},r1=de,Fd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,Rc=sr,co.COMPLETE="complete",s1=co,Fl.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,fl=Fl,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,i1=Zt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const s0="@firebase/firestore",r0="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let eo="12.3.0";const Ur=new hm("@firebase/firestore");function Ma(){return Ur.logLevel}function at(a,...t){if(Ur.logLevel<=Mt.DEBUG){const i=t.map(Tm);Ur.debug(`Firestore (${eo}): ${a}`,...i)}}function Wi(a,...t){if(Ur.logLevel<=Mt.ERROR){const i=t.map(Tm);Ur.error(`Firestore (${eo}): ${a}`,...i)}}function Ga(a,...t){if(Ur.logLevel<=Mt.WARN){const i=t.map(Tm);Ur.warn(`Firestore (${eo}): ${a}`,...i)}}function Tm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function _t(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,l1(a,r,i)}function l1(a,t,i){let r=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Wi(r),new Error(r)}function Qt(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||l1(t,l,r)}function St(a,t){return a}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends es{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class u1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class fR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class dR{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Or,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Or)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qt(typeof r.accessToken=="string",31837,{l:r}),new u1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class mR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new mR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class a0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const r=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new a0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new a0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=yR(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Vt(a,t){return a<t?-1:a>t?1:0}function Gd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),c=t.charAt(r);if(l!==c)return Nd(l)===Nd(c)?Vt(l,c):Nd(l)?1:-1}return Vt(a.length,t.length)}const _R=55296,vR=57343;function Nd(a){const t=a.charCodeAt(0);return t>=_R&&t<=vR}function Qa(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}const o0="__name__";class vi{constructor(t,i,r){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&_t(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const r=vi.isNumericId(t),l=vi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Gd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gs.fromString(t.substring(4,t.length-2))}}class ue extends vi{construct(t,i,r){return new ue(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ft(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const ER=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends vi{construct(t,i,r){return new Qe(t,i,r)}static isValidIdentifier(t){return ER.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===o0}static keyField(){return new Qe([o0])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ft(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ft(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ft(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ft(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ue.fromString(t))}static fromName(t){return new gt(ue.fromString(t).popFirst(5))}static empty(){return new gt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ue(t.slice()))}}function TR(a,t,i){if(!i)throw new ft(W.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function bR(a,t,i,r){if(t===!0&&r===!0)throw new ft(W.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function l0(a){if(!gt.isDocumentKey(a))throw new ft(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function c1(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Sm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":_t(12329,{type:typeof a})}function Ba(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ft(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sm(a);throw new ft(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function xe(a,t){const i={typeString:a};return t&&(i.value=t),i}function kl(a,t){if(!c1(a))throw new ft(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ft(W.INVALID_ARGUMENT,i);return!0}const u0=-62135596800,c0=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*c0);return new re(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ft(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<u0)throw new ft(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(kl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-u0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:xe("string",re._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new re(0,0))}static max(){return new Tt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Al=-1;function SR(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(r===1e9?new re(i+1,0):new re(i,r));return new Ks(l,gt.empty(),t)}function AR(a){return new Ks(a.readTime,a.key,Al)}class Ks{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ks(Tt.min(),gt.empty(),Al)}static max(){return new Ks(Tt.max(),gt.empty(),Al)}}function wR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,t.documentKey),i!==0?i:Vt(a.largestBatchId,t.largestBatchId))}const RR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function no(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==RR)throw a;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,r)=>{i(t)}))}static reject(t){return new J(((i,r)=>{r(t)}))}static waitFor(t){return new J(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new J(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((w=>{d[_]=w,++g,g===c&&r(d)}),(w=>l(w)))}}))}static doWhile(t,i){return new J(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function xR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function io(a){return a.name==="IndexedDbTransactionError"}class rh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rh.ce=-1;const Am=-1;function ah(a){return a==null}function Bc(a){return a===0&&1/a==-1/0}function IR(a){return typeof a=="number"&&Number.isInteger(a)&&!Bc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const h1="";function NR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=h0(t)),t=DR(a.get(i),t);return h0(t)}function DR(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case h1:i+="";break;default:i+=c}}return i}function h0(a){return a+h1+""}function f0(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Pr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function f1(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ge(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new d0(this.data.getIterator())}getIteratorFrom(t){return new d0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class d0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new $n([])}unionWith(t){let i=new Me(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new $n(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Qa(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class d1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new d1("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const OR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(a){if(Qt(!!a,39018),typeof a=="string"){let t=0;const i=OR.exec(a);if(Qt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(a.seconds),nanos:ye(a.nanos)}}function ye(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Xs(a){return typeof a=="string"?Ke.fromBase64String(a):Ke.fromUint8Array(a)}const m1="server_timestamp",g1="__type__",p1="__previous_value__",y1="__local_write_time__";function wm(a){return(a?.mapValue?.fields||{})[g1]?.stringValue===m1}function oh(a){const t=a.mapValue.fields[p1];return wm(t)?oh(t):t}function wl(a){const t=Ys(a.mapValue.fields[y1].timestampValue);return new re(t.seconds,t.nanos)}class MR{constructor(t,i,r,l,c,d,g,y,_,w){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=w}}const qc="(default)";class Rl{constructor(t,i){this.projectId=t,this.database=i||qc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===qc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}const _1="__type__",VR="__max__",vc={mapValue:{}},v1="__vector__",Hc="value";function $s(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?wm(a)?4:kR(a)?9007199254740991:zR(a)?10:11:_t(28295,{value:a})}function Ri(a,t){if(a===t)return!0;const i=$s(a);if(i!==$s(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return wl(a).isEqual(wl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ys(l.timestampValue),g=Ys(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return Xs(l.bytesValue).isEqual(Xs(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),g=ye(c.doubleValue);return d===g?Bc(d)===Bc(g):isNaN(d)&&isNaN(g)}return!1})(a,t);case 9:return Qa(a.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(f0(d)!==f0(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ri(d[y],g[y])))return!1;return!0})(a,t);default:return _t(52216,{left:a})}}function Cl(a,t){return(a.values||[]).find((i=>Ri(i,t)))!==void 0}function Ka(a,t){if(a===t)return 0;const i=$s(a),r=$s(t);if(i!==r)return Vt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(a,t);case 3:return m0(a.timestampValue,t.timestampValue);case 4:return m0(wl(a),wl(t));case 5:return Gd(a.stringValue,t.stringValue);case 6:return(function(c,d){const g=Xs(c),y=Xs(d);return g.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const w=Vt(g[_],y[_]);if(w!==0)return w}return Vt(g.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Vt(ye(c.latitude),ye(d.latitude));return g!==0?g:Vt(ye(c.longitude),ye(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return g0(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[Hc]?.arrayValue,w=y[Hc]?.arrayValue,A=Vt(_?.values?.length||0,w?.values?.length||0);return A!==0?A:g0(_,w)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===vc.mapValue&&d===vc.mapValue)return 0;if(c===vc.mapValue)return 1;if(d===vc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},w=Object.keys(_);y.sort(),w.sort();for(let A=0;A<y.length&&A<w.length;++A){const V=Gd(y[A],w[A]);if(V!==0)return V;const B=Ka(g[y[A]],_[w[A]]);if(B!==0)return B}return Vt(y.length,w.length)})(a.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function m0(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Vt(a,t);const i=Ys(a),r=Ys(t),l=Vt(i.seconds,r.seconds);return l!==0?l:Vt(i.nanos,r.nanos)}function g0(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Ka(i[l],r[l]);if(c)return c}return Vt(i.length,r.length)}function Ya(a){return Qd(a)}function Qd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Ys(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Xs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return gt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Qd(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Qd(i.fields[d])}`;return l+"}"})(a.mapValue):_t(61005,{value:a})}function Cc(a){switch($s(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(a);return t?16+Cc(t):16;case 5:return 2*a.stringValue.length;case 6:return Xs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Cc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return Pr(r.fields,((c,d)=>{l+=c.length+Cc(d)})),l})(a.mapValue);default:throw _t(13486,{value:a})}}function Kd(a){return!!a&&"integerValue"in a}function Rm(a){return!!a&&"arrayValue"in a}function p0(a){return!!a&&"nullValue"in a}function y0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function xc(a){return!!a&&"mapValue"in a}function zR(a){return(a?.mapValue?.fields||{})[_1]?.stringValue===v1}function _l(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Pr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=_l(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=_l(a.arrayValue.values[i]);return t}return{...a}}function kR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===VR}class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!xc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=_l(i)}setAll(t){let i=Qe.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=_l(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Pr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Mn(_l(this.value))}}function E1(a){const t=[];return Pr(a.fields,((i,r)=>{const l=new Qe([i]);if(xc(r)){const c=E1(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new $n(t)}class Je{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,Tt.min(),Tt.min(),Tt.min(),Mn.empty(),0)}static newFoundDocument(t,i,r,l){return new Je(t,1,i,Tt.min(),r,l,0)}static newNoDocument(t,i){return new Je(t,2,i,Tt.min(),Tt.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,Tt.min(),Tt.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fc{constructor(t,i){this.position=t,this.inclusive=i}}function _0(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?r=gt.comparator(gt.fromName(d.referenceValue),i.key):r=Ka(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function v0(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ri(a.position[i],t.position[i]))return!1;return!0}class Gc{constructor(t,i="asc"){this.field=t,this.dir=i}}function UR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class T1{}class Oe extends T1{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new PR(t,i,r):i==="array-contains"?new qR(t,r):i==="in"?new HR(t,r):i==="not-in"?new FR(t,r):i==="array-contains-any"?new GR(t,r):new Oe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new jR(t,r):new BR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ka(i,this.value)):i!==null&&$s(this.value)===$s(i)&&this.matchesComparison(Ka(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends T1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return b1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function b1(a){return a.op==="and"}function S1(a){return LR(a)&&b1(a)}function LR(a){for(const t of a.filters)if(t instanceof Ci)return!1;return!0}function Yd(a){if(a instanceof Oe)return a.field.canonicalString()+a.op.toString()+Ya(a.value);if(S1(a))return a.filters.map((t=>Yd(t))).join(",");{const t=a.filters.map((i=>Yd(i))).join(",");return`${a.op}(${t})`}}function A1(a,t){return a instanceof Oe?(function(r,l){return l instanceof Oe&&r.op===l.op&&r.field.isEqual(l.field)&&Ri(r.value,l.value)})(a,t):a instanceof Ci?(function(r,l){return l instanceof Ci&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&A1(d,l.filters[g])),!0):!1})(a,t):void _t(19439)}function w1(a){return a instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ya(i.value)}`})(a):a instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(w1).join(" ,")+"}"})(a):"Filter"}class PR extends Oe{constructor(t,i,r){super(t,i,r),this.key=gt.fromName(r.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class jR extends Oe{constructor(t,i){super(t,"in",i),this.keys=R1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class BR extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=R1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function R1(a,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class qR extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Rm(i)&&Cl(i.arrayValue,this.value)}}class HR extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Cl(this.value.arrayValue,i)}}class FR extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Cl(this.value.arrayValue,i)}}class GR extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Rm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Cl(this.value.arrayValue,r)))}}class QR{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function E0(a,t=null,i=[],r=[],l=null,c=null,d=null){return new QR(a,t,i,r,l,c,d)}function Cm(a){const t=St(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Yd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ya(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ya(r))).join(",")),t.Te=i}return t.Te}function xm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!UR(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!A1(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!v0(a.startAt,t.startAt)&&v0(a.endAt,t.endAt)}function Xd(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class lh{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KR(a,t,i,r,l,c,d,g){return new lh(a,t,i,r,l,c,d,g)}function Im(a){return new lh(a)}function T0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function YR(a){return a.collectionGroup!==null}function vl(a){const t=St(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Gc(c,r))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Gc(Qe.keyField(),r))}return t.Ie}function bi(a){const t=St(a);return t.Ee||(t.Ee=XR(t,vl(a))),t.Ee}function XR(a,t){if(a.limitType==="F")return E0(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Gc(l.field,c)}));const i=a.endAt?new Fc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Fc(a.startAt.position,a.startAt.inclusive):null;return E0(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function $d(a,t,i){return new lh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function uh(a,t){return xm(bi(a),bi(t))&&a.limitType===t.limitType}function C1(a){return`${Cm(bi(a))}|lt:${a.limitType}`}function Va(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>w1(l))).join(", ")}]`),ah(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Ya(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Ya(l))).join(",")),`Target(${r})`})(bi(a))}; limitType=${a.limitType})`}function ch(a,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):gt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,t)&&(function(r,l){for(const c of vl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const _=_0(d,g,y);return d.inclusive?_<=0:_<0})(r.startAt,vl(r),l)||r.endAt&&!(function(d,g,y){const _=_0(d,g,y);return d.inclusive?_>=0:_>0})(r.endAt,vl(r),l))})(a,t)}function $R(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function x1(a){return(t,i)=>{let r=!1;for(const l of vl(a)){const c=JR(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function JR(a,t,i){const r=a.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?Ka(y,_):_t(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:a.dir})}}class jr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Pr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return f1(this.inner)}size(){return this.innerSize}}const ZR=new ce(gt.comparator);function ts(){return ZR}const I1=new ce(gt.comparator);function dl(...a){let t=I1;for(const i of a)t=t.insert(i.key,i);return t}function N1(a){let t=I1;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Dr(){return El()}function D1(){return El()}function El(){return new jr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const WR=new ce(gt.comparator),tC=new Me(gt.comparator);function zt(...a){let t=tC;for(const i of a)t=t.add(i);return t}const eC=new Me(Vt);function nC(){return eC}function Nm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(t)?"-0":t}}function O1(a){return{integerValue:""+a}}function iC(a,t){return IR(t)?O1(t):Nm(a,t)}class hh{constructor(){this._=void 0}}function sC(a,t,i){return a instanceof Qc?(function(l,c){const d={fields:{[g1]:{stringValue:m1},[y1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&wm(c)&&(c=oh(c)),c&&(d.fields[p1]=c),{mapValue:d}})(i,t):a instanceof xl?V1(a,t):a instanceof Il?z1(a,t):(function(l,c){const d=M1(l,c),g=b0(d)+b0(l.Ae);return Kd(d)&&Kd(l.Ae)?O1(g):Nm(l.serializer,g)})(a,t)}function rC(a,t,i){return a instanceof xl?V1(a,t):a instanceof Il?z1(a,t):i}function M1(a,t){return a instanceof Kc?(function(r){return Kd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Qc extends hh{}class xl extends hh{constructor(t){super(),this.elements=t}}function V1(a,t){const i=k1(t);for(const r of a.elements)i.some((l=>Ri(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Il extends hh{constructor(t){super(),this.elements=t}}function z1(a,t){let i=k1(t);for(const r of a.elements)i=i.filter((l=>!Ri(l,r)));return{arrayValue:{values:i}}}class Kc extends hh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function b0(a){return ye(a.integerValue||a.doubleValue)}function k1(a){return Rm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function aC(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof xl&&l instanceof xl||r instanceof Il&&l instanceof Il?Qa(r.elements,l.elements,Ri):r instanceof Kc&&l instanceof Kc?Ri(r.Ae,l.Ae):r instanceof Qc&&l instanceof Qc})(a.transform,t.transform)}class oC{constructor(t,i){this.version=t,this.transformResults=i}}class Xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xi}static exists(t){return new Xi(void 0,t)}static updateTime(t){return new Xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ic(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class fh{}function U1(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new P1(a.key,Xi.none()):new Ul(a.key,a.data,Xi.none());{const i=a.data,r=Mn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Br(a.key,r,new $n(l.toArray()),Xi.none())}}function lC(a,t,i){a instanceof Ul?(function(l,c,d){const g=l.value.clone(),y=A0(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,t,i):a instanceof Br?(function(l,c,d){if(!Ic(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=A0(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(L1(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Tl(a,t,i,r){return a instanceof Ul?(function(c,d,g,y){if(!Ic(c.precondition,d))return g;const _=c.value.clone(),w=w0(c.fieldTransforms,y,d);return _.setAll(w),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,t,i,r):a instanceof Br?(function(c,d,g,y){if(!Ic(c.precondition,d))return g;const _=w0(c.fieldTransforms,y,d),w=d.data;return w.setAll(L1(c)),w.setAll(_),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(a,t,i,r):(function(c,d,g){return Ic(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,t,i)}function uC(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),c=M1(r.transform,l||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(r.field,c))}return i||null}function S0(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Qa(r,l,((c,d)=>aC(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Ul extends fh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Br extends fh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function L1(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function A0(a,t,i){const r=new Map;Qt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,rC(d,g,i[l]))}return r}function w0(a,t,i){const r=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);r.set(l.field,sC(c,d,t))}return r}class P1 extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cC extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hC{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&lC(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Tl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Tl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=D1();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=U1(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Qa(this.mutations,t.mutations,((i,r)=>S0(i,r)))&&Qa(this.baseMutations,t.baseMutations,((i,r)=>S0(i,r)))}}class Dm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Qt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return WR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Dm(t,i,r,l)}}class fC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dC{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,Lt;function mC(a){switch(a){case W.OK:return _t(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _t(15467,{code:a})}}function j1(a){if(a===void 0)return Wi("GRPC error has no .code"),W.UNKNOWN;switch(a){case Ce.OK:return W.OK;case Ce.CANCELLED:return W.CANCELLED;case Ce.UNKNOWN:return W.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return W.INTERNAL;case Ce.UNAVAILABLE:return W.UNAVAILABLE;case Ce.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ce.NOT_FOUND:return W.NOT_FOUND;case Ce.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ce.ABORTED:return W.ABORTED;case Ce.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ce.DATA_LOSS:return W.DATA_LOSS;default:return _t(39323,{code:a})}}(Lt=Ce||(Ce={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function gC(){return new TextEncoder}const pC=new Gs([4294967295,4294967295],0);function R0(a){const t=gC().encode(a),i=new n1;return i.update(t),new Uint8Array(i.digest())}function C0(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gs([i,r],0),new Gs([l,c],0)]}class Om{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new ml(`Invalid padding: ${i}`);if(r<0)throw new ml(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new ml(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Gs.fromNumber(r)));return l.compare(pC)===1&&(l=new Gs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=R0(t),[r,l]=C0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Om(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=R0(t),[r,l]=C0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Ll.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new dh(Tt.min(),l,new ce(Vt),ts(),zt())}}class Ll{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Ll(r,i,zt(),zt(),zt())}}class Nc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class B1{constructor(t,i){this.targetId=t,this.Ce=i}}class q1{constructor(t,i,r=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class x0{constructor(){this.ve=0,this.Fe=I0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),r=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:_t(38017,{changeType:c})}})),new Ll(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=I0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yC{constructor(t){this.Ge=t,this.ze=new Map,this.je=ts(),this.Je=Ec(),this.He=Ec(),this.Ye=new ce(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Xd(c))if(r===0){const d=new gt(c.path);this.et(i,d,Je.newNoDocument(d,Tt.min()))}else Qt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Xs(r).toUint8Array()}catch(y){if(y instanceof d1)return Ga("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Om(d,l,c)}catch(y){return Ga(y instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Xd(g.target)){const y=new gt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=zt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new dh(t,i,this.Ye,this.je,r);return this.je=ts(),this.Je=Ec(),this.He=Ec(),this.Ye=new ce(Vt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new x0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new x0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ec(){return new ce(gt.comparator)}function I0(){return new ce(gt.comparator)}const _C={asc:"ASCENDING",desc:"DESCENDING"},vC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EC={and:"AND",or:"OR"};class TC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Jd(a,t){return a.useProto3Json||ah(t)?t:{value:t}}function Yc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function H1(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function bC(a,t){return Yc(a,t.toTimestamp())}function Si(a){return Qt(!!a,49232),Tt.fromTimestamp((function(i){const r=Ys(i);return new re(r.seconds,r.nanos)})(a))}function Mm(a,t){return Zd(a,t).canonicalString()}function Zd(a,t){const i=(function(l){return new ue(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function F1(a){const t=ue.fromString(a);return Qt(X1(t),10190,{key:t.toString()}),t}function Wd(a,t){return Mm(a.databaseId,t.path)}function Dd(a,t){const i=F1(t);if(i.get(1)!==a.databaseId.projectId)throw new ft(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ft(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(Q1(i))}function G1(a,t){return Mm(a.databaseId,t)}function SC(a){const t=F1(a);return t.length===4?ue.emptyPath():Q1(t)}function tm(a){return new ue(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Q1(a){return Qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function N0(a,t,i){return{name:Wd(a,t),fields:i.value.mapValue.fields}}function AC(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,w){return _.useProto3Json?(Qt(w===void 0||typeof w=="string",58123),Ke.fromBase64String(w||"")):(Qt(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Ke.fromUint8Array(w||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const w=_.code===void 0?W.UNKNOWN:j1(_.code);return new ft(w,_.message||"")})(d);i=new q1(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Dd(a,r.document.name),c=Si(r.document.updateTime),d=r.document.createTime?Si(r.document.createTime):Tt.min(),g=new Mn({mapValue:{fields:r.document.fields}}),y=Je.newFoundDocument(l,c,d,g),_=r.targetIds||[],w=r.removedTargetIds||[];i=new Nc(_,w,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Dd(a,r.document),c=r.readTime?Si(r.readTime):Tt.min(),d=Je.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Nc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Dd(a,r.document),c=r.removedTargetIds||[];i=new Nc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new dC(l,c),g=r.targetId;i=new B1(g,d)}}return i}function wC(a,t){let i;if(t instanceof Ul)i={update:N0(a,t.key,t.value)};else if(t instanceof P1)i={delete:Wd(a,t.key)};else if(t instanceof Br)i={update:N0(a,t.key,t.data),updateMask:VC(t.fieldMask)};else{if(!(t instanceof cC))return _t(16599,{Vt:t.type});i={verify:Wd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof Qc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Il)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Kc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:bC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(a,t.precondition)),i}function RC(a,t){return a&&a.length>0?(Qt(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Si(l.updateTime):Si(c);return d.isEqual(Tt.min())&&(d=Si(c)),new oC(d,l.transformResults||[])})(i,t)))):[]}function CC(a,t){return{documents:[G1(a,t.path)]}}function xC(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=G1(a,l);const c=(function(_){if(_.length!==0)return Y1(Ci.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((w=>(function(V){return{field:za(V.field),direction:DC(V.dir)}})(w)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Jd(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function IC(a){let t=SC(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Qt(r===1,65062);const w=i.from[0];w.allDescendants?l=w.collectionId:t=t.child(w.collectionId)}let c=[];i.where&&(c=(function(A){const V=K1(A);return V instanceof Ci&&S1(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(U){return new Gc(ka(U.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let V;return V=typeof A=="object"?A.value:A,ah(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(A){const V=!!A.before,B=A.values||[];return new Fc(B,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const V=!A.before,B=A.values||[];return new Fc(B,V)})(i.endAt)),KR(t,l,d,c,g,"F",y,_)}function NC(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function K1(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ka(i.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ka(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ka(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ka(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Oe.create(ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((r=>K1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(a):_t(30097,{filter:a})}function DC(a){return _C[a]}function OC(a){return vC[a]}function MC(a){return EC[a]}function za(a){return{fieldPath:a.canonicalString()}}function ka(a){return Qe.fromServerFormat(a.fieldPath)}function Y1(a){return a instanceof Oe?(function(i){if(i.op==="=="){if(y0(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(p0(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(y0(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(p0(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:OC(i.op),value:i.value}}})(a):a instanceof Ci?(function(i){const r=i.getFilters().map((l=>Y1(l)));return r.length===1?r[0]:{compositeFilter:{op:MC(i.op),filters:r}}})(a):_t(54877,{filter:a})}function VC(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function X1(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class js{constructor(t,i,r,l,c=Tt.min(),d=Tt.min(),g=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class zC{constructor(t){this.yt=t}}function kC(a){const t=IC({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?$d(t,t.limit,"L"):t}class UC{constructor(){this.Cn=new LC}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(Ks.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(Ks.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class LC{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Me(ue.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Me(ue.comparator)).toArray()}}const D0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$1=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn($1,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Xa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Xa(0)}static cr(){return new Xa(-1)}}const O0="LruGarbageCollector",PC=1048576;function M0([a,t],[i,r]){const l=Vt(a,i);return l===0?Vt(t,r):l}class jC{constructor(t){this.Ir=t,this.buffer=new Me(M0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();M0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class BC{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(O0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){io(i)?at(O0,"Ignoring IndexedDB error during garbage collection: ",i):await no(i)}await this.Vr(3e5)}))}}class qC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(rh.ce);const r=new jC(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(D0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,g,y,_;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(r=A,g=Date.now(),this.removeTargets(t,r,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(_=Date.now(),Ma()<=Mt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-w}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function HC(a,t){return new qC(a,t)}class FC{constructor(){this.changes=new jr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class GC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class QC{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Tl(r.mutation,l,$n.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,zt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=zt()){const l=Dr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=dl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Dr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,zt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=ts();const d=El(),g=(function(){return El()})();return i.forEach(((y,_)=>{const w=r.get(_.key);l.has(_.key)&&(w===void 0||w.mutation instanceof Br)?c=c.insert(_.key,_):w!==void 0?(d.set(_.key,w.mutation.getFieldMask()),Tl(w.mutation,_,w.mutation.getFieldMask(),re.now())):d.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,w)=>d.set(_,w))),i.forEach(((_,w)=>g.set(_,new GC(w,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=El();let l=new ce(((d,g)=>d-g)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let w=r.get(y)||$n.empty();w=g.applyToLocalView(_,w),r.set(y,w);const A=(l.get(g.batchId)||zt()).add(y);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,w=y.value,A=D1();w.forEach((V=>{if(!c.has(V)){const B=U1(i.get(V),r.get(V));B!==null&&A.set(V,B),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):YR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):J.resolve(Dr());let g=Al,y=c;return d.next((_=>J.forEach(_,((w,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(w)?J.resolve():this.remoteDocumentCache.getEntry(t,w).next((V=>{y=y.insert(w,V)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,zt()))).next((w=>({batchId:g,changes:N1(w)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((r=>{let l=dl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=dl();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(y=>{const _=(function(A,V){return new lh(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((w=>{w.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const w=_.getKey();d.get(w)===null&&(d=d.insert(w,Je.newInvalidDocument(w)))}));let g=dl();return d.forEach(((y,_)=>{const w=c.get(y);w!==void 0&&Tl(w.mutation,_,$n.empty(),re.now()),ch(i,_)&&(g=g.insert(y,_))})),g}))}}class KC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:kC(l.bundledQuery),readTime:Si(l.readTime)}})(i)),J.resolve()}}class YC{constructor(){this.overlays=new ce(gt.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Dr();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const l=Dr(),c=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new ce(((_,w)=>_-w));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let w=c.get(_.largestBatchId);w===null&&(w=Dr(),c=c.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const g=Dr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,w)=>g.set(_,w))),!(g.size()>=l)););return J.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new fC(i,r));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class XC{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Vm{constructor(){this.Qr=new Me(Ue.$r),this.Ur=new Me(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ue(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ue(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new gt(new ue([])),r=new Ue(i,t),l=new Ue(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new ue([])),r=new Ue(i,t),l=new Ue(i,t+1);let c=zt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ue(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ue{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class $C{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Ue.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new hC(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ue(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Am:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Me(Vt);return i.forEach((l=>{const c=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;gt.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new gt(c),0);let g=new Me(Vt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(l=>{const c=new Ue(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ue(i,0),l=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class JC{constructor(t){this.ri=t,this.docs=(function(){return new ce(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let r=ts();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=ts();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:w}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||wR(AR(w),r)<=0||(l.has(w.key)||ch(i,w))&&(c=c.insert(w.key,w.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,r,l){_t(9500)}ii(t,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new ZC(this)}getSize(t){return J.resolve(this.size)}}class ZC extends FC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class WC{constructor(t){this.persistence=t,this.si=new jr((i=>Cm(i)),xm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Vm,this.targetCount=0,this.ai=Xa.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Xa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class J1{constructor(t,i){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new XC,this.referenceDelegate=t(this),this.Pi=new WC(this),this.indexManager=new UC,this.remoteDocumentCache=(function(l){return new JC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new zC(i),this.Ii=new KC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new YC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new $C(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const l=new tx(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class tx extends CR{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new Vm,this.Vi=null}static mi(t){return new zm(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const l=gt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Xc{constructor(t,i){this.persistence=t,this.pi=new jr((r=>NR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=HC(this,i)}static mi(t,i){return new Xc(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Cc(t.data.value)),i}br(t,i,r){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class km{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new km(t,i.fromCache,r,l)}}class ex{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class nx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return GS()?8:xR(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new ex;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ma()<=Mt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Va(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ma()<=Mt.DEBUG&&at("QueryEngine","Query:",Va(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ma()<=Mt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Va(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(i))):J.resolve())}ys(t,i){if(T0(i))return J.resolve(null);let r=bi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=$d(i,null,"F"),r=bi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,$d(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,r,l){return T0(i)||l.isEqual(Tt.min())?J.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?J.resolve(null):(Ma()<=Mt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Va(i)),this.vs(t,d,i,SR(l,Al)).next((g=>g)))}))}Ds(t,i){let r=new Me(x1(t));return i.forEach(((l,c)=>{ch(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Ma()<=Mt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Va(i)),this.ps.getDocumentsMatchingQuery(t,i,Ks.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Um="LocalStore",ix=3e8;class sx{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ce(Vt),this.xs=new jr((c=>Cm(c)),xm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new QC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function rx(a,t,i,r){return new sx(a,t,i,r)}async function Z1(a,t){const i=St(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let y=zt();for(const _ of l){d.push(_.batchId);for(const w of _.mutations)y=y.add(w.key)}for(const _ of c){g.push(_.batchId);for(const w of _.mutations)y=y.add(w.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function ax(a,t){const i=St(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,w){const A=_.batch,V=A.keys();let B=J.resolve();return V.forEach((U=>{B=B.next((()=>w.getEntry(y,U))).next((Z=>{const $=_.docVersions.get(U);Qt($!==null,48541),Z.version.compareTo($)<0&&(A.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),w.addEntry(Z)))}))})),B.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=zt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function W1(a){const t=St(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function ox(a,t){const i=St(a),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((w,A)=>{const V=l.get(A);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,w.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,w.addedDocuments,A))));let B=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?B=B.withResumeToken(Ke.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):w.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(w.resumeToken,r)),l=l.insert(A,B),(function(Z,$,st){return Z.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=ix?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0})(V,B,w)&&g.push(i.Pi.updateTargetData(c,B))}));let y=ts(),_=zt();if(t.documentUpdates.forEach((w=>{t.resolvedLimboDocuments.has(w)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,w))})),g.push(lx(c,d,t.documentUpdates).next((w=>{y=w.ks,_=w.qs}))),!r.isEqual(Tt.min())){const w=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(w)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function lx(a,t,i){let r=zt(),l=zt();return i.forEach((c=>r=r.add(c))),t.getEntries(a,r).next((c=>{let d=ts();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):at(Um,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function ux(a,t){const i=St(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Am),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function cx(a,t){const i=St(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,J.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new js(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function em(a,t,i){const r=St(a),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!io(d))throw d;at(Um,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function V0(a,t,i){const r=St(a);let l=Tt.min(),c=zt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,w){const A=St(y),V=A.xs.get(w);return V!==void 0?J.resolve(A.Ms.get(V)):A.Pi.getTargetData(_,w)})(r,d,bi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:zt()))).next((g=>(hx(r,$R(t),g),{documents:g,Qs:c})))))}function hx(a,t,i){let r=a.Os.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(t,r)}class z0{constructor(){this.activeTargetIds=nC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fx{constructor(){this.Mo=new z0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new z0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class dx{Oo(t){}shutdown(){}}const k0="ConnectivityMonitor";class U0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(k0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(k0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tc=null;function nm(){return Tc===null?Tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tc++,"0x"+Tc.toString(16)}const Od="RestConnection",mx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gx{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===qc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=nm(),g=this.zo(t,i.toUriEncodedString());at(Od,`Sending RPC '${t}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),w=Za(_);return this.Jo(t,g,y,r,w).then((A=>(at(Od,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Ga(Od,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=mx[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class px{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class yx extends gx{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=nm();return new Promise(((g,y)=>{const _=new i1;_.setWithCredentials(!0),_.listenOnce(s1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Rc.NO_ERROR:const A=_.getResponseJson();at(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Rc.TIMEOUT:at(Xe,`RPC '${t}' ${d} timed out`),y(new ft(W.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const V=_.getStatus();if(at(Xe,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const U=B?.error;if(U&&U.status&&U.message){const Z=(function(st){const tt=st.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(tt)>=0?tt:W.UNKNOWN})(U.status);y(new ft(Z,U.message))}else y(new ft(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ft(W.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Xe,`RPC '${t}' ${d} completed.`)}}));const w=JSON.stringify(l);at(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",w,r,15)}))}T_(t,i,r){const l=nm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=o1(),g=a1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const w=c.join("");at(Xe,`Creating RPC '${t}' stream ${l}: ${w}`,y);const A=d.createWebChannel(w,y);this.I_(A);let V=!1,B=!1;const U=new px({Yo:$=>{B?at(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(V||(at(Xe,`Opening RPC '${t}' stream ${l} transport.`),A.open(),V=!0),at(Xe,`RPC '${t}' stream ${l} sending:`,$),A.send($))},Zo:()=>A.close()}),Z=($,st,tt)=>{$.listen(st,(rt=>{try{tt(rt)}catch(ct){setTimeout((()=>{throw ct}),0)}}))};return Z(A,fl.EventType.OPEN,(()=>{B||(at(Xe,`RPC '${t}' stream ${l} transport opened.`),U.o_())})),Z(A,fl.EventType.CLOSE,(()=>{B||(B=!0,at(Xe,`RPC '${t}' stream ${l} transport closed`),U.a_(),this.E_(A))})),Z(A,fl.EventType.ERROR,($=>{B||(B=!0,Ga(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),U.a_(new ft(W.UNAVAILABLE,"The operation could not be completed")))})),Z(A,fl.EventType.MESSAGE,($=>{if(!B){const st=$.data[0];Qt(!!st,16349);const tt=st,rt=tt?.error||tt[0]?.error;if(rt){at(Xe,`RPC '${t}' stream ${l} received error:`,rt);const ct=rt.status;let pt=(function(S){const b=Ce[S];if(b!==void 0)return j1(b)})(ct),ht=rt.message;pt===void 0&&(pt=W.INTERNAL,ht="Unknown error status: "+ct+" with message "+rt.message),B=!0,U.a_(new ft(pt,ht)),A.close()}else at(Xe,`RPC '${t}' stream ${l} received:`,st),U.u_(st)}})),Z(g,r1.STAT_EVENT,($=>{$.stat===Fd.PROXY?at(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Fd.NOPROXY&&at(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Md(){return typeof document<"u"?document:null}function mh(a){return new TC(a,!0)}class tE{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const L0="PersistentStream";class eE{constructor(t,i,r,l,c,d,g,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ft(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(L0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(L0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _x extends eE{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=AC(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Si(d.readTime):Tt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=tm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=Xd(y)?{documents:CC(c,y)}:{query:xC(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=H1(c,d.resumeToken);const _=Jd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=Yc(c,d.snapshotVersion.toTimestamp());const _=Jd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const r=NC(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=tm(this.serializer),i.removeTarget=t,this.q_(i)}}class vx extends eE{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=RC(t.writeResults,t.commitTime),r=Si(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=tm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>wC(this.serializer,r)))};this.q_(i)}}class Ex{}class Tx extends Ex{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ft(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Zd(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(W.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,Zd(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bx{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Lr="RemoteStore";class Sx{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{qr(this)&&(at(Lr,"Restarting streams for network reachability change."),await(async function(y){const _=St(y);_.Ea.add(4),await Pl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await gh(_)})(this))}))})),this.Ra=new bx(r,l)}}async function gh(a){if(qr(a))for(const t of a.da)await t(!0)}async function Pl(a){for(const t of a.da)await t(!1)}function nE(a,t){const i=St(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Bm(i)?jm(i):so(i).O_()&&Pm(i,t))}function Lm(a,t){const i=St(a),r=so(i);i.Ia.delete(t),r.O_()&&iE(i,t),i.Ia.size===0&&(r.O_()?r.L_():qr(i)&&i.Ra.set("Unknown"))}function Pm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}so(a).Y_(t)}function iE(a,t){a.Va.Ue(t),so(a).Z_(t)}function jm(a){a.Va=new yC({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),so(a).start(),a.Ra.ua()}function Bm(a){return qr(a)&&!so(a).x_()&&a.Ia.size>0}function qr(a){return St(a).Ea.size===0}function sE(a){a.Va=void 0}async function Ax(a){a.Ra.set("Online")}async function wx(a){a.Ia.forEach(((t,i)=>{Pm(a,t)}))}async function Rx(a,t){sE(a),Bm(a)?(a.Ra.ha(t),jm(a)):a.Ra.set("Unknown")}async function Cx(a,t,i){if(a.Ra.set("Online"),t instanceof q1&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(a,t)}catch(r){at(Lr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await $c(a,r)}else if(t instanceof Nc?a.Va.Ze(t):t instanceof B1?a.Va.st(t):a.Va.tt(t),!i.isEqual(Tt.min()))try{const r=await W1(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.Ia.get(_);w&&c.Ia.set(_,w.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const w=c.Ia.get(y);if(!w)return;c.Ia.set(y,w.withResumeToken(Ke.EMPTY_BYTE_STRING,w.snapshotVersion)),iE(c,y);const A=new js(w.target,y,_,w.sequenceNumber);Pm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(r){at(Lr,"Failed to raise snapshot:",r),await $c(a,r)}}async function $c(a,t,i){if(!io(t))throw t;a.Ea.add(1),await Pl(a),a.Ra.set("Offline"),i||(i=()=>W1(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{at(Lr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await gh(a)}))}function rE(a,t){return t().catch((i=>$c(a,i,t)))}async function ph(a){const t=St(a),i=Js(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Am;for(;xx(t);)try{const l=await ux(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,Ix(t,l)}catch(l){await $c(t,l)}aE(t)&&oE(t)}function xx(a){return qr(a)&&a.Ta.length<10}function Ix(a,t){a.Ta.push(t);const i=Js(a);i.O_()&&i.X_&&i.ea(t.mutations)}function aE(a){return qr(a)&&!Js(a).x_()&&a.Ta.length>0}function oE(a){Js(a).start()}async function Nx(a){Js(a).ra()}async function Dx(a){const t=Js(a);for(const i of a.Ta)t.ea(i.mutations)}async function Ox(a,t,i){const r=a.Ta.shift(),l=Dm.from(r,t,i);await rE(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await ph(a)}async function Mx(a,t){t&&Js(a).X_&&await(async function(r,l){if((function(d){return mC(d)&&d!==W.ABORTED})(l.code)){const c=r.Ta.shift();Js(r).B_(),await rE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await ph(r)}})(a,t),aE(a)&&oE(a)}async function P0(a,t){const i=St(a);i.asyncQueue.verifyOperationInProgress(),at(Lr,"RemoteStore received new credentials");const r=qr(i);i.Ea.add(3),await Pl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await gh(i)}async function Vx(a,t){const i=St(a);t?(i.Ea.delete(2),await gh(i)):t||(i.Ea.add(2),await Pl(i),i.Ra.set("Unknown"))}function so(a){return a.ma||(a.ma=(function(i,r,l){const c=St(i);return c.sa(),new _x(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:Ax.bind(null,a),t_:wx.bind(null,a),r_:Rx.bind(null,a),H_:Cx.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Bm(a)?jm(a):a.Ra.set("Unknown")):(await a.ma.stop(),sE(a))}))),a.ma}function Js(a){return a.fa||(a.fa=(function(i,r,l){const c=St(i);return c.sa(),new vx(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:Nx.bind(null,a),r_:Mx.bind(null,a),ta:Dx.bind(null,a),na:Ox.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await ph(a)):(await a.fa.stop(),a.Ta.length>0&&(at(Lr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class qm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new qm(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(a,t){if(Wi("AsyncQueue",`${t}: ${a}`),io(a))return new ft(W.UNAVAILABLE,`${t}: ${a}`);throw a}class qa{static emptySet(t){return new qa(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||gt.comparator(i.key,r.key):(i,r)=>gt.comparator(i.key,r.key),this.keyedMap=dl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new qa;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class j0{constructor(){this.ga=new ce(gt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class $a{constructor(t,i,r,l,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new $a(t,i,qa.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class zx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class kx{constructor(){this.queries=B0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=St(i),c=l.queries;l.queries=B0(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(r)}))})(this,new ft(W.ABORTED,"Firestore shutting down"))}}function B0(){return new jr((a=>C1(a)),uh)}async function Ux(a,t){const i=St(a);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new zx,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Hm(d,`Initialization of query '${Va(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Fm(i)}async function Lx(a,t){const i=St(a),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Px(a,t){const i=St(a);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&Fm(i)}function jx(a,t,i){const r=St(a),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Fm(a){a.Ca.forEach((t=>{t.next()}))}var im,q0;(q0=im||(im={})).Ma="default",q0.Cache="cache";class Bx{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new $a(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=$a.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==im.Cache}}class lE{constructor(t){this.key=t}}class uE{constructor(t){this.key=t}}class qx{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=x1(t),this.tu=new qa(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new j0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((w,A)=>{const V=l.get(w),B=ch(this.query,A)?A:null,U=!!V&&this.mutatedKeys.has(V.key),Z=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let $=!1;V&&B?V.data.isEqual(B.data)?U!==Z&&(r.track({type:3,doc:B}),$=!0):this.su(V,B)||(r.track({type:2,doc:B}),$=!0,(y&&this.eu(B,y)>0||_&&this.eu(B,_)<0)&&(g=!0)):!V&&B?(r.track({type:0,doc:B}),$=!0):V&&!B&&(r.track({type:1,doc:V}),$=!0,(y||_)&&(g=!0)),$&&(B?(d=d.add(B),c=Z?c.add(w):c.delete(w)):(d=d.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),c=c.delete(w.key),r.track({type:1,doc:w})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((w,A)=>(function(B,U){const Z=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:$})}};return Z(B)-Z(U)})(w.type,A.type)||this.eu(w.doc,A.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new $a(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new j0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new uE(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new lE(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return $a.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gm="SyncEngine";class Hx{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class Fx{constructor(t){this.key=t,this.hu=!1}}class Gx{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new jr((g=>C1(g)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(gt.comparator),this.Au=new Map,this.Ru=new Vm,this.Vu={},this.mu=new Map,this.fu=Xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Qx(a,t,i=!0){const r=gE(a);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await cE(r,t,i,!0),l}async function Kx(a,t){const i=gE(a);await cE(i,t,!0,!1)}async function cE(a,t,i,r){const l=await cx(a.localStore,bi(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await Yx(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&nE(a.remoteStore,l),g}async function Yx(a,t,i,r,l){a.pu=(A,V,B)=>(async function(Z,$,st,tt){let rt=$.view.ru(st);rt.Cs&&(rt=await V0(Z.localStore,$.query,!1).then((({documents:x})=>$.view.ru(x,rt))));const ct=tt&&tt.targetChanges.get($.targetId),pt=tt&&tt.targetMismatches.get($.targetId)!=null,ht=$.view.applyChanges(rt,Z.isPrimaryClient,ct,pt);return F0(Z,$.targetId,ht.au),ht.snapshot})(a,A,V,B);const c=await V0(a.localStore,t,!0),d=new qx(t,c.Qs),g=d.ru(c.documents),y=Ll.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),_=d.applyChanges(g,a.isPrimaryClient,y);F0(a,i,_.au);const w=new Hx(t,i,d);return a.Tu.set(t,w),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),_.snapshot}async function Xx(a,t,i){const r=St(a),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!uh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await em(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Lm(r.remoteStore,l.targetId),sm(r,l.targetId)})).catch(no)):(sm(r,l.targetId),await em(r.localStore,l.targetId,!0))}async function $x(a,t){const i=St(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Lm(i.remoteStore,r.targetId))}async function Jx(a,t,i){const r=sI(a);try{const l=await(function(d,g){const y=St(d),_=re.now(),w=g.reduce(((B,U)=>B.add(U.key)),zt());let A,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let U=ts(),Z=zt();return y.Ns.getEntries(B,w).next(($=>{U=$,U.forEach(((st,tt)=>{tt.isValidDocument()||(Z=Z.add(st))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,U))).next(($=>{A=$;const st=[];for(const tt of g){const rt=uC(tt,A.get(tt.key).overlayedDocument);rt!=null&&st.push(new Br(tt.key,rt,E1(rt.value.mapValue),Xi.exists(!0)))}return y.mutationQueue.addMutationBatch(B,_,st,g)})).next(($=>{V=$;const st=$.applyToLocalDocumentSet(A,Z);return y.documentOverlayCache.saveOverlays(B,$.batchId,st)}))})).then((()=>({batchId:V.batchId,changes:N1(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ce(Vt)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await jl(r,l.changes),await ph(r.remoteStore)}catch(l){const c=Hm(l,"Failed to persist write");i.reject(c)}}async function hE(a,t){const i=St(a);try{const r=await ox(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await jl(i,r,t)}catch(r){await no(r)}}function H0(a,t,i){const r=St(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=St(d);y.onlineState=g;let _=!1;y.queries.forEach(((w,A)=>{for(const V of A.Sa)V.va(g)&&(_=!0)})),_&&Fm(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zx(a,t,i){const r=St(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new ce(gt.comparator);d=d.insert(c,Je.newNoDocument(c,Tt.min()));const g=zt().add(c),y=new dh(Tt.min(),new Map,new ce(Vt),d,g);await hE(r,y),r.du=r.du.remove(c),r.Au.delete(t),Qm(r)}else await em(r.localStore,t,!1).then((()=>sm(r,t,i))).catch(no)}async function Wx(a,t){const i=St(a),r=t.batch.batchId;try{const l=await ax(i.localStore,t);dE(i,r,null),fE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await jl(i,l)}catch(l){await no(l)}}async function tI(a,t,i){const r=St(a);try{const l=await(function(d,g){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let w;return y.mutationQueue.lookupMutationBatch(_,g).next((A=>(Qt(A!==null,37113),w=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,w,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w))).next((()=>y.localDocuments.getDocuments(_,w)))}))})(r.localStore,t);dE(r,t,i),fE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await jl(r,l)}catch(l){await no(l)}}function fE(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function dE(a,t,i){const r=St(a);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function sm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||mE(a,r)}))}function mE(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Lm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Qm(a))}function F0(a,t,i){for(const r of i)r instanceof lE?(a.Ru.addReference(r.key,t),eI(a,r)):r instanceof uE?(at(Gm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||mE(a,r.key)):_t(19791,{wu:r})}function eI(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(at(Gm,"New document in limbo: "+i),a.Eu.add(r),Qm(a))}function Qm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new gt(ue.fromString(t)),r=a.fu.next();a.Au.set(r,new Fx(i)),a.du=a.du.insert(i,r),nE(a.remoteStore,new js(bi(Im(i.path)),r,"TargetPurposeLimboResolution",rh.ce))}}async function jl(a,t,i){const r=St(a),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const w=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,w?"current":"not-current")}if(_){l.push(_);const w=km.As(y.targetId,_);c.push(w)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const w=St(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(_,(V=>J.forEach(V.Es,(B=>w.persistence.referenceDelegate.addReference(A,V.targetId,B))).next((()=>J.forEach(V.ds,(B=>w.persistence.referenceDelegate.removeReference(A,V.targetId,B)))))))))}catch(A){if(!io(A))throw A;at(Um,"Failed to update sequence numbers: "+A)}for(const A of _){const V=A.targetId;if(!A.fromCache){const B=w.Ms.get(V),U=B.snapshotVersion,Z=B.withLastLimboFreeSnapshotVersion(U);w.Ms=w.Ms.insert(V,Z)}}})(r.localStore,c))}async function nI(a,t){const i=St(a);if(!i.currentUser.isEqual(t)){at(Gm,"User change. New user:",t.toKey());const r=await Z1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new ft(W.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await jl(i,r.Ls)}}function iI(a,t){const i=St(a),r=i.Au.get(t);if(r&&r.hu)return zt().add(r.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function gE(a){const t=St(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=hE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zx.bind(null,t),t.Pu.H_=Px.bind(null,t.eventManager),t.Pu.yu=jx.bind(null,t.eventManager),t}function sI(a){const t=St(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tI.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return rx(this.persistence,new nx,t.initialUser,this.serializer)}Cu(t){return new J1(zm.mi,this.serializer)}Du(t){return new fx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class rI extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof Xc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BC(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new J1((r=>Xc.mi(r,i)),this.serializer)}}class rm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>H0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nI.bind(null,this.syncEngine),await Vx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kx})()}createDatastore(t){const i=mh(t.databaseInfo.databaseId),r=(function(c){return new yx(c)})(t.databaseInfo);return(function(c,d,g,y){return new Tx(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new Sx(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>H0(this.syncEngine,i,0)),(function(){return U0.v()?new U0:new dx})())}createSyncEngine(t,i){return(function(l,c,d,g,y,_,w){const A=new Gx(l,c,d,g,y,_);return w&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=St(i);at(Lr,"RemoteStore shutting down."),r.Ea.add(5),await Pl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rm.provider={build:()=>new rm};class aI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Zs="FirestoreClient";class oI{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{at(Zs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(Zs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Hm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Vd(a,t){a.asyncQueue.verifyOperationInProgress(),at(Zs,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await Z1(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function G0(a,t){a.asyncQueue.verifyOperationInProgress();const i=await lI(a);at(Zs,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>P0(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>P0(t.remoteStore,l))),a._onlineComponents=t}async function lI(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){at(Zs,"Using user provided OfflineComponentProvider");try{await Vd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ga("Error using user provided cache. Falling back to memory cache: "+i),await Vd(a,new Jc)}}else at(Zs,"Using default OfflineComponentProvider"),await Vd(a,new rI(void 0));return a._offlineComponents}async function pE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(at(Zs,"Using user provided OnlineComponentProvider"),await G0(a,a._uninitializedComponentsProvider._online)):(at(Zs,"Using default OnlineComponentProvider"),await G0(a,new rm))),a._onlineComponents}function uI(a){return pE(a).then((t=>t.syncEngine))}async function Q0(a){const t=await pE(a),i=t.eventManager;return i.onListen=Qx.bind(null,t.syncEngine),i.onUnlisten=Xx.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Kx.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=$x.bind(null,t.syncEngine),i}function yE(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const K0=new Map;const _E="firestore.googleapis.com",Y0=!0;class X0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_E,this.ssl=Y0}else this.host=t.host,this.ssl=t.ssl??Y0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PC)throw new ft(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}bR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ft(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ft(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ft(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Km{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hR;switch(r.type){case"firstParty":return new gR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ft(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=K0.get(i);r&&(at("ComponentProvider","Removing Datastore"),K0.delete(i),r.terminate())})(this),Promise.resolve()}}function cI(a,t,i,r={}){a=Ba(a,Km);const l=Za(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},g=`${t}:${i}`;l&&(pv(`https://${g}`),yv("Firestore",!0)),c.host!==_E&&c.host!==g&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:r};if(!Vr(y,d)&&(a._setSettings(y),r.mockUserToken)){let _,w;if(typeof r.mockUserToken=="string")_=r.mockUserToken,w=$e.MOCK_USER;else{_=kS(r.mockUserToken,a._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ft(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new $e(A)}a._authCredentials=new fR(new u1(_,w))}}class yh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new yh(this.firestore,t,this._query)}}class Le{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(kl(i,Le._jsonSchema))return new Le(t,r||null,new gt(ue.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:xe("string",Le._jsonSchemaVersion),referencePath:xe("string")};class Nl extends yh{constructor(t,i,r){super(t,i,Im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new gt(t))}withConverter(t){return new Nl(this.firestore,t,this._path)}}function $0(a,t,...i){if(a=zn(a),arguments.length===1&&(t=bm.newId()),TR("doc","path",t),a instanceof Km){const r=ue.fromString(t,...i);return l0(r),new Le(a,null,new gt(r))}{if(!(a instanceof Le||a instanceof Nl))throw new ft(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ue.fromString(t,...i));return l0(r),new Le(a.firestore,a instanceof Nl?a.converter:null,new gt(r))}}const J0="AsyncQueue";class Z0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tE(this,"async_queue_retry"),this._c=()=>{const r=Md();r&&at(J0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!io(t))throw t;at(J0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",W0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=qm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:W0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function W0(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function tv(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Zc extends Km{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Z0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Z0(t),this._firestoreClient=void 0,await t}}}function hI(a,t){const i=typeof a=="object"?a:Tv(),r=typeof a=="string"?a:qc,l=dm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=VS("firestore");c&&cI(l,...c)}return l}function vE(a){if(a._terminated)throw new ft(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||fI(a),a._firestoreClient}function fI(a){const t=a._freezeSettings(),i=(function(l,c,d,g){return new MR(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,yE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new oI(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(Ke.fromBase64String(t))}catch(i){throw new ft(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Vn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(kl(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:xe("string",Vn._jsonSchemaVersion),bytes:xe("string")};class Ym{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ft(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class EE{constructor(t){this._methodName=t}}class Ai{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ft(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ft(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(t){if(kl(t,Ai._jsonSchema))return new Ai(t.latitude,t.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:xe("string",Ai._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};class wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(kl(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new wi(t.vectorValues);throw new ft(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:xe("string",wi._jsonSchemaVersion),vectorValues:xe("object")};const dI=/^__.*__$/;class mI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Br(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ul(t,this.data,i,this.fieldTransforms)}}function TE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:a})}}class Xm{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Xm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(TE(this.Ac)&&dI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class gI{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||mh(t)}Cc(t,i,r,l=!1){return new Xm({Ac:t,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pI(a){const t=a._freezeSettings(),i=mh(a._databaseId);return new gI(a._databaseId,!!t.ignoreUndefinedProperties,i)}function yI(a,t,i,r,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);wE("Data must be an object, but it was:",d,r);const g=SE(r,d);let y,_;if(c.merge)y=new $n(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const w=[];for(const A of c.mergeFields){const V=_I(t,A,i);if(!d.contains(V))throw new ft(W.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);EI(w,V)||w.push(V)}y=new $n(w),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new mI(new Mn(g),y,_)}function bE(a,t){if(AE(a=zn(a)))return wE("Unsupported field value:",t,a),SE(a,t);if(a instanceof EE)return(function(r,l){if(!TE(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let y=bE(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(a,t)}return(function(r,l){if((r=zn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=re.fromDate(r);return{timestampValue:Yc(l.serializer,c)}}if(r instanceof re){const c=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(l.serializer,c)}}if(r instanceof Ai)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vn)return{bytesValue:H1(l.serializer,r._byteString)};if(r instanceof Le){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Mm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof wi)return(function(d,g){return{mapValue:{fields:{[_1]:{stringValue:v1},[Hc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Nm(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Sm(r)}`)})(a,t)}function SE(a,t){const i={};return f1(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pr(a,((r,l)=>{const c=bE(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function AE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof re||a instanceof Ai||a instanceof Vn||a instanceof Le||a instanceof EE||a instanceof wi)}function wE(a,t,i){if(!AE(i)||!c1(i)){const r=Sm(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function _I(a,t,i){if((t=zn(t))instanceof Ym)return t._internalPath;if(typeof t=="string")return RE(a,t);throw Wc("Field path arguments must be of type string or ",a,!1,void 0,i)}const vI=new RegExp("[~\\*/\\[\\]]");function RE(a,t,i){if(t.search(vI)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Ym(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Wc(a,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ft(W.INVALID_ARGUMENT,g+a+y)}function EI(a,t){return a.some((i=>i.isEqual(t)))}class CE{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new TI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(xE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class TI extends CE{data(){return super.data()}}function xE(a,t){return typeof t=="string"?RE(a,t):t instanceof Ym?t._internalPath:t._delegate._internalPath}function bI(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ft(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SI{convertValue(t,i="none"){switch($s(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Pr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Hc].arrayValue?.values?.map((r=>ye(r.doubleValue)));return new wi(i)}convertGeoPoint(t){return new Ai(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=oh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const i=Ys(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ue.fromString(t);Qt(X1(r),9688,{name:t});const l=new Rl(r.get(1),r.get(3)),c=new gt(r.popFirst(5));return l.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function AI(a,t,i){let r;return r=a?a.toFirestore(t):t,r}class gl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Mr extends CE{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(xE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Mr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Mr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mr._jsonSchema={type:xe("string",Mr._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class Dc extends Mr{data(t={}){return super.data(t)}}class Ha{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new gl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Dc(this._firestore,this._userDataWriter,r.key,r,new gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Dc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new gl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Dc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new gl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,w=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),w=d.indexOf(g.doc.key)),{type:wI(g.type),doc:y,oldIndex:_,newIndex:w}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ha._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function wI(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:a})}}Ha._jsonSchemaVersion="firestore/querySnapshot/1.0",Ha._jsonSchema={type:xe("string",Ha._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};class IE extends SI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function RI(a,t,i){a=Ba(a,Le);const r=Ba(a.firestore,Zc),l=AI(a.converter,t);return xI(r,[yI(pI(r),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Xi.none())])}function CI(a,...t){a=zn(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||tv(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(tv(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let c,d,g;if(a instanceof Le)d=Ba(a.firestore,Zc),g=Im(a._key.path),c={next:y=>{t[r]&&t[r](II(d,a,y))},error:t[r+1],complete:t[r+2]};else{const y=Ba(a,yh);d=Ba(y.firestore,Zc),g=y._query;const _=new IE(d);c={next:w=>{t[r]&&t[r](new Ha(d,_,y,w))},error:t[r+1],complete:t[r+2]},bI(a._query)}return(function(_,w,A,V){const B=new aI(V),U=new Bx(w,B,A);return _.asyncQueue.enqueueAndForget((async()=>Ux(await Q0(_),U))),()=>{B.Nu(),_.asyncQueue.enqueueAndForget((async()=>Lx(await Q0(_),U)))}})(vE(d),g,l,c)}function xI(a,t){return(function(r,l){const c=new Or;return r.asyncQueue.enqueueAndForget((async()=>Jx(await uI(r),l,c))),c.promise})(vE(a),t)}function II(a,t,i){const r=i.docs.get(t._key),l=new IE(a);return new Mr(a,l,t._key,r,new gl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){eo=l})(Wa),Fa(new zr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new Zc(new dR(r.getProvider("auth-internal")),new pR(d,r.getProvider("app-check-internal")),(function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ft(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(_.options.projectId,w)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Hs(s0,r0,t),Hs(s0,r0,"esm2020")})();const $m=()=>Math.random().toString(36).substr(2,9),Ja=a=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(a),NI=[{class:"bg-blue-500",name:"Blu"},{class:"bg-emerald-500",name:"Smeraldo"},{class:"bg-purple-500",name:"Viola"},{class:"bg-rose-500",name:"Rosa"},{class:"bg-amber-500",name:"Ambra"},{class:"bg-indigo-500",name:"Indaco"},{class:"bg-zinc-600",name:"Neutro"}],am={user:R.jsx(lv,{size:20}),baby:R.jsx(wb,{size:20}),users:R.jsx(uv,{size:20}),heart:R.jsx(Xb,{size:20}),brain:R.jsx(lm,{size:20}),message:R.jsx(eS,{size:20}),zap:R.jsx(wS,{size:20}),file:R.jsx(qb,{size:20}),smile:R.jsx(hS,{size:20}),home:R.jsx(Jb,{size:20}),sparkles:R.jsx(dS,{size:20})},Jm=(a,t)=>am[a]||t,NE=({selected:a,onSelect:t})=>R.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.keys(am).map(i=>R.jsx("button",{onClick:()=>t(i),type:"button",className:`p-2 rounded-lg transition-all ${a===i?"bg-indigo-600 text-white shadow-md scale-110":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"}`,children:ev.cloneElement(am[i],{size:18})},i))}),DE=({selected:a,onSelect:t})=>R.jsx("div",{className:"flex gap-2 items-center h-9 mt-2 flex-wrap",children:NI.map(i=>R.jsx("button",{onClick:()=>t(i.class),title:i.name,className:`w-6 h-6 rounded-full ${i.class} ${a===i.class?"ring-2 ring-white scale-110 shadow-lg":"opacity-40 hover:opacity-100"} transition-all`},i.class))}),DI=(a,t)=>{const[i,r]=At.useState(null),[l,c]=At.useState(null),[d,g]=At.useState(()=>localStorage.getItem("psy_firebase_config")||""),[y,_]=At.useState(()=>localStorage.getItem("psy_sync_id")||"mio-studio"),[w,A]=At.useState("offline");return At.useEffect(()=>{localStorage.setItem("psy_sync_id",y)},[y]),At.useEffect(()=>{if(d)try{const B=JSON.parse(d),U=Ev(B),Z=uR(U);r(Z),c(hI(U)),Q2(Z).catch($=>{console.error("Auth Error",$),A("error")})}catch(B){console.error("Config Error",B),A("error")}},[d]),At.useEffect(()=>{if(!i||!l||!y)return;const B=Z2(i,U=>{if(U){A("connecting");const Z=CI($0(l,"backups",y),$=>{if($.exists()){const st=$.data();JSON.stringify(st)!==JSON.stringify(a)&&t(st)}A("synced")},$=>{console.error("Sync Data Error",$),A("error")});return()=>Z()}else A("offline")});return()=>B()},[i,l,y]),{setConfig:g,config:d,syncId:y,setSyncId:_,status:w,saveToCloud:async B=>{if(!(!i?.currentUser||!l||w!=="synced"))try{await RI($0(l,"backups",y),B)}catch(U){console.error("Upload Error",U),A("error")}}}},OI=({types:a,setTypes:t,firebaseHook:i,onExport:r,onImport:l})=>{const[c,d]=At.useState("types"),[g,y]=At.useState({name:"",price:60,color:"bg-blue-500",icon:"brain",duration:60}),[_,w]=At.useState(null),A=At.useRef(null),V=()=>{if(!g.name)return;const U=_?a.map(Z=>Z.id===_?{...g,id:_}:Z):[...a,{...g,id:$m()}];t(U),y({name:"",price:60,color:"bg-blue-500",icon:"brain",duration:60}),w(null)},B=U=>{U.target.files&&U.target.files[0]&&l(U.target.files[0])};return R.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in",children:[R.jsxs("div",{className:"flex gap-2 bg-zinc-800 p-1 rounded-xl border border-zinc-700",children:[R.jsx("button",{onClick:()=>d("types"),className:`flex-1 py-2 text-sm rounded-lg font-medium transition-all ${c==="types"?"bg-zinc-600 text-white shadow":"text-zinc-400 hover:text-zinc-200"}`,children:"Tipi Prestazioni"}),R.jsx("button",{onClick:()=>d("data"),className:`flex-1 py-2 text-sm rounded-lg font-medium transition-all ${c==="data"?"bg-indigo-600 text-white shadow":"text-zinc-400 hover:text-zinc-200"}`,children:"Gestione Dati"})]}),c==="types"&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"bg-zinc-800 p-6 rounded-xl border border-zinc-700 shadow-lg",children:[R.jsxs("div",{className:"flex justify-between items-center mb-4",children:[R.jsxs("h3",{className:"text-lg font-bold text-zinc-200 flex items-center gap-2",children:[R.jsx(pS,{size:18})," ",_?"Modifica":"Nuova"]}),_&&R.jsx("button",{onClick:()=>{w(null),y({name:"",price:60,color:"bg-blue-500",icon:"brain",duration:60})},className:"text-xs text-zinc-400 underline",children:"Annulla"})]}),R.jsxs("div",{className:"grid gap-4",children:[R.jsx("input",{type:"text",className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 text-sm text-zinc-200 outline-none focus:border-indigo-500",placeholder:"Nome",value:g.name,onChange:U=>y({...g,name:U.target.value})}),R.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R.jsx(NE,{selected:g.icon,onSelect:U=>y({...g,icon:U})}),R.jsx(DE,{selected:g.color,onSelect:U=>y({...g,color:U})})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R.jsxs("div",{className:"relative",children:[R.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500 text-sm",children:""}),R.jsx("input",{type:"number",className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 pl-7 text-sm text-zinc-200",value:g.price,onChange:U=>y({...g,price:parseFloat(U.target.value)||0})})]}),R.jsxs("div",{className:"relative",children:[R.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 text-sm",children:"min"}),R.jsx("input",{type:"number",className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 text-sm text-zinc-200 text-right pr-10",placeholder:"Durata",value:g.duration||60,onChange:U=>y({...g,duration:parseInt(U.target.value)||60})})]})]}),R.jsx("button",{onClick:V,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white p-2 rounded-lg font-bold transition-colors",children:_?"Aggiorna":"Aggiungi"})]})]}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:a.map(U=>R.jsxs("div",{className:"bg-zinc-800 p-4 rounded-xl border border-zinc-700 flex justify-between items-center",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:`w-8 h-8 rounded-full ${U.color} flex items-center justify-center text-white`,children:Jm(U.icon,R.jsx(lm,{size:16}))}),R.jsxs("div",{children:[R.jsx("p",{className:"font-medium text-zinc-200 text-sm",children:U.name}),R.jsxs("p",{className:"text-xs text-zinc-400 font-mono",children:[Ja(U.price),"  ",U.duration||60,"m"]})]})]}),R.jsxs("div",{className:"flex gap-1",children:[R.jsx("button",{onClick:()=>{w(U.id),y(U),window.scrollTo({top:0,behavior:"smooth"})},className:"p-2 text-zinc-500 hover:text-amber-400",children:R.jsx(av,{size:16})}),R.jsx("button",{onClick:()=>{confirm("Eliminare?")&&t(a.filter(Z=>Z.id!==U.id))},className:"p-2 text-zinc-500 hover:text-red-400",children:R.jsx(cm,{size:16})})]})]},U.id))})]}),c==="data"&&R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"bg-zinc-800 p-6 rounded-xl border border-zinc-700 shadow-lg space-y-4",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("h3",{className:"text-lg font-bold text-indigo-400 flex items-center gap-2",children:[R.jsx(sv,{size:20})," Cloud Sync"]}),R.jsx("div",{className:`flex items-center gap-2 text-xs px-2 py-1 rounded-full border ${i.status==="synced"?"border-emerald-500/50 bg-emerald-500/10 text-emerald-400":"border-zinc-600 bg-zinc-900 text-zinc-400"}`,children:i.status})]}),R.jsx("textarea",{className:"w-full bg-zinc-900 border border-zinc-600 rounded p-3 text-xs text-zinc-300 font-mono h-20 outline-none",placeholder:"JSON Firebase",value:i.config,onChange:U=>{i.setConfig(U.target.value),localStorage.setItem("psy_firebase_config",U.target.value)}}),R.jsx("input",{type:"text",className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 text-sm text-white",placeholder:"ID Sincronizzazione",value:i.syncId,onChange:U=>i.setSyncId(U.target.value)})]}),R.jsxs("div",{className:"bg-zinc-800 p-6 rounded-xl border border-zinc-700 shadow-lg space-y-4",children:[R.jsxs("h3",{className:"text-lg font-bold text-emerald-400 flex items-center gap-2",children:[R.jsx(Kb,{size:20})," Backup Locale"]}),R.jsxs("div",{className:"flex gap-3",children:[R.jsxs("button",{onClick:r,className:"flex-1 bg-zinc-700 hover:bg-zinc-600 text-white p-3 rounded-lg flex items-center justify-center gap-2",children:[R.jsx(jb,{size:18})," Esporta"]}),R.jsxs("button",{onClick:()=>A.current.click(),className:"flex-1 bg-zinc-700 hover:bg-zinc-600 text-white p-3 rounded-lg flex items-center justify-center gap-2",children:[R.jsx(ES,{size:18})," Importa"]}),R.jsx("input",{type:"file",ref:A,onChange:B,className:"hidden",accept:".json"})]})]})]})]})},MI=({patients:a,setPatients:t,sessions:i,isGrid:r,setIsGrid:l})=>{const[c,d]=At.useState({name:"",icon:"user",color:"bg-zinc-600",notes:""}),[g,y]=At.useState(null),[_,w]=At.useState(!1),[A,V]=At.useState(""),[B,U]=At.useState(""),[Z,$]=At.useState(""),[st,tt]=At.useState(!1),rt=()=>{c.name&&(g?(t(a.map(S=>S.id===g?{...S,...c}:S)),y(null)):t([...a,{id:$m(),...c,createdAt:new Date().toISOString()}]),d({name:"",icon:"user",color:"bg-zinc-600",notes:""}),w(!1))},ct=S=>{d({name:S.name,icon:S.icon||"user",color:S.color||"bg-zinc-600",notes:S.notes||""}),y(S.id),w(!0)},pt=S=>{confirm("Cancellare tutto?")&&(t(a.filter(b=>b.id!==S)),g===S&&(y(null),w(!1)))},ht=S=>{const b=new Date,D=B?new Date(B):null;D&&D.setHours(0,0,0,0);const N=Z?new Date(Z):null;N&&N.setHours(23,59,59,999);let z=0,C=0,jt=0;return i.filter(Jt=>Jt.patientId===S).forEach(Jt=>{const G=new Date(Jt.date);let nt=!0;D&&G<D&&(nt=!1),N&&G>N&&(nt=!1),nt&&(G<=b&&(z+=Jt.price||0,jt++),C+=Jt.amountPaid||0)}),{balance:C-z,count:jt,revenue:C}},x=a.filter(S=>S.name.toLowerCase().includes(A.toLowerCase()));return R.jsxs("div",{className:"h-full flex flex-col gap-4 relative",children:[R.jsxs("div",{className:"shrink-0 flex gap-2",children:[R.jsxs("div",{className:"flex-1 bg-zinc-800 rounded-xl border border-zinc-700 flex items-center px-3",children:[R.jsx(oS,{size:18,className:"text-zinc-500"}),R.jsx("input",{className:"bg-transparent border-none p-3 w-full text-zinc-200 outline-none text-sm",placeholder:"Cerca...",value:A,onChange:S=>V(S.target.value)})]}),R.jsx("button",{onClick:()=>l(!r),className:`py-3 px-4 rounded-xl flex items-center justify-center border transition-all ${r?"bg-zinc-600 text-white border-zinc-500":"bg-zinc-800 text-zinc-400 border-zinc-700"}`,children:r?R.jsx(rv,{size:20}):R.jsx(ov,{size:20})}),R.jsx("button",{onClick:()=>{w(!_),y(null),d({name:"",icon:"user",color:"bg-zinc-600",notes:""})},className:`py-3 px-4 rounded-xl flex items-center justify-center transition-all shadow-lg ${_?"bg-zinc-700 text-zinc-300":"bg-emerald-600 text-white"}`,children:_?R.jsx(zd,{size:20}):R.jsx(um,{size:20})}),R.jsx("button",{onClick:()=>tt(!st),className:`py-3 px-4 rounded-xl flex items-center justify-center border transition-all ${st||B?"bg-indigo-600 text-white border-indigo-500":"bg-zinc-800 text-zinc-400 border-zinc-700"}`,children:R.jsx(Fb,{size:20})})]}),(st||B)&&R.jsxs("div",{className:"shrink-0 bg-zinc-800 p-4 rounded-xl border border-zinc-700 flex gap-2 items-center",children:[R.jsx(xb,{size:14,className:"text-indigo-400"}),R.jsx("input",{type:"date",className:"bg-zinc-900 border border-zinc-600 rounded-lg p-2 text-xs text-white flex-1",value:B,onChange:S=>U(S.target.value)}),R.jsx("span",{className:"text-zinc-500",children:"-"}),R.jsx("input",{type:"date",className:"bg-zinc-900 border border-zinc-600 rounded-lg p-2 text-xs text-white flex-1",value:Z,onChange:S=>$(S.target.value)}),(B||Z)&&R.jsx("button",{onClick:()=>{U(""),$(""),tt(!1)},className:"text-zinc-500 hover:text-white ml-2",children:R.jsx(zd,{size:16})})]}),_&&R.jsxs("div",{className:"shrink-0 bg-zinc-800 p-6 rounded-xl border border-zinc-700 shadow-lg animate-fade-in",children:[R.jsx("h3",{className:"text-lg font-bold mb-4 text-emerald-400",children:g?"Modifica":"Nuovo"}),R.jsxs("div",{className:"space-y-4",children:[R.jsx("input",{type:"text",className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 text-sm text-zinc-200 outline-none focus:border-emerald-500",placeholder:"Nome",value:c.name,onChange:S=>d({...c,name:S.target.value})}),R.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"text-xs text-zinc-400 mb-1 block",children:"Icona"}),R.jsx(NE,{selected:c.icon,onSelect:S=>d({...c,icon:S})})]}),R.jsxs("div",{children:[R.jsx("label",{className:"text-xs text-zinc-400 mb-1 block",children:"Colore"}),R.jsx(DE,{selected:c.color,onSelect:S=>d({...c,color:S})})]})]}),R.jsx("textarea",{className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 text-sm text-zinc-200 h-20 resize-none",placeholder:"Note...",value:c.notes,onChange:S=>d({...c,notes:S.target.value})}),R.jsx("button",{onClick:rt,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white p-2 rounded-lg font-bold",children:g?"Aggiorna":"Salva"})]})]}),R.jsx("div",{className:`flex-1 overflow-y-auto pb-24 ${r?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 auto-rows-min":"space-y-3"}`,children:x.map(S=>{const b=ht(S.id);return R.jsxs("div",{className:`bg-zinc-800 p-4 rounded-xl border flex flex-col gap-3 transition-all shadow-sm ${g===S.id?"border-amber-500 ring-1 ring-amber-500/20":"border-zinc-700 hover:bg-zinc-750"}`,children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[R.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white ${S.color}`,children:Jm(S.icon,R.jsx(lv,{}))}),R.jsxs("div",{className:"min-w-0",children:[R.jsx("p",{className:"font-bold text-zinc-200 truncate",children:S.name}),R.jsxs("p",{className:"text-[10px] text-zinc-400 truncate",children:["Dal ",new Date(S.createdAt).toLocaleDateString()]})]})]}),R.jsxs("div",{className:"flex gap-1",children:[R.jsx("button",{onClick:()=>ct(S),className:"p-1.5 text-zinc-500 hover:text-amber-400",children:R.jsx(av,{size:16})}),R.jsx("button",{onClick:()=>pt(S.id),className:"p-1.5 text-zinc-500 hover:text-red-400",children:R.jsx(cm,{size:16})})]})]}),R.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-zinc-700/50",children:[R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:"text-[10px] text-zinc-500",children:"Sedute"}),R.jsx("p",{className:"font-bold text-sm",children:b.count})]}),R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:"text-[10px] text-zinc-500",children:"Incasso"}),R.jsx("p",{className:"font-bold text-emerald-400 text-sm",children:Ja(b.revenue)})]}),R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:"text-[10px] text-zinc-500",children:"Bilancio"}),R.jsx("p",{className:`font-bold text-sm ${b.balance<-.1?"text-rose-400":b.balance>.1?"text-emerald-400":"text-zinc-400"}`,children:Math.abs(b.balance)<.1?"OK":Ja(b.balance)})]})]})]},S.id)})})]})},VI=({sessions:a,patients:t,types:i,isGrid:r,setIsGrid:l,onEditSession:c,onNewSession:d})=>{const[g,y]=At.useState("upcoming"),_=new Date;_.setHours(0,0,0,0);const w=At.useMemo(()=>{let A=[...a];return g==="upcoming"&&(A=A.filter(V=>new Date(V.date)>=_)),g==="past"&&(A=A.filter(V=>new Date(V.date)<_)),A.sort((V,B)=>new Date(V.date)-new Date(B.date))},[a,g]);return R.jsxs("div",{className:"h-full flex flex-col relative",children:[R.jsxs("div",{className:"flex justify-between items-center mb-2 sticky top-0 z-20 bg-zinc-900 py-2",children:[R.jsx("div",{className:"flex bg-zinc-800 p-1 rounded-lg border border-zinc-700",children:["upcoming","past","all"].map(A=>R.jsx("button",{onClick:()=>y(A),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${g===A?"bg-zinc-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,children:A==="upcoming"?"Future":A==="past"?"Passate":"Tutte"},A))}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:()=>l(!r),className:`px-3 py-1.5 rounded-lg flex items-center justify-center border transition-all ${r?"bg-zinc-600 text-white border-zinc-500":"bg-zinc-800 text-zinc-400 border-zinc-700"}`,children:r?R.jsx(rv,{size:18}):R.jsx(ov,{size:18})}),R.jsxs("button",{onClick:d,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-lg text-sm font-bold",children:[R.jsx(um,{size:18})," ",R.jsx("span",{className:"hidden sm:inline",children:"Nuova"})]})]})]}),R.jsxs("div",{className:`flex-1 overflow-y-auto pb-24 ${r?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 auto-rows-min":"space-y-3"}`,children:[w.length===0&&R.jsxs("div",{className:"text-center py-20 flex flex-col items-center opacity-50 col-span-full",children:[R.jsx(iv,{size:48,className:"mb-4 text-zinc-600"}),R.jsx("p",{className:"text-zinc-400",children:"Nessuna seduta trovata."})]}),w.map(A=>{const V=t.find(ht=>ht.id===A.patientId),B=i.find(ht=>ht.id===A.typeId),U=new Date(A.date)<_,Z=Jm(B?.icon,R.jsx(lm,{size:20}));let $=0;a.forEach(ht=>{if(ht.patientId===A.patientId&&ht.id!==A.id){const x=new Date(ht.date),S=new Date(A.date);x.getTime()<S.getTime()&&x.getTime()<_.getTime()&&($+=(ht.price||0)-(ht.amountPaid||0))}});const st=Math.max(0,A.price+$),tt=A.amountPaid||0;let rt=A.price,ct="text-zinc-400",pt=!1;if(A.isPaid)rt=tt,ct="text-emerald-400",pt=!0;else if(tt>0){Math.max(0,A.price-tt);const ht=Math.max(0,st-tt);ht<.1?(rt=tt,ct="text-emerald-400",pt=!0):(rt=ht,ct="text-amber-400")}else st<.1?(rt=0,ct="text-emerald-400",pt=!0):(rt=st,ct=U?"text-rose-400":"text-amber-400");return R.jsxs("div",{onClick:()=>c(A),className:`relative p-3 rounded-xl border transition-all cursor-pointer group ${r?"flex flex-col justify-between h-full":""} ${pt?"bg-zinc-800/40 border-zinc-800 opacity-60 hover:opacity-100":U?"bg-rose-900/10 border-rose-900/30 hover:border-rose-500/50":"bg-zinc-800 border-zinc-700 hover:border-indigo-500/50 hover:shadow-lg"}`,children:[R.jsxs("div",{className:`flex gap-3 ${r?"flex-col items-start":"justify-between items-center"}`,children:[R.jsxs("div",{className:"flex gap-3 items-center w-full overflow-hidden",children:[R.jsxs("div",{className:`flex flex-col items-center justify-center w-12 h-12 rounded-xl border shrink-0 ${pt?"bg-zinc-800 border-zinc-700 text-zinc-500":U?"bg-rose-950/30 border-rose-900/50 text-rose-400":"bg-indigo-950/30 border-indigo-900/50 text-indigo-400"}`,children:[R.jsx("span",{className:"text-[10px] uppercase font-bold leading-none",children:new Date(A.date).toLocaleDateString("it-IT",{weekday:"short"})}),R.jsx("span",{className:"text-lg font-bold leading-none mt-0.5",children:new Date(A.date).getDate()})]}),R.jsxs("div",{className:"min-w-0 flex-1",children:[R.jsx("h4",{className:`font-bold text-sm truncate ${pt?"text-zinc-400":"text-zinc-200"}`,children:V?.name||"Sconosciuto"}),R.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[!r&&R.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded text-white font-medium ${B?.color}`,children:B?.name}),R.jsxs("span",{className:"text-xs text-zinc-400 flex items-center gap-1",children:[R.jsx(Ub,{size:10})," ",new Date(A.date).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})]}),A.notes&&R.jsx(Oc,{size:10,className:"text-zinc-500"})]})]})]}),!r&&R.jsx("div",{className:`font-mono font-bold ${ct}`,children:Ja(rt)})]}),r&&R.jsxs("div",{className:"mt-auto pt-2 border-t border-zinc-700/50 flex justify-between items-center w-full",children:[R.jsxs("div",{className:"flex gap-2 items-center",children:[R.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-white ${B?.color}`,children:ev.cloneElement(Z,{size:12})}),A.notes&&R.jsx(Oc,{size:12,className:"text-zinc-500"})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:`font-mono font-bold text-sm ${ct}`,children:Ja(rt)}),pt&&R.jsx(zb,{size:14,className:"text-emerald-500"})]})]})]},A.id)})]})]})},zI=({sessions:a,patients:t,types:i,onEditSession:r,onNewSessionWithDate:l})=>{const[c,d]=At.useState("month"),[g,y]=At.useState(new Date),_=B=>{const U=new Date(g);U.setDate(U.getDate()+B),y(U)},w=B=>{const U=B.getFullYear(),Z=B.getMonth(),$=new Date(U,Z+1,0).getDate(),st=new Date(U,Z,1).getDay(),tt=st===0?6:st-1;return{days:$,offset:tt,year:U,month:Z}},A=()=>{const{days:B,offset:U,year:Z,month:$}=w(g),st=[];for(let tt=0;tt<U;tt++)st.push(R.jsx("div",{className:"h-24 bg-zinc-900/50 border border-zinc-800"},`empty-${tt}`));for(let tt=1;tt<=B;tt++){const rt=new Date(Z,$,tt).toDateString(),ct=a.filter(pt=>new Date(pt.date).toDateString()===rt);st.push(R.jsxs("div",{className:"h-24 bg-zinc-800 border border-zinc-700 p-1 overflow-hidden hover:bg-zinc-750 transition-colors",onClick:()=>{const pt=new Date(Z,$,tt,9,0);l(pt)},children:[R.jsx("div",{className:"text-right text-xs text-zinc-500 mb-1",children:tt}),R.jsxs("div",{className:"flex flex-col gap-1",children:[ct.slice(0,3).map(pt=>{const ht=i.find(S=>S.id===pt.typeId),x=t.find(S=>S.id===pt.patientId);return R.jsxs("div",{onClick:S=>{S.stopPropagation(),r(pt)},className:`text-[9px] px-1 rounded truncate text-white cursor-pointer ${ht?.color||"bg-zinc-600"} flex items-center justify-between`,children:[R.jsx("span",{className:"font-bold truncate",children:x?.name||"???"}),pt.notes&&R.jsx(Oc,{size:8,className:"shrink-0 ml-1 text-white/80"})]},pt.id)}),ct.length>3&&R.jsxs("div",{className:"text-[9px] text-zinc-500 text-center",children:["+",ct.length-3]})]})]},tt))}return R.jsxs("div",{className:"grid grid-cols-7 gap-1 text-sm",children:[["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map(tt=>R.jsx("div",{className:"text-center py-2 text-zinc-500",children:tt},tt)),st]})},V=()=>{const B=new Date(g),U=B.getDay(),Z=B.getDate()-U+(U===0?-6:1);B.setDate(Z),B.setHours(0,0,0,0);const $=[];for(let tt=0;tt<7;tt++){const rt=new Date(B);rt.setDate(rt.getDate()+tt),$.push(rt)}const st=Array.from({length:13},(tt,rt)=>rt+8);return R.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[R.jsxs("div",{className:"grid grid-cols-8 border-b border-zinc-700 bg-zinc-900 z-10",children:[R.jsx("div",{className:"p-2 text-xs text-zinc-500 text-center border-r border-zinc-800",children:"Orario"}),$.map(tt=>R.jsx("div",{className:`p-2 text-xs text-center border-r border-zinc-800 ${tt.toDateString()===new Date().toDateString()?"text-emerald-400 font-bold":"text-zinc-400"}`,children:tt.toLocaleDateString("it-IT",{weekday:"short",day:"numeric"})},tt.toISOString()))]}),R.jsx("div",{className:"flex-1 overflow-y-auto relative",children:R.jsxs("div",{className:"grid grid-cols-8 min-h-[600px] relative",children:[R.jsx("div",{className:"border-r border-zinc-800",children:st.map(tt=>R.jsxs("div",{className:"h-16 text-[10px] text-zinc-600 text-right pr-2 pt-1 border-b border-zinc-800/50",children:[tt,":00"]},tt))}),$.map(tt=>{const rt=a.filter(ct=>new Date(ct.date).toDateString()===tt.toDateString());return R.jsxs("div",{className:"border-r border-zinc-800 relative h-full bg-zinc-900/30 hover:bg-zinc-800/50 transition-colors",onClick:()=>{const ct=new Date(tt);ct.setHours(9,0,0),l(ct)},children:[st.map(ct=>R.jsx("div",{className:"h-16 border-b border-zinc-800/50"},ct)),rt.map(ct=>{const pt=new Date(ct.date),ht=pt.getHours(),x=pt.getMinutes();if(ht<8||ht>20)return null;const S=(ht-8)*64+x/60*64,b=i.find(C=>C.id===ct.typeId),N=(ct.duration||b?.duration||60)/60*64,z=t.find(C=>C.id===ct.patientId);return R.jsxs("div",{onClick:C=>{C.stopPropagation(),r(ct)},className:`absolute left-0.5 right-0.5 rounded p-1 text-[10px] leading-tight text-white shadow-sm cursor-pointer z-10 flex flex-col justify-between ${b?.color||"bg-zinc-600"}`,style:{top:`${S}px`,height:`${N}px`},children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsx("span",{className:"font-bold truncate text-[11px] leading-tight",children:z?.name}),ct.notes&&R.jsx(Oc,{size:10,className:"shrink-0 text-white/80"})]}),R.jsx("div",{className:"truncate opacity-75 text-[9px]",children:new Date(ct.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},ct.id)})]},tt.toISOString())})]})})]})};return R.jsxs("div",{className:"h-full flex flex-col",children:[R.jsxs("div",{className:"flex justify-between items-center p-2 bg-zinc-900 border-b border-zinc-700",children:[R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:()=>d("month"),className:`px-3 py-1 rounded text-xs ${c==="month"?"bg-indigo-600 text-white":"text-zinc-400"}`,children:"Mese"}),R.jsx("button",{onClick:()=>d("week"),className:`px-3 py-1 rounded text-xs ${c==="week"?"bg-indigo-600 text-white":"text-zinc-400"}`,children:"Settimana"})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("button",{onClick:()=>_(c==="month"?-30:-7),children:R.jsx(Db,{size:16})}),R.jsx("span",{className:"text-sm font-bold w-24 text-center",children:g.toLocaleDateString("it-IT",{month:"long",year:"numeric"})}),R.jsx("button",{onClick:()=>_(c==="month"?30:7),children:R.jsx(Mb,{size:16})})]}),R.jsx("button",{onClick:()=>l(new Date),className:"bg-indigo-600 p-1.5 rounded text-white",children:R.jsx(um,{size:16})})]}),R.jsx("div",{className:"flex-1 overflow-hidden bg-zinc-900",children:c==="month"?A():V()})]})};function kI(){const[a,t]=At.useState("calendar"),[i,r]=At.useState(()=>{const b=localStorage.getItem("psy_view_mode");return b!==null?JSON.parse(b):window.innerWidth>768}),[l,c]=At.useState(()=>{try{return JSON.parse(localStorage.getItem("psy_patients"))||[]}catch{return[]}}),[d,g]=At.useState(()=>{try{return JSON.parse(localStorage.getItem("psy_types"))||[{id:"t1",name:"Seduta Individuale",price:60,color:"bg-blue-500",icon:"brain",duration:60}]}catch{return[]}}),[y,_]=At.useState(()=>{try{return JSON.parse(localStorage.getItem("psy_sessions"))||[]}catch{return[]}}),[w,A]=At.useState(!1),[V,B]=At.useState(null),[U,Z]=At.useState({patientId:"",typeId:"",date:"",price:0,repeatCount:1,repeatWeeks:1,notes:"",amountPaid:0,duration:60}),$=DI({patients:l,types:d,sessions:y},b=>{b.patients&&c(b.patients),b.types&&g(b.types),b.sessions&&_(b.sessions)});At.useEffect(()=>{localStorage.setItem("psy_patients",JSON.stringify(l)),$.status==="synced"&&$.saveToCloud({patients:l,types:d,sessions:y})},[l]),At.useEffect(()=>{localStorage.setItem("psy_types",JSON.stringify(d)),$.status==="synced"&&$.saveToCloud({patients:l,types:d,sessions:y})},[d]),At.useEffect(()=>{localStorage.setItem("psy_sessions",JSON.stringify(y)),$.status==="synced"&&$.saveToCloud({patients:l,types:d,sessions:y})},[y]),At.useEffect(()=>{localStorage.setItem("psy_view_mode",JSON.stringify(i))},[i]),At.useEffect(()=>{if(localStorage.getItem("psy_view_mode")===null){const b=()=>r(window.innerWidth>768);return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)}},[]);const st=(b=new Date)=>{B(null),Z({patientId:"",typeId:"",date:b.toISOString(),price:0,repeatCount:1,repeatWeeks:1,notes:"",amountPaid:0,duration:60}),A(!0)},tt=b=>{B(b),Z({patientId:b.patientId,typeId:b.typeId,date:b.date,price:b.price,repeatCount:1,repeatWeeks:1,notes:b.notes||"",amountPaid:b.amountPaid||0,duration:b.duration||60}),A(!0)},rt=()=>{if(!U.patientId||!U.date||!U.typeId){alert("Dati mancanti");return}const b=[],D=new Date(U.date),N=Math.max(1,parseInt(U.repeatCount)),z=Math.max(1,parseInt(U.repeatWeeks));for(let C=0;C<N;C++){const jt=new Date(D);jt.setDate(D.getDate()+C*z*7);const Jt=(C===0&&!V||V&&C===0)&&parseFloat(U.amountPaid)||0,G=Jt>=U.price;b.push({id:V&&C===0?V.id:$m(),patientId:U.patientId,typeId:U.typeId,date:jt.toISOString(),price:U.price,duration:U.duration,amountPaid:Jt,isPaid:G,notes:U.notes})}if(V){let C=y.map(jt=>jt.id===V.id?b[0]:jt);N>1&&(C=[...C,...b.slice(1)]),_(C)}else _([...y,...b]);A(!1)},ct=()=>{V&&confirm("Eliminare?")&&(_(y.filter(b=>b.id!==V.id)),A(!1))},pt=()=>{if(!U.patientId)return U.price;const b=new Date(U.date),D=new Date;D.setHours(0,0,0,0);let N=0;return b<D?U.price:(y.filter(z=>z.patientId===U.patientId).forEach(z=>{const C=new Date(z.date);z.id!==V?.id&&C<D&&(N+=(z.price||0)-(z.amountPaid||0))}),Math.max(0,U.price+N))},ht=b=>{const D=d.find(N=>N.id===b);Z({...U,typeId:b,price:D?.price||0,duration:D?.duration||60})},x=()=>{const b="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({patients:l,types:d,sessions:y})),D=document.createElement("a");D.setAttribute("href",b),D.setAttribute("download","psytrack_backup.json"),document.body.appendChild(D),D.click(),D.remove()},S=b=>{const D=new FileReader;D.onload=N=>{try{const z=JSON.parse(N.target.result);z.patients&&(c(z.patients),g(z.types),_(z.sessions))}catch{alert("Errore")}},D.readAsText(b)};return R.jsxs("div",{className:"h-screen bg-zinc-900 flex flex-col md:flex-row text-zinc-200 overflow-hidden font-sans",children:[R.jsxs("nav",{className:"md:w-64 bg-zinc-900 border-r border-zinc-800 flex md:flex-col justify-between z-30 order-2 md:order-1 border-t md:border-t-0 p-2 md:p-4 shrink-0",children:[R.jsxs("div",{className:"hidden md:flex items-center gap-3 mb-8 px-2",children:[R.jsx("div",{className:"w-10 h-10 bg-indigo-500/10 rounded-xl flex items-center justify-center border border-indigo-500/20 text-indigo-400 font-bold text-xl",children:""}),R.jsx("span",{className:"font-bold text-xl tracking-tight",children:"PsyTrack"})]}),R.jsxs("div",{className:"flex md:flex-col gap-1 w-full",children:[R.jsxs("button",{onClick:()=>t("calendar"),className:`flex md:flex-row flex-col items-center md:gap-3 p-2 md:px-4 md:py-3 rounded-xl transition-all ${a==="calendar"?"bg-indigo-600/10 text-indigo-400":"text-zinc-500 hover:text-zinc-300"}`,children:[R.jsx(Wb,{size:22}),R.jsx("span",{className:"text-[10px] md:text-sm font-medium",children:"Agenda"})]}),R.jsxs("button",{onClick:()=>t("visual_calendar"),className:`flex md:flex-row flex-col items-center md:gap-3 p-2 md:px-4 md:py-3 rounded-xl transition-all ${a==="visual_calendar"?"bg-indigo-600/10 text-indigo-400":"text-zinc-500 hover:text-zinc-300"}`,children:[R.jsx(iv,{size:22}),R.jsx("span",{className:"text-[10px] md:text-sm font-medium",children:"Calendario"})]}),R.jsxs("button",{onClick:()=>t("patients"),className:`flex md:flex-row flex-col items-center md:gap-3 p-2 md:px-4 md:py-3 rounded-xl transition-all ${a==="patients"?"bg-emerald-500/10 text-emerald-400":"text-zinc-500 hover:text-zinc-300"}`,children:[R.jsx(uv,{size:22}),R.jsx("span",{className:"text-[10px] md:text-sm font-medium",children:"Pazienti"})]}),R.jsxs("button",{onClick:()=>t("settings"),className:`flex md:flex-row flex-col items-center md:gap-3 p-2 md:px-4 md:py-3 rounded-xl transition-all ${a==="settings"?"bg-rose-500/10 text-rose-400":"text-zinc-500 hover:text-zinc-300"}`,children:[R.jsx(uS,{size:22}),R.jsx("span",{className:"text-[10px] md:text-sm font-medium",children:"Impostazioni"})]})]}),R.jsx("div",{className:"hidden md:block mt-auto pt-4 border-t border-zinc-800",children:$.status==="synced"&&R.jsxs("div",{className:"flex items-center gap-2 px-2 text-xs text-emerald-500",children:[R.jsx(sv,{size:12})," Cloud Attivo"]})})]}),R.jsx("main",{className:"flex-1 bg-zinc-900 overflow-hidden relative order-1 md:order-2 flex flex-col",children:R.jsxs("div",{className:"flex-1 overflow-hidden relative p-4 max-w-7xl mx-auto w-full",children:[a==="calendar"&&R.jsx(VI,{sessions:y,patients:l,types:d,isGrid:i,setIsGrid:r,onEditSession:tt,onNewSession:()=>st()}),a==="visual_calendar"&&R.jsx(zI,{sessions:y,patients:l,types:d,onEditSession:tt,onNewSessionWithDate:b=>st(b)}),a==="patients"&&R.jsx(MI,{patients:l,setPatients:c,sessions:y,isGrid:i,setIsGrid:r}),a==="settings"&&R.jsx(OI,{types:d,setTypes:g,firebaseHook:$,onExport:x,onImport:S})]})}),w&&R.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in",children:R.jsxs("div",{className:"bg-zinc-900 w-full max-w-lg rounded-2xl border border-zinc-700 shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[R.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-900",children:[R.jsx("h3",{className:"font-bold text-lg flex items-center gap-2 text-zinc-200",children:V?"Modifica Seduta":"Nuova Seduta"}),R.jsx("button",{onClick:()=>A(!1),className:"text-zinc-500 hover:text-white",children:R.jsx(zd,{size:24})})]}),R.jsxs("div",{className:"p-6 overflow-y-auto space-y-6",children:[R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"text-xs text-zinc-400 mb-1 block",children:"Paziente"}),R.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-white outline-none",value:U.patientId,onChange:b=>Z({...U,patientId:b.target.value}),children:[R.jsx("option",{value:"",children:"Seleziona..."}),l.map(b=>R.jsx("option",{value:b.id,children:b.name},b.id))]})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"text-xs text-zinc-400 mb-1 block",children:"Data/Ora"}),R.jsx("input",{type:"datetime-local",className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-2.5 text-white text-sm",value:U.date.slice(0,16),onChange:b=>Z({...U,date:b.target.value})})]}),R.jsxs("div",{children:[R.jsx("label",{className:"text-xs text-zinc-400 mb-1 block",children:"Tipo"}),R.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-2.5 text-white text-sm",value:U.typeId,onChange:b=>ht(b.target.value),children:[R.jsx("option",{value:"",children:"Seleziona..."}),d.map(b=>R.jsx("option",{value:b.id,children:b.name},b.id))]})]})]}),R.jsxs("div",{className:"flex gap-4",children:[R.jsxs("div",{className:"flex-1",children:[R.jsx("label",{className:"text-xs text-zinc-400 mb-1 block",children:"Durata (min)"}),R.jsx("input",{type:"number",className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-2.5 text-white text-sm",value:U.duration,onChange:b=>Z({...U,duration:parseInt(b.target.value)||60})})]}),R.jsxs("div",{className:"flex-1",children:[R.jsx("label",{className:"text-xs text-zinc-400 mb-1 block",children:"Prezzo ()"}),R.jsx("input",{type:"number",className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-2.5 text-white text-sm",value:U.price,onChange:b=>Z({...U,price:parseFloat(b.target.value)||0})})]})]})]}),!V&&R.jsxs("div",{className:"bg-zinc-800 p-4 rounded-xl border border-zinc-700 flex gap-4 items-end",children:[R.jsxs("div",{className:"flex-1",children:[R.jsx("label",{className:"text-xs text-zinc-500 block mb-1",children:"Ripetizione"}),R.jsxs("select",{className:"w-full bg-zinc-900 border border-zinc-600 rounded-lg p-2 text-sm text-zinc-200",value:U.repeatWeeks,onChange:b=>Z({...U,repeatWeeks:parseInt(b.target.value)}),children:[R.jsx("option",{value:1,children:"Settimanale"}),R.jsx("option",{value:2,children:"Bisettimanale"})]})]}),R.jsxs("div",{className:"w-24",children:[R.jsx("label",{className:"text-xs text-zinc-500 block mb-1",children:"Volte"}),R.jsx("input",{type:"number",min:"1",max:"52",className:"w-full bg-zinc-900 border border-zinc-600 rounded-lg p-2 text-sm text-center text-zinc-200",value:U.repeatCount,onChange:b=>Z({...U,repeatCount:parseInt(b.target.value)})})]})]}),U.patientId&&R.jsxs("div",{className:"bg-zinc-800 p-4 rounded-xl border border-zinc-700",children:[R.jsxs("div",{className:"flex justify-between items-center mb-2",children:[R.jsx("span",{className:"text-sm font-bold text-emerald-400",children:"Cassa"}),R.jsx("span",{className:"text-white font-mono font-bold",children:Ja(pt())})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:()=>Z({...U,amountPaid:pt()}),className:"bg-emerald-600/20 text-emerald-400 px-3 py-1 rounded text-xs font-bold border border-emerald-600/50",children:"Salda Tutto"}),R.jsx("input",{type:"number",className:"bg-zinc-900 border border-zinc-600 rounded p-1 text-right text-white w-24",value:U.amountPaid,onChange:b=>Z({...U,amountPaid:parseFloat(b.target.value)||0})})]})]}),R.jsx("textarea",{className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-sm text-zinc-200 h-24 outline-none resize-none",placeholder:"Note cliniche...",value:U.notes,onChange:b=>Z({...U,notes:b.target.value})})]}),R.jsxs("div",{className:"p-4 border-t border-zinc-800 bg-zinc-900 flex justify-end gap-3",children:[V&&R.jsx("button",{onClick:ct,className:"mr-auto text-rose-400 hover:text-rose-300 px-3 py-2 rounded-lg text-sm",children:R.jsx(cm,{size:16})}),R.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 text-zinc-400 hover:text-white text-sm",children:"Annulla"}),R.jsxs("button",{onClick:rt,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-2 rounded-lg font-bold text-sm",children:[R.jsx(rS,{size:16})," Salva"]})]})]})})]})}_b.createRoot(document.getElementById("root")).render(R.jsx(At.StrictMode,{children:R.jsx(kI,{})}));
