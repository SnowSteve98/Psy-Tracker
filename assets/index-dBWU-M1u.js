(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function lb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var _d={exports:{}},cl={};var y_;function ub(){if(y_)return cl;y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=i,cl.jsxs=i,cl}var __;function cb(){return __||(__=1,_d.exports=ub()),_d.exports}var w=cb(),vd={exports:{}},bt={};var v_;function hb(){if(v_)return bt;v_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.iterator;function q(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,Z={};function ut(O,X,it){this.props=O,this.context=X,this.refs=Z,this.updater=it||G}ut.prototype.isReactComponent={},ut.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},ut.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _t(){}_t.prototype=ut.prototype;function dt(O,X,it){this.props=O,this.context=X,this.refs=Z,this.updater=it||G}var J=dt.prototype=new _t;J.constructor=dt,tt(J,ut.prototype),J.isPureReactComponent=!0;var mt=Array.isArray;function ot(){}var S={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(O,X,it){var rt=it.ref;return{$$typeof:r,type:O,key:X,ref:rt!==void 0?rt:null,props:it}}function M(O,X){return C(O.type,X,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return X[it]})}var I=/\/+/g;function Ft(O,X){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):X.toString(36)}function le(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ot,ot):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,X,it,rt,Et){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(Rt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case r:case t:Ut=!0;break;case b:return Ut=O._init,F(Ut(O._payload),X,it,rt,Et)}}if(Ut)return Et=Et(O),Ut=rt===""?"."+Ft(O,0):rt,mt(Et)?(it="",Ut!=null&&(it=Ut.replace(I,"$&/")+"/"),F(Et,X,it,"",function(tr){return tr})):Et!=null&&(N(Et)&&(Et=M(Et,it+(Et.key==null||O&&O.key===Et.key?"":(""+Et.key).replace(I,"$&/")+"/")+Ut)),X.push(Et)),1;Ut=0;var xe=rt===""?".":rt+":";if(mt(O))for(var re=0;re<O.length;re++)rt=O[re],Rt=xe+Ft(rt,re),Ut+=F(rt,X,it,Rt,Et);else if(re=q(O),typeof re=="function")for(O=re.call(O),re=0;!(rt=O.next()).done;)rt=rt.value,Rt=xe+Ft(rt,re++),Ut+=F(rt,X,it,Rt,Et);else if(Rt==="object"){if(typeof O.then=="function")return F(le(O),X,it,rt,Et);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function nt(O,X,it){if(O==null)return O;var rt=[],Et=0;return F(O,rt,"","",function(Rt){return X.call(it,Rt,Et++)}),rt}function ft(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var jt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Kt={map:nt,forEach:function(O,X,it){nt(O,function(){X.apply(this,arguments)},it)},count:function(O){var X=0;return nt(O,function(){X++}),X},toArray:function(O){return nt(O,function(X){return X})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return bt.Activity=R,bt.Children=Kt,bt.Component=ut,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=dt,bt.StrictMode=a,bt.Suspense=_,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,bt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return S.H.useMemoCache(O)}},bt.cache=function(O){return function(){return O.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(O,X,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=tt({},O.props),Et=O.key;if(X!=null)for(Rt in X.key!==void 0&&(Et=""+X.key),X)!A.call(X,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&X.ref===void 0||(rt[Rt]=X[Rt]);var Rt=arguments.length-2;if(Rt===1)rt.children=it;else if(1<Rt){for(var Ut=Array(Rt),xe=0;xe<Rt;xe++)Ut[xe]=arguments[xe+2];rt.children=Ut}return C(O.type,Et,rt)},bt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},bt.createElement=function(O,X,it){var rt,Et={},Rt=null;if(X!=null)for(rt in X.key!==void 0&&(Rt=""+X.key),X)A.call(X,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(Et[rt]=X[rt]);var Ut=arguments.length-2;if(Ut===1)Et.children=it;else if(1<Ut){for(var xe=Array(Ut),re=0;re<Ut;re++)xe[re]=arguments[re+2];Et.children=xe}if(O&&O.defaultProps)for(rt in Ut=O.defaultProps,Ut)Et[rt]===void 0&&(Et[rt]=Ut[rt]);return C(O,Rt,Et)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(O){return{$$typeof:g,render:O}},bt.isValidElement=N,bt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ft}},bt.memo=function(O,X){return{$$typeof:y,type:O,compare:X===void 0?null:X}},bt.startTransition=function(O){var X=S.T,it={};S.T=it;try{var rt=O(),Et=S.S;Et!==null&&Et(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(ot,jt)}catch(Rt){jt(Rt)}finally{X!==null&&it.types!==null&&(X.types=it.types),S.T=X}},bt.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},bt.use=function(O){return S.H.use(O)},bt.useActionState=function(O,X,it){return S.H.useActionState(O,X,it)},bt.useCallback=function(O,X){return S.H.useCallback(O,X)},bt.useContext=function(O){return S.H.useContext(O)},bt.useDebugValue=function(){},bt.useDeferredValue=function(O,X){return S.H.useDeferredValue(O,X)},bt.useEffect=function(O,X){return S.H.useEffect(O,X)},bt.useEffectEvent=function(O){return S.H.useEffectEvent(O)},bt.useId=function(){return S.H.useId()},bt.useImperativeHandle=function(O,X,it){return S.H.useImperativeHandle(O,X,it)},bt.useInsertionEffect=function(O,X){return S.H.useInsertionEffect(O,X)},bt.useLayoutEffect=function(O,X){return S.H.useLayoutEffect(O,X)},bt.useMemo=function(O,X){return S.H.useMemo(O,X)},bt.useOptimistic=function(O,X){return S.H.useOptimistic(O,X)},bt.useReducer=function(O,X,it){return S.H.useReducer(O,X,it)},bt.useRef=function(O){return S.H.useRef(O)},bt.useState=function(O){return S.H.useState(O)},bt.useSyncExternalStore=function(O,X,it){return S.H.useSyncExternalStore(O,X,it)},bt.useTransition=function(){return S.H.useTransition()},bt.version="19.2.1",bt}var E_;function lm(){return E_||(E_=1,vd.exports=hb()),vd.exports}var It=lm();const nv=lb(It);var Ed={exports:{}},hl={},Td={exports:{}},bd={};var T_;function fb(){return T_||(T_=1,(function(r){function t(F,nt){var ft=F.length;F.push(nt);t:for(;0<ft;){var jt=ft-1>>>1,Kt=F[jt];if(0<l(Kt,nt))F[jt]=nt,F[ft]=Kt,ft=jt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var nt=F[0],ft=F.pop();if(ft!==nt){F[0]=ft;t:for(var jt=0,Kt=F.length,O=Kt>>>1;jt<O;){var X=2*(jt+1)-1,it=F[X],rt=X+1,Et=F[rt];if(0>l(it,ft))rt<Kt&&0>l(Et,it)?(F[jt]=Et,F[rt]=ft,jt=rt):(F[jt]=it,F[X]=ft,jt=X);else if(rt<Kt&&0>l(Et,ft))F[jt]=Et,F[rt]=ft,jt=rt;else break t}}return nt}function l(F,nt){var ft=F.sortIndex-nt.sortIndex;return ft!==0?ft:F.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],y=[],b=1,R=null,V=3,q=!1,G=!1,tt=!1,Z=!1,ut=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function J(F){for(var nt=i(y);nt!==null;){if(nt.callback===null)a(y);else if(nt.startTime<=F)a(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function mt(F){if(tt=!1,J(F),!G)if(i(_)!==null)G=!0,ot||(ot=!0,k());else{var nt=i(y);nt!==null&&le(mt,nt.startTime-F)}}var ot=!1,S=-1,A=5,C=-1;function M(){return Z?!0:!(r.unstable_now()-C<A)}function N(){if(Z=!1,ot){var F=r.unstable_now();C=F;var nt=!0;try{t:{G=!1,tt&&(tt=!1,_t(S),S=-1),q=!0;var ft=V;try{e:{for(J(F),R=i(_);R!==null&&!(R.expirationTime>F&&M());){var jt=R.callback;if(typeof jt=="function"){R.callback=null,V=R.priorityLevel;var Kt=jt(R.expirationTime<=F);if(F=r.unstable_now(),typeof Kt=="function"){R.callback=Kt,J(F),nt=!0;break e}R===i(_)&&a(_),J(F)}else a(_);R=i(_)}if(R!==null)nt=!0;else{var O=i(y);O!==null&&le(mt,O.startTime-F),nt=!1}}break t}finally{R=null,V=ft,q=!1}nt=void 0}}finally{nt?k():ot=!1}}}var k;if(typeof dt=="function")k=function(){dt(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ft=I.port2;I.port1.onmessage=N,k=function(){Ft.postMessage(null)}}else k=function(){ut(N,0)};function le(F,nt){S=ut(function(){F(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(F){switch(V){case 1:case 2:case 3:var nt=3;break;default:nt=V}var ft=V;V=nt;try{return F()}finally{V=ft}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ft=V;V=F;try{return nt()}finally{V=ft}},r.unstable_scheduleCallback=function(F,nt,ft){var jt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?jt+ft:jt):ft=jt,F){case 1:var Kt=-1;break;case 2:Kt=250;break;case 5:Kt=1073741823;break;case 4:Kt=1e4;break;default:Kt=5e3}return Kt=ft+Kt,F={id:b++,callback:nt,priorityLevel:F,startTime:ft,expirationTime:Kt,sortIndex:-1},ft>jt?(F.sortIndex=ft,t(y,F),i(_)===null&&F===i(y)&&(tt?(_t(S),S=-1):tt=!0,le(mt,ft-jt))):(F.sortIndex=Kt,t(_,F),G||q||(G=!0,ot||(ot=!0,k()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var nt=V;return function(){var ft=V;V=nt;try{return F.apply(this,arguments)}finally{V=ft}}}})(bd)),bd}var b_;function db(){return b_||(b_=1,Td.exports=fb()),Td.exports}var Sd={exports:{}},Ye={};var S_;function mb(){if(S_)return Ye;S_=1;var r=lm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:_,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,b)},Ye.flushSync=function(_){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=b,a.d.f()}},Ye.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Ye.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ye.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,R=g(b,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:V,fetchPriority:q}):b==="script"&&a.d.X(_,{crossOrigin:R,integrity:V,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Ye.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,R=g(b,y.crossOrigin);a.d.L(_,b,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Ye.requestFormReset=function(_){a.d.r(_)},Ye.unstable_batchedUpdates=function(_,y){return _(y)},Ye.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.1",Ye}var A_;function gb(){if(A_)return Sd.exports;A_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Sd.exports=mb(),Sd.exports}var w_;function pb(){if(w_)return hl;w_=1;var r=db(),t=lm(),i=gb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,V=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case ut:return"Profiler";case Z:return"StrictMode";case mt:return"Suspense";case ot:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case dt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case J:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case S:return n=e.displayName||null,n!==null?n:Ft(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Ft(e(n))}catch{}}return null}var le=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},jt=[],Kt=-1;function O(e){return{current:e}}function X(e){0>Kt||(e.current=jt[Kt],jt[Kt]=null,Kt--)}function it(e,n){Kt++,jt[Kt]=e.current,e.current=n}var rt=O(null),Et=O(null),Rt=O(null),Ut=O(null);function xe(e,n){switch(it(Rt,n),it(Et,e),it(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=jy(n),e=By(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(rt),it(rt,e)}function re(){X(rt),X(Et),X(Rt)}function tr(e){e.memoizedState!==null&&it(Ut,e);var n=rt.current,s=By(n,e.type);n!==s&&(it(Et,e),it(rt,s))}function Gr(e){Et.current===e&&(X(rt),X(Et)),Ut.current===e&&(X(Ut),al._currentValue=ft)}var Fr,Qr;function Jn(e){if(Fr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Fr=n&&n[1]||"",Qr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+e+Qr}var ro=!1;function er(e,n){if(!e||ro)return"";ro=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var j=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){j=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){j=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var x=p.split(`
`),P=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===P.length)for(o=x.length-1,h=P.length-1;1<=o&&0<=h&&x[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==P[h]){var Q=`
`+x[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{ro=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Jn(s):""}function ao(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return er(e.type,!1);case 11:return er(e.type.render,!1);case 1:return er(e.type,!0);case 31:return Jn("Activity");default:return""}}function oo(e){try{var n="",s=null;do n+=ao(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,is=r.unstable_cancelCallback,vh=r.unstable_shouldYield,Bl=r.unstable_requestPaint,We=r.unstable_now,nr=r.unstable_getCurrentPriorityLevel,lo=r.unstable_ImmediatePriority,uo=r.unstable_UserBlockingPriority,ss=r.unstable_NormalPriority,Eh=r.unstable_LowPriority,ql=r.unstable_IdlePriority,Hl=r.log,Gl=r.unstable_setDisableYieldValue,kn=null,Pe=null;function En(e){if(typeof Hl=="function"&&Gl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(kn,e)}catch{}}var de=Math.clz32?Math.clz32:Ql,Fl=Math.log,Kr=Math.LN2;function Ql(e){return e>>>=0,e===0?32:31-(Fl(e)/Kr|0)|0}var Zn=256,ir=262144,ve=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Wn(o):(p&=E,p!==0?h=Wn(p):s||(s=E&~e,s!==0&&(h=Wn(s))))):(E=o&~f,E!==0?h=Wn(E):p!==0?h=Wn(p):s||(s=o&~e,s!==0&&(h=Wn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Un(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Th(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bh(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,x=e.expirationTimes,P=e.hiddenUpdates;for(s=p&~s;0<s;){var Q=31-de(s),Y=1<<Q;E[Q]=0,x[Q]=-1;var j=P[Q];if(j!==null)for(P[Q]=null,Q=0;Q<j.length;Q++){var H=j[Q];H!==null&&(H.lane&=-536870913)}s&=~Y}o!==0&&rr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function rr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function co(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-de(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function ho(e,n){var s=n&-n;return s=(s&42)!==0?1:ar(s),(s&(e.suspendedLanes|n))!==0?0:s}function ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yl(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:c_(e.type))}function Ln(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var Pn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Pn,Ve="__reactProps$"+Pn,ni="__reactContainer$"+Pn,Yr="__reactEvents$"+Pn,Sh="__reactListeners$"+Pn,Xl="__reactHandles$"+Pn,$l="__reactResources$"+Pn,ii="__reactMarker$"+Pn;function Xr(e){delete e[Ee],delete e[Ve],delete e[Yr],delete e[Sh],delete e[Xl]}function si(e){var n=e[Ee];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ni]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Yy(e);e!==null;){if(s=e[Ee])return s;e=Yy(e)}return n}e=s,s=e.parentNode}return null}function Tn(e){if(e=e[Ee]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ri(e){var n=e[$l];return n||(n=e[$l]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[ii]=!0}var fo=new Set,mo={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(mo[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},yo={};function Jl(e){return _e.call(yo,e)?!0:_e.call(po,e)?!1:go.test(e)?yo[e]=!0:(po[e]=!0,!1)}function $r(e,n,s){if(Jl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function fn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function be(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=rs(e)?"checked":"value";e._valueTracker=_o(e,n,""+e[n])}}function or(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=rs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lr=/[\n"\\]/g;function nn(e){return e.replace(lr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Jr(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?vo(e,p,ze(n)):s!=null?vo(e,p,ze(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function Zl(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}s=s!=null?""+ze(s):"",n=n!=null?""+ze(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Yt(e)}function vo(e,n,s){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function as(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ze(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Wl(e,n,s){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ze(s):""}function os(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(le(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ze(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Yt(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||tu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function To(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Eo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function Zr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(e){return ls.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var bo=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,ui=null;function ur(e){var n=Tn(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(Jr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));Jr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&or(o)}break t;case"textarea":Wl(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&as(e,!!s.multiple,n,!1)}}}var ta=!1;function cs(e,n,s){if(ta)return e(n,s);ta=!0;try{var o=e(n);return o}finally{if(ta=!1,(us!==null||ui!==null)&&(Yu(),us&&(n=us,e=ui,ui=us=null,ur(n),e)))for(n=0;n<e.length;n++)ur(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ve]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cr=!1;if(Sn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{cr=!1}var ci=null,So=null,hr=null;function Ao(){if(hr)return hr;var e,n=So,s=n.length,o,h="value"in ci?ci.value:ci.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return hr=h.slice(e,1<o?1-o:void 0)}function fr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function qn(){return!1}function je(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:qn,this.isPropagationStopped=qn,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=je(Ni),hs=R({},Ni,{view:0,detail:0}),wo=je(hs),fs,ea,fi,na=R({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(fs=e.screenX-fi.screenX,ea=e.screenY-fi.screenY):ea=fs=0,fi=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Ro=je(na),dr=R({},na,{dataTransfer:0}),nu=je(dr),iu=R({},hs,{relatedTarget:0}),mr=je(iu),Co=R({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),su=je(Co),ia=R({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ru=je(ia),au=R({},Ni,{data:0}),di=je(au),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uu[e])?!!n[e]:!1}function ds(){return cu}var tn=R({},hs,{key:function(e){if(e.key){var n=ou[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hu=je(tn),fu=R({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=je(fu),u=R({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),m=je(u),v=R({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(v),U=R({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=je(U),et=R({},Ni,{newState:0,oldState:0}),At=je(et),me=[9,13,27,32],Ht=Sn&&"CompositionEvent"in window,ae=null;Sn&&"documentMode"in document&&(ae=document.documentMode);var An=Sn&&"TextEvent"in window&&!ae,mi=Sn&&(!Ht||ae&&8<ae&&11>=ae),Hn=" ",Gn=!1;function gr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function OE(e,n){switch(e){case"compositionend":return sa(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Gn?null:e;default:return null}}function ME(e,n){if(ra)return e==="compositionend"||!Ht&&gr(e,n)?(e=Ao(),hr=So=ci=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var VE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!VE[e.type]:n==="textarea"}function Zm(e,n,s,o){us?ui?ui.push(o):ui=[o]:us=o,n=ec(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Io=null,xo=null;function zE(e){Vy(e,0)}function du(e){var n=hn(e);if(or(n))return e}function Wm(e,n){if(e==="change")return n}var tg=!1;if(Sn){var Ah;if(Sn){var wh="oninput"in document;if(!wh){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),wh=typeof eg.oninput=="function"}Ah=wh}else Ah=!1;tg=Ah&&(!document.documentMode||9<document.documentMode)}function ng(){Io&&(Io.detachEvent("onpropertychange",ig),xo=Io=null)}function ig(e){if(e.propertyName==="value"&&du(xo)){var n=[];Zm(n,xo,e,bn(e)),cs(zE,n)}}function kE(e,n,s){e==="focusin"?(ng(),Io=n,xo=s,Io.attachEvent("onpropertychange",ig)):e==="focusout"&&ng()}function UE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(xo)}function LE(e,n){if(e==="click")return du(n)}function PE(e,n){if(e==="input"||e==="change")return du(n)}function jE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:jE;function No(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!_e.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rg(e,n){var s=sg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=sg(s)}}function ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=li(e.document)}return n}function Rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var BE=Sn&&"documentMode"in document&&11>=document.documentMode,aa=null,Ch=null,Do=null,Ih=!1;function lg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ih||aa==null||aa!==li(o)||(o=aa,"selectionStart"in o&&Rh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Do&&No(Do,o)||(Do=o,o=ec(Ch,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=aa)))}function pr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var oa={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},xh={},ug={};Sn&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function yr(e){if(xh[e])return xh[e];if(!oa[e])return e;var n=oa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in ug)return xh[e]=n[s];return e}var cg=yr("animationend"),hg=yr("animationiteration"),fg=yr("animationstart"),qE=yr("transitionrun"),HE=yr("transitionstart"),GE=yr("transitioncancel"),dg=yr("transitionend"),mg=new Map,Nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nh.push("scrollEnd");function Fn(e,n){mg.set(e,n),ai(n,[e])}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],la=0,Dh=0;function gu(){for(var e=la,n=Dh=la=0;n<e;){var s=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&gg(s,h,f)}}function pu(e,n,s,o){wn[la++]=e,wn[la++]=n,wn[la++]=s,wn[la++]=o,Dh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Oh(e,n,s,o){return pu(e,n,s,o),yu(e)}function _r(e,n){return pu(e,null,null,n),yu(e)}function gg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function yu(e){if(50<Wo)throw Wo=0,qf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={};function FE(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,o){return new FE(e,n,s,o)}function Mh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function pg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")Mh(e)&&(p=1);else if(typeof e=="string")p=$T(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=mn(31,s,n,h),e.elementType=C,e.lanes=f,e;case tt:return vr(s.children,h,f,n);case Z:p=8,h|=24;break;case ut:return e=mn(12,s,n,h|2),e.elementType=ut,e.lanes=f,e;case mt:return e=mn(13,s,n,h),e.elementType=mt,e.lanes=f,e;case ot:return e=mn(19,s,n,h),e.elementType=ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:p=10;break t;case _t:p=9;break t;case J:p=11;break t;case S:p=14;break t;case A:p=16,o=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=mn(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function vr(e,n,s,o){return e=mn(7,e,o,n),e.lanes=s,e}function Vh(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function yg(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function zh(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var _g=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var s=_g.get(e);return s!==void 0?s:(n={value:e,source:n,stack:oo(n)},_g.set(e,n),n)}return{value:e,source:n,stack:oo(n)}}var ca=[],ha=0,vu=null,Oo=0,Cn=[],In=0,ms=null,gi=1,pi="";function Mi(e,n){ca[ha++]=Oo,ca[ha++]=vu,vu=e,Oo=n}function vg(e,n,s){Cn[In++]=gi,Cn[In++]=pi,Cn[In++]=ms,ms=e;var o=gi;e=pi;var h=32-de(o)-1;o&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,gi=1<<32-de(n)+h|s<<h|o,pi=f+e}else gi=1<<f|s<<h|o,pi=e}function kh(e){e.return!==null&&(Mi(e,1),vg(e,1,0))}function Uh(e){for(;e===vu;)vu=ca[--ha],ca[ha]=null,Oo=ca[--ha],ca[ha]=null;for(;e===ms;)ms=Cn[--In],Cn[In]=null,pi=Cn[--In],Cn[In]=null,gi=Cn[--In],Cn[In]=null}function Eg(e,n){Cn[In++]=gi,Cn[In++]=pi,Cn[In++]=ms,gi=n.id,pi=n.overflow,ms=e}var Be=null,ne=null,kt=!1,gs=null,xn=!1,Lh=Error(a(519));function ps(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(Rn(n,e)),Lh}function Tg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ve]=o,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<el.length;s++)Nt(el[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Zl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),os(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Ly(n.textContent,s)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||ps(e,!0)}function bg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Be=Be.return}}function fa(e){if(e!==Be)return!1;if(!kt)return bg(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||id(e.type,e.memoizedProps)),s=!s),s&&ne&&ps(e),bg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=Ky(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=Ky(e)}else n===27?(n=ne,Ns(e.type)?(e=ld,ld=null,ne=e):ne=n):ne=Be?Dn(e.stateNode.nextSibling):null;return!0}function Er(){ne=Be=null,kt=!1}function Ph(){var e=gs;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),gs=null),e}function Mo(e){gs===null?gs=[e]:gs.push(e)}var jh=O(null),Tr=null,Vi=null;function ys(e,n,s){it(jh,n._currentValue),n._currentValue=s}function zi(e){e._currentValue=jh.current,X(jh)}function Bh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function qh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Bh(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Bh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function da(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;dn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&qh(n,e,s,o),n.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function br(e){Tr=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Sg(Tr,e)}function Tu(e,n){return Tr===null&&br(e),Sg(e,n)}function Sg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Vi===null){if(e===null)throw Error(a(308));Vi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vi=Vi.next=n;return s}var QE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},KE=r.unstable_scheduleCallback,YE=r.unstable_NormalPriority,Se={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new QE,data:new Map,refCount:0}}function Vo(e){e.refCount--,e.refCount===0&&KE(YE,function(){e.controller.abort()})}var zo=null,Gh=0,ma=0,ga=null;function XE(e,n){if(zo===null){var s=zo=[];Gh=0,ma=Yf(),ga={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Gh++,n.then(Ag,Ag),n}function Ag(){if(--Gh===0&&zo!==null){ga!==null&&(ga.status="fulfilled");var e=zo;zo=null,ma=0,ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function $E(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var wg=F.S;F.S=function(e,n){ly=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&XE(e,n),wg!==null&&wg(e,n)};var Sr=O(null);function Fh(){var e=Sr.current;return e!==null?e:ee.pooledCache}function bu(e,n){n===null?it(Sr,Sr.current):it(Sr,n.pool)}function Rg(){var e=Fh();return e===null?null:{parent:Se._currentValue,pool:e}}var pa=Error(a(460)),Qh=Error(a(474)),Su=Error(a(542)),Au={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ig(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ng(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ng(e),e}throw wr=n,pa}}function Ar(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(wr=s,pa):s}}var wr=null;function xg(){if(wr===null)throw Error(a(459));var e=wr;return wr=null,e}function Ng(e){if(e===pa||e===Su)throw Error(a(483))}var ya=null,ko=0;function wu(e){var n=ko;return ko+=1,ya===null&&(ya=[]),Ig(ya,e,n)}function Uo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Dg(e){function n(z,D){if(e){var L=z.deletions;L===null?(z.deletions=[D],z.flags|=16):L.push(D)}}function s(z,D){if(!e)return null;for(;D!==null;)n(z,D),D=D.sibling;return null}function o(z){for(var D=new Map;z!==null;)z.key!==null?D.set(z.key,z):D.set(z.index,z),z=z.sibling;return D}function h(z,D){return z=Oi(z,D),z.index=0,z.sibling=null,z}function f(z,D,L){return z.index=L,e?(L=z.alternate,L!==null?(L=L.index,L<D?(z.flags|=67108866,D):L):(z.flags|=67108866,D)):(z.flags|=1048576,D)}function p(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function E(z,D,L,K){return D===null||D.tag!==6?(D=Vh(L,z.mode,K),D.return=z,D):(D=h(D,L),D.return=z,D)}function x(z,D,L,K){var ht=L.type;return ht===tt?Q(z,D,L.props.children,K,L.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Ar(ht)===D.type)?(D=h(D,L.props),Uo(D,L),D.return=z,D):(D=_u(L.type,L.key,L.props,null,z.mode,K),Uo(D,L),D.return=z,D)}function P(z,D,L,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=zh(L,z.mode,K),D.return=z,D):(D=h(D,L.children||[]),D.return=z,D)}function Q(z,D,L,K,ht){return D===null||D.tag!==7?(D=vr(L,z.mode,K,ht),D.return=z,D):(D=h(D,L),D.return=z,D)}function Y(z,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Vh(""+D,z.mode,L),D.return=z,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return L=_u(D.type,D.key,D.props,null,z.mode,L),Uo(L,D),L.return=z,L;case G:return D=zh(D,z.mode,L),D.return=z,D;case A:return D=Ar(D),Y(z,D,L)}if(le(D)||k(D))return D=vr(D,z.mode,L,null),D.return=z,D;if(typeof D.then=="function")return Y(z,wu(D),L);if(D.$$typeof===dt)return Y(z,Tu(z,D),L);Ru(z,D)}return null}function j(z,D,L,K){var ht=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(z,D,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===ht?x(z,D,L,K):null;case G:return L.key===ht?P(z,D,L,K):null;case A:return L=Ar(L),j(z,D,L,K)}if(le(L)||k(L))return ht!==null?null:Q(z,D,L,K,null);if(typeof L.then=="function")return j(z,D,wu(L),K);if(L.$$typeof===dt)return j(z,D,Tu(z,L),K);Ru(z,L)}return null}function H(z,D,L,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return z=z.get(L)||null,E(D,z,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return z=z.get(K.key===null?L:K.key)||null,x(D,z,K,ht);case G:return z=z.get(K.key===null?L:K.key)||null,P(D,z,K,ht);case A:return K=Ar(K),H(z,D,L,K,ht)}if(le(K)||k(K))return z=z.get(L)||null,Q(D,z,K,ht,null);if(typeof K.then=="function")return H(z,D,L,wu(K),ht);if(K.$$typeof===dt)return H(z,D,L,Tu(D,K),ht);Ru(D,K)}return null}function at(z,D,L,K){for(var ht=null,Bt=null,lt=D,Ct=D=0,Ot=null;lt!==null&&Ct<L.length;Ct++){lt.index>Ct?(Ot=lt,lt=null):Ot=lt.sibling;var qt=j(z,lt,L[Ct],K);if(qt===null){lt===null&&(lt=Ot);break}e&&lt&&qt.alternate===null&&n(z,lt),D=f(qt,D,Ct),Bt===null?ht=qt:Bt.sibling=qt,Bt=qt,lt=Ot}if(Ct===L.length)return s(z,lt),kt&&Mi(z,Ct),ht;if(lt===null){for(;Ct<L.length;Ct++)lt=Y(z,L[Ct],K),lt!==null&&(D=f(lt,D,Ct),Bt===null?ht=lt:Bt.sibling=lt,Bt=lt);return kt&&Mi(z,Ct),ht}for(lt=o(lt);Ct<L.length;Ct++)Ot=H(lt,z,Ct,L[Ct],K),Ot!==null&&(e&&Ot.alternate!==null&&lt.delete(Ot.key===null?Ct:Ot.key),D=f(Ot,D,Ct),Bt===null?ht=Ot:Bt.sibling=Ot,Bt=Ot);return e&&lt.forEach(function(zs){return n(z,zs)}),kt&&Mi(z,Ct),ht}function pt(z,D,L,K){if(L==null)throw Error(a(151));for(var ht=null,Bt=null,lt=D,Ct=D=0,Ot=null,qt=L.next();lt!==null&&!qt.done;Ct++,qt=L.next()){lt.index>Ct?(Ot=lt,lt=null):Ot=lt.sibling;var zs=j(z,lt,qt.value,K);if(zs===null){lt===null&&(lt=Ot);break}e&&lt&&zs.alternate===null&&n(z,lt),D=f(zs,D,Ct),Bt===null?ht=zs:Bt.sibling=zs,Bt=zs,lt=Ot}if(qt.done)return s(z,lt),kt&&Mi(z,Ct),ht;if(lt===null){for(;!qt.done;Ct++,qt=L.next())qt=Y(z,qt.value,K),qt!==null&&(D=f(qt,D,Ct),Bt===null?ht=qt:Bt.sibling=qt,Bt=qt);return kt&&Mi(z,Ct),ht}for(lt=o(lt);!qt.done;Ct++,qt=L.next())qt=H(lt,z,Ct,qt.value,K),qt!==null&&(e&&qt.alternate!==null&&lt.delete(qt.key===null?Ct:qt.key),D=f(qt,D,Ct),Bt===null?ht=qt:Bt.sibling=qt,Bt=qt);return e&&lt.forEach(function(ob){return n(z,ob)}),kt&&Mi(z,Ct),ht}function te(z,D,L,K){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:t:{for(var ht=L.key;D!==null;){if(D.key===ht){if(ht=L.type,ht===tt){if(D.tag===7){s(z,D.sibling),K=h(D,L.props.children),K.return=z,z=K;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Ar(ht)===D.type){s(z,D.sibling),K=h(D,L.props),Uo(K,L),K.return=z,z=K;break t}s(z,D);break}else n(z,D);D=D.sibling}L.type===tt?(K=vr(L.props.children,z.mode,K,L.key),K.return=z,z=K):(K=_u(L.type,L.key,L.props,null,z.mode,K),Uo(K,L),K.return=z,z=K)}return p(z);case G:t:{for(ht=L.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(z,D.sibling),K=h(D,L.children||[]),K.return=z,z=K;break t}else{s(z,D);break}else n(z,D);D=D.sibling}K=zh(L,z.mode,K),K.return=z,z=K}return p(z);case A:return L=Ar(L),te(z,D,L,K)}if(le(L))return at(z,D,L,K);if(k(L)){if(ht=k(L),typeof ht!="function")throw Error(a(150));return L=ht.call(L),pt(z,D,L,K)}if(typeof L.then=="function")return te(z,D,wu(L),K);if(L.$$typeof===dt)return te(z,D,Tu(z,L),K);Ru(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(z,D.sibling),K=h(D,L),K.return=z,z=K):(s(z,D),K=Vh(L,z.mode,K),K.return=z,z=K),p(z)):s(z,D)}return function(z,D,L,K){try{ko=0;var ht=te(z,D,L,K);return ya=null,ht}catch(lt){if(lt===pa||lt===Su)throw lt;var Bt=mn(29,lt,null,z.mode);return Bt.lanes=K,Bt.return=z,Bt}finally{}}}var Rr=Dg(!0),Og=Dg(!1),_s=!1;function Kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Es(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=yu(e),gg(e,null,s),n}return pu(e,o,n,s),yu(e)}function Lo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}function Xh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var $h=!1;function Po(){if($h){var e=ga;if(e!==null)throw e}}function jo(e,n,s,o){$h=!1;var h=e.updateQueue;_s=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,P=x.next;x.next=null,p===null?f=P:p.next=P,p=x;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=x))}if(f!==null){var Y=h.baseState;p=0,Q=P=x=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Dt&j)===j:(o&j)===j){j!==0&&j===ma&&($h=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,pt=E;j=n;var te=s;switch(pt.tag){case 1:if(at=pt.payload,typeof at=="function"){Y=at.call(te,Y,j);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=pt.payload,j=typeof at=="function"?at.call(te,Y,j):at,j==null)break t;Y=R({},Y,j);break t;case 2:_s=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=H,x=Y):Q=Q.next=H,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(x=Y),h.baseState=x,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),ws|=p,e.lanes=p,e.memoizedState=Y}}function Mg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Vg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Mg(s[e],n)}var _a=O(null),Cu=O(0);function zg(e,n){e=Gi,it(Cu,e),it(_a,n),Gi=e|n.baseLanes}function Jh(){it(Cu,Gi),it(_a,_a.current)}function Zh(){Gi=Cu.current,X(_a),X(Cu)}var gn=O(null),Nn=null;function Ts(e){var n=e.alternate;it(ge,ge.current&1),it(gn,e),Nn===null&&(n===null||_a.current!==null||n.memoizedState!==null)&&(Nn=e)}function Wh(e){it(ge,ge.current),it(gn,e),Nn===null&&(Nn=e)}function kg(e){e.tag===22?(it(ge,ge.current),it(gn,e),Nn===null&&(Nn=e)):bs()}function bs(){it(ge,ge.current),it(gn,gn.current)}function pn(e){X(gn),Nn===e&&(Nn=null),X(ge)}var ge=O(0);function Iu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ad(s)||od(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ki=0,wt=null,Zt=null,Ae=null,xu=!1,va=!1,Cr=!1,Nu=0,Bo=0,Ea=null,JE=0;function he(){throw Error(a(321))}function tf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!dn(e[s],n[s]))return!1;return!0}function ef(e,n,s,o,h,f){return ki=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?vp:yf,Cr=!1,f=s(o,h),Cr=!1,va&&(f=Lg(n,s,o,h)),Ug(e),f}function Ug(e){F.H=Go;var n=Zt!==null&&Zt.next!==null;if(ki=0,Ae=Zt=wt=null,xu=!1,Bo=0,Ea=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Eu(e)&&(we=!0))}function Lg(e,n,s,o){wt=e;var h=0;do{if(va&&(Ea=null),Bo=0,va=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Ep,f=n(s,o)}while(va);return f}function ZE(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?qo(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(wt.flags|=1024),n}function nf(){var e=Nu!==0;return Nu=0,e}function sf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function rf(e){if(xu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}xu=!1}ki=0,Ae=Zt=wt=null,va=!1,Bo=Nu=0,Ea=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?wt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if(Zt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Ae===null?wt.memoizedState:Ae.next;if(n!==null)Ae=n,Zt=e;else{if(e===null)throw wt.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?wt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var n=Bo;return Bo+=1,Ea===null&&(Ea=[]),e=Ig(Ea,e,n),n=wt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?vp:yf),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===dt)return qe(e)}throw Error(a(438,String(e)))}function af(e){var n=null,s=wt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Du(),wt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function Ui(e,n){return typeof n=="function"?n(e):n}function Mu(e){var n=pe();return of(n,Zt,e)}function of(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,x=null,P=n,Q=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Dt&Y)===Y:(ki&Y)===Y){var j=P.revertLane;if(j===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===ma&&(Q=!0);else if((ki&j)===j){P=P.next,j===ma&&(Q=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(E=x=Y,p=f):x=x.next=Y,wt.lanes|=j,ws|=j;Y=P.action,Cr&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else j={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(E=x=j,p=f):x=x.next=j,wt.lanes|=Y,ws|=Y;P=P.next}while(P!==null&&P!==n);if(x===null?p=f:x.next=E,!dn(f,e.memoizedState)&&(we=!0,Q&&(s=ga,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function lf(e){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);dn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Pg(e,n,s){var o=wt,h=pe(),f=kt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!dn((Zt||h).memoizedState,s);if(p&&(h.memoizedState=s,we=!0),h=h.queue,hf(qg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Ta(9,{destroy:void 0},Bg.bind(null,o,h,s,n),null),ee===null)throw Error(a(349));f||(ki&127)!==0||jg(o,n,s)}return s}function jg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=wt.updateQueue,n===null?(n=Du(),wt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Bg(e,n,s,o){n.value=s,n.getSnapshot=o,Hg(n)&&Gg(e)}function qg(e,n,s){return s(function(){Hg(n)&&Gg(e)})}function Hg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!dn(e,s)}catch{return!0}}function Gg(e){var n=_r(e,2);n!==null&&un(n,e,2)}function uf(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),Cr){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},n}function Fg(e,n,s,o){return e.baseState=s,of(e,Zt,typeof o=="function"?o:Ui)}function WE(e,n,s,o,h){if(ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Qg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Qg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var E=s(h,o),x=F.S;x!==null&&x(p,E),Kg(e,n,E)}catch(P){cf(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=s(h,o),Kg(e,n,f)}catch(P){cf(e,n,P)}}function Kg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Yg(e,n,o)},function(o){return cf(e,n,o)}):Yg(e,n,s)}function Yg(e,n,s){n.status="fulfilled",n.value=s,Xg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Qg(e,s)))}function cf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Xg(n),n=n.next;while(n!==o)}e.action=null}function Xg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function $g(e,n){return n}function Jg(e,n){if(kt){var s=ee.formState;if(s!==null){t:{var o=wt;if(kt){if(ne){e:{for(var h=ne,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Dn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Dn(h.nextSibling),o=h.data==="F!";break t}}ps(o)}o=!1}o&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:n},s.queue=o,s=pp.bind(null,wt,o),o.dispatch=s,o=uf(!1),f=pf.bind(null,wt,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=WE.bind(null,wt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Zg(e){var n=pe();return Wg(n,Zt,e)}function Wg(e,n,s){if(n=of(e,n,$g)[0],e=Mu(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qo(n)}catch(p){throw p===pa?Su:p}else o=n;n=pe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(wt.flags|=2048,Ta(9,{destroy:void 0},tT.bind(null,h,s),null)),[o,f,e]}function tT(e,n){e.action=n}function tp(e){var n=pe(),s=Zt;if(s!==null)return Wg(n,s,e);pe(),n=n.memoizedState,s=pe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ta(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Du(),wt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function ep(){return pe().memoizedState}function Vu(e,n,s,o){var h=en();wt.flags|=e,h.memoizedState=Ta(1|n,{destroy:void 0},s,o===void 0?null:o)}function zu(e,n,s,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&tf(o,Zt.memoizedState.deps)?h.memoizedState=Ta(n,f,s,o):(wt.flags|=e,h.memoizedState=Ta(1|n,f,s,o))}function np(e,n){Vu(8390656,8,e,n)}function hf(e,n){zu(2048,8,e,n)}function eT(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=Du(),wt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function ip(e){var n=pe().memoizedState;return eT({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function sp(e,n){return zu(4,2,e,n)}function rp(e,n){return zu(4,4,e,n)}function ap(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function op(e,n,s){s=s!=null?s.concat([e]):null,zu(4,4,ap.bind(null,n,e),s)}function ff(){}function lp(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&tf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function up(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&tf(n,o[1]))return o[0];if(o=e(),Cr){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o}function df(e,n,s){return s===void 0||(ki&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=cy(),wt.lanes|=e,ws|=e,s)}function cp(e,n,s,o){return dn(s,n)?s:_a.current!==null?(e=df(e,s,o),dn(e,n)||(we=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(Dt&261930)===0?(we=!0,e.memoizedState=s):(e=cy(),wt.lanes|=e,ws|=e,n)}function hp(e,n,s,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=F.T,E={};F.T=E,pf(e,!1,n,s);try{var x=h(),P=F.S;if(P!==null&&P(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=$E(x,o);Ho(e,n,Q,vn(e))}else Ho(e,n,o,vn(e))}catch(Y){Ho(e,n,{then:function(){},status:"rejected",reason:Y},vn())}finally{nt.p=f,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function nT(){}function mf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=fp(e).queue;hp(e,h,n,ft,s===null?nT:function(){return dp(e),s(o)})}function fp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function dp(e){var n=fp(e);n.next===null&&(n=e.alternate.memoizedState),Ho(e,n.next.queue,{},vn())}function gf(){return qe(al)}function mp(){return pe().memoizedState}function gp(){return pe().memoizedState}function iT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();e=vs(s);var o=Es(n,e,s);o!==null&&(un(o,n,s),Lo(o,n,s)),n={cache:Hh()},e.payload=n;return}n=n.return}}function sT(e,n,s){var o=vn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ku(e)?yp(n,s):(s=Oh(e,n,s,o),s!==null&&(un(s,e,o),_p(s,n,o)))}function pp(e,n,s){var o=vn();Ho(e,n,s,o)}function Ho(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ku(e))yp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,dn(E,p))return pu(e,n,h,0),ee===null&&gu(),!1}catch{}finally{}if(s=Oh(e,n,h,o),s!==null)return un(s,e,o),_p(s,n,o),!0}return!1}function pf(e,n,s,o){if(o={lane:2,revertLane:Yf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ku(e)){if(n)throw Error(a(479))}else n=Oh(e,s,o,2),n!==null&&un(n,e,2)}function ku(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function yp(e,n){va=xu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function _p(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}var Go={readContext:qe,use:Ou,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Go.useEffectEvent=he;var vp={readContext:qe,use:Ou,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:np,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Vu(4194308,4,ap.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Vu(4194308,4,e,n)},useInsertionEffect:function(e,n){Vu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var o=e();if(Cr){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=en();if(s!==void 0){var h=s(n);if(Cr){En(!0);try{s(n)}finally{En(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=sT.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=uf(e);var n=e.queue,s=pp.bind(null,wt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:ff,useDeferredValue:function(e,n){var s=en();return df(s,e,n)},useTransition:function(){var e=uf(!1);return e=hp.bind(null,wt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=wt,h=en();if(kt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ee===null)throw Error(a(349));(Dt&127)!==0||jg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,np(qg.bind(null,o,f,e),[e]),o.flags|=2048,Ta(9,{destroy:void 0},Bg.bind(null,o,f,s,n),null),s},useId:function(){var e=en(),n=ee.identifierPrefix;if(kt){var s=pi,o=gi;s=(o&~(1<<32-de(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Nu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=JE++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:gf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=pf.bind(null,wt,!0,s),s.dispatch=n,[e,n]},useMemoCache:af,useCacheRefresh:function(){return en().memoizedState=iT.bind(null,wt)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((Gt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},yf={readContext:qe,use:Ou,useCallback:lp,useContext:qe,useEffect:hf,useImperativeHandle:op,useInsertionEffect:sp,useLayoutEffect:rp,useMemo:up,useReducer:Mu,useRef:ep,useState:function(){return Mu(Ui)},useDebugValue:ff,useDeferredValue:function(e,n){var s=pe();return cp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=Mu(Ui)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Pg,useId:mp,useHostTransitionStatus:gf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,n){var s=pe();return Fg(s,Zt,e,n)},useMemoCache:af,useCacheRefresh:gp};yf.useEffectEvent=ip;var Ep={readContext:qe,use:Ou,useCallback:lp,useContext:qe,useEffect:hf,useImperativeHandle:op,useInsertionEffect:sp,useLayoutEffect:rp,useMemo:up,useReducer:lf,useRef:ep,useState:function(){return lf(Ui)},useDebugValue:ff,useDeferredValue:function(e,n){var s=pe();return Zt===null?df(s,e,n):cp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=lf(Ui)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Pg,useId:mp,useHostTransitionStatus:gf,useFormState:tp,useActionState:tp,useOptimistic:function(e,n){var s=pe();return Zt!==null?Fg(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:af,useCacheRefresh:gp};Ep.useEffectEvent=ip;function _f(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:R({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var vf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=vn(),h=vs(o);h.payload=n,s!=null&&(h.callback=s),n=Es(e,h,o),n!==null&&(un(n,e,o),Lo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=vn(),h=vs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Es(e,h,o),n!==null&&(un(n,e,o),Lo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=vn(),o=vs(s);o.tag=2,n!=null&&(o.callback=n),n=Es(e,o,s),n!==null&&(un(n,e,s),Lo(n,e,s))}};function Tp(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!No(s,o)||!No(h,f):!0}function bp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&vf.enqueueReplaceState(n,n.state,null)}function Ir(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=R({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Sp(e){mu(e)}function Ap(e){console.error(e)}function wp(e){mu(e)}function Uu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Rp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ef(e,n,s){return s=vs(s),s.tag=3,s.payload={element:null},s.callback=function(){Uu(e,n)},s}function Cp(e){return e=vs(e),e.tag=3,e}function Ip(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Rp(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Rp(n,s,o),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function rT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&da(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return Nn===null?Xu():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Au?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Ff(e,o,h)),!1;case 22:return s.flags|=65536,o===Au?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Ff(e,o,h)),!1}throw Error(a(435,s.tag))}return Ff(e,o,h),Xu(),!1}if(kt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Lh&&(e=Error(a(422),{cause:o}),Mo(Rn(e,s)))):(o!==Lh&&(n=Error(a(423),{cause:o}),Mo(Rn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Rn(o,s),h=Ef(e.stateNode,o,h),Xh(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:o});if(f=Rn(f,s),Zo===null?Zo=[f]:Zo.push(f),fe!==4&&(fe=2),n===null)return!0;o=Rn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Ef(s.stateNode,o,e),Xh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Cp(h),Ip(h,e,s,o),Xh(s,h),!1}s=s.return}while(s!==null);return!1}var Tf=Error(a(461)),we=!1;function He(e,n,s,o){n.child=e===null?Og(n,null,s,o):Rr(n,e.child,s,o)}function xp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return br(n),o=ef(e,n,s,p,f,h),E=nf(),e!==null&&!we?(sf(e,n,h),Li(e,n,h)):(kt&&E&&kh(n),n.flags|=1,He(e,n,o,h),n.child)}function Np(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Mh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Dp(e,n,f,o,h)):(e=_u(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!xf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:No,s(p,o)&&e.ref===n.ref)return Li(e,n,h)}return n.flags|=1,e=Oi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Dp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(No(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,xf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,Li(e,n,h)}return bf(e,n,s,o,h)}function Op(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Mp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(n,f!==null?f.cachePool:null),f!==null?zg(n,f):Jh(),kg(n);else return o=n.lanes=536870912,Mp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(bu(n,f.cachePool),zg(n,f),bs(),n.memoizedState=null):(e!==null&&bu(n,null),Jh(),bs());return He(e,n,h,s),n.child}function Fo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Mp(e,n,s,o,h){var f=Fh();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&bu(n,null),Jh(),kg(n),e!==null&&da(e,n,o,!0),n.childLanes=h,null}function Lu(e,n){return n=ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Vp(e,n,s){return Rr(n,e.child,null,s),e=Lu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function aT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=Lu(n,o),n.lanes=536870912,Fo(null,e);if(Wh(n),(e=ne)?(e=Qy(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=yg(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw ps(n);return n.lanes=536870912,null}return Lu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(Wh(n),h)if(n.flags&256)n.flags&=-257,n=Vp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||da(e,n,s,!1),h=(s&e.childLanes)!==0,we||h){if(o=ee,o!==null&&(p=ho(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,_r(e,p),un(o,e,p),Tf;Xu(),n=Vp(e,n,s)}else e=f.treeContext,ne=Dn(p.nextSibling),Be=n,kt=!0,gs=null,xn=!1,e!==null&&Eg(n,e),n=Lu(n,o),n.flags|=4096;return n}return e=Oi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Pu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function bf(e,n,s,o,h){return br(n),s=ef(e,n,s,o,void 0,h),o=nf(),e!==null&&!we?(sf(e,n,h),Li(e,n,h)):(kt&&o&&kh(n),n.flags|=1,He(e,n,s,h),n.child)}function zp(e,n,s,o,h,f){return br(n),n.updateQueue=null,s=Lg(n,o,s,h),Ug(e),o=nf(),e!==null&&!we?(sf(e,n,f),Li(e,n,f)):(kt&&o&&kh(n),n.flags|=1,He(e,n,s,f),n.child)}function kp(e,n,s,o,h){if(br(n),n.stateNode===null){var f=ua,p=s.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Kh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?qe(p):ua,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(_f(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&vf.enqueueReplaceState(f,f.state,null),jo(n,o,f,h),Po(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,x=Ir(s,E);f.props=x;var P=f.context,Q=s.contextType;p=ua,typeof Q=="object"&&Q!==null&&(p=qe(Q));var Y=s.getDerivedStateFromProps;Q=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&bp(n,f,o,p),_s=!1;var j=n.memoizedState;f.state=j,jo(n,o,f,h),Po(),P=n.memoizedState,E||j!==P||_s?(typeof Y=="function"&&(_f(n,s,Y,o),P=n.memoizedState),(x=_s||Tp(n,s,x,o,j,P,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Yh(e,n),p=n.memoizedProps,Q=Ir(s,p),f.props=Q,Y=n.pendingProps,j=f.context,P=s.contextType,x=ua,typeof P=="object"&&P!==null&&(x=qe(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||j!==x)&&bp(n,f,o,x),_s=!1,j=n.memoizedState,f.state=j,jo(n,o,f,h),Po();var H=n.memoizedState;p!==Y||j!==H||_s||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof E=="function"&&(_f(n,s,E,o),H=n.memoizedState),(Q=_s||Tp(n,s,Q,o,j,H,x)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=x,o=Q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Pu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Rr(n,e.child,null,h),n.child=Rr(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Li(e,n,h),e}function Up(e,n,s,o){return Er(),n.flags|=256,He(e,n,s,o),n.child}var Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(e){return{baseLanes:e,cachePool:Rg()}}function wf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=_n),e}function Lp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Ts(n):bs(),(e=ne)?(e=Qy(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=yg(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw ps(n);return od(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(bs(),h=n.mode,E=ju({mode:"hidden",children:E},h),o=vr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Af(s),o.childLanes=wf(e,p,s),n.memoizedState=Sf,Fo(null,o)):(Ts(n),Rf(n,E))}var x=e.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=Cf(e,n,s)):n.memoizedState!==null?(bs(),n.child=e.child,n.flags|=128,n=null):(bs(),E=o.fallback,h=n.mode,o=ju({mode:"visible",children:o.children},h),E=vr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Rr(n,e.child,null,s),o=n.child,o.memoizedState=Af(s),o.childLanes=wf(e,p,s),n.memoizedState=Sf,n=Fo(null,o));else if(Ts(n),od(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Mo({value:o,source:null,stack:null}),n=Cf(e,n,s)}else if(we||da(e,n,s,!1),p=(s&e.childLanes)!==0,we||p){if(p=ee,p!==null&&(o=ho(p,s),o!==0&&o!==x.retryLane))throw x.retryLane=o,_r(e,o),un(p,e,o),Tf;ad(E)||Xu(),n=Cf(e,n,s)}else ad(E)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,ne=Dn(E.nextSibling),Be=n,kt=!0,gs=null,xn=!1,e!==null&&Eg(n,e),n=Rf(n,o.children),n.flags|=4096);return n}return h?(bs(),E=o.fallback,h=n.mode,x=e.child,P=x.sibling,o=Oi(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,P!==null?E=Oi(P,E):(E=vr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Fo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Af(s):(h=E.cachePool,h!==null?(x=Se._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Rg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=wf(e,p,s),n.memoizedState=Sf,Fo(e.child,o)):(Ts(n),s=e.child,e=s.sibling,s=Oi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Rf(e,n){return n=ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ju(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function Cf(e,n,s){return Rr(n,e.child,null,s),e=Rf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Pp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bh(e.return,n,s)}function If(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function jp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=ge.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,it(ge,p),He(e,n,o,s),o=kt?Oo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pp(e,s,n);else if(e.tag===19)Pp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Iu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),If(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Iu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}If(n,!0,s,null,f,o);break;case"together":If(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Li(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ws|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(da(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Oi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Oi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function oT(e,n,s){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),ys(n,Se,e.memoizedState.cache),Er();break;case 27:case 5:tr(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ts(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Lp(e,n,s):(Ts(n),e=Li(e,n,s),e!==null?e.sibling:null);Ts(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(da(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return jp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(ge,ge.current),o)break;return null;case 22:return n.lanes=0,Op(e,n,s,n.pendingProps);case 24:ys(n,Se,e.memoizedState.cache)}return Li(e,n,s)}function Bp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!xf(e,s)&&(n.flags&128)===0)return we=!1,oT(e,n,s);we=(e.flags&131072)!==0}else we=!1,kt&&(n.flags&1048576)!==0&&vg(n,Oo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ar(n.elementType),n.type=e,typeof e=="function")Mh(e)?(o=Ir(e,o),n.tag=1,n=kp(null,n,e,o,s)):(n.tag=0,n=bf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===J){n.tag=11,n=xp(null,n,e,o,s);break t}else if(h===S){n.tag=14,n=Np(null,n,e,o,s);break t}}throw n=Ft(e)||e,Error(a(306,n,""))}}return n;case 0:return bf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ir(o,n.pendingProps),kp(e,n,o,h,s);case 3:t:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Yh(e,n),jo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,ys(n,Se,o),o!==f.cache&&qh(n,[Se],s,!0),Po(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Up(e,n,o,s);break t}else if(o!==h){h=Rn(Error(a(424)),n),Mo(h),n=Up(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=Dn(e.firstChild),Be=n,kt=!0,gs=null,xn=!0,s=Og(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Er(),o===h){n=Li(e,n,s);break t}He(e,n,o,s)}n=n.child}return n;case 26:return Pu(e,n),e===null?(s=Zy(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,o=nc(Rt.current).createElement(s),o[Ee]=n,o[Ve]=e,Ge(o,s,e),Te(o),n.stateNode=o):n.memoizedState=Zy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return tr(n),e===null&&kt&&(o=n.stateNode=Xy(n.type,n.pendingProps,Rt.current),Be=n,xn=!0,h=ne,Ns(n.type)?(ld=h,ne=Dn(o.firstChild)):ne=h),He(e,n,n.pendingProps.children,s),Pu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=ne)&&(o=UT(o,n.type,n.pendingProps,xn),o!==null?(n.stateNode=o,Be=n,ne=Dn(o.firstChild),xn=!1,h=!0):h=!1),h||ps(n)),tr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,id(h,f)?o=null:p!==null&&id(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=ef(e,n,ZE,null,null,s),al._currentValue=h),Pu(e,n),He(e,n,o,s),n.child;case 6:return e===null&&kt&&((e=s=ne)&&(s=LT(s,n.pendingProps,xn),s!==null?(n.stateNode=s,Be=n,ne=null,e=!0):e=!1),e||ps(n)),null;case 13:return Lp(e,n,s);case 4:return xe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Rr(n,null,o,s):He(e,n,o,s),n.child;case 11:return xp(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ys(n,n.type,o.value),He(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,br(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,s),n.child;case 14:return Np(e,n,n.type,n.pendingProps,s);case 15:return Dp(e,n,n.type,n.pendingProps,s);case 19:return jp(e,n,s);case 31:return aT(e,n,s);case 22:return Op(e,n,s,n.pendingProps);case 24:return br(n),o=qe(Se),e===null?(h=Fh(),h===null&&(h=ee,f=Hh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Kh(n),ys(n,Se,h)):((e.lanes&s)!==0&&(Yh(e,n),jo(n,null,null,s),Po()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ys(n,Se,o)):(o=f.cache,ys(n,Se,o),o!==h.cache&&qh(n,[Se],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pi(e){e.flags|=4}function Nf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(my())e.flags|=8192;else throw wr=Au,Qh}else e.flags&=-16777217}function qp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!i_(n))if(my())e.flags|=8192;else throw wr=Au,Qh}function Bu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Kl():536870912,e.lanes|=n,wa|=n)}function Qo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function lT(e,n,s){var o=n.pendingProps;switch(Uh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),zi(Se),re(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(fa(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ph())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(ie(n),qp(n,f)):(ie(n),Nf(n,h,null,o,s))):f?f!==e.memoizedState?(Pi(n),ie(n),qp(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Pi(n),ie(n),Nf(n,h,e,o,s)),null;case 27:if(Gr(n),s=Rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=rt.current,fa(n)?Tg(n):(e=Xy(h,o,s),n.stateNode=e,Pi(n))}return ie(n),null;case 5:if(Gr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=rt.current,fa(n))Tg(n);else{var p=nc(Rt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ee]=n,f[Ve]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Pi(n)}}return ie(n),Nf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Rt.current,fa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Ly(e.nodeValue,s)),e||ps(n,!0)}else e=nc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=fa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else Er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else s=Ph(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=fa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else Er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Ph(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Bu(n,n.updateQueue),ie(n),null);case 4:return re(),e===null&&Zf(n.stateNode.containerInfo),ie(n),null;case 10:return zi(n.type),ie(n),null;case 19:if(X(ge),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Qo(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Iu(e),f!==null){for(n.flags|=128,Qo(o,!1),e=f.updateQueue,n.updateQueue=e,Bu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)pg(s,e),s=s.sibling;return it(ge,ge.current&1|2),kt&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>Qu&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Iu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Bu(n,e),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return ie(n),null}else 2*We()-o.renderingStartTime>Qu&&s!==536870912&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,s=ge.current,it(ge,h?s&1|2:s&1),kt&&Mi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return pn(n),Zh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&Bu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&X(Sr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),zi(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function uT(e,n){switch(Uh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(Se),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Gr(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(a(340));Er()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Er()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(ge),null;case 4:return re(),null;case 10:return zi(n.type),null;case 22:case 23:return pn(n),Zh(),e!==null&&X(Sr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(Se),null;case 25:return null;default:return null}}function Hp(e,n){switch(Uh(n),n.tag){case 3:zi(Se),re();break;case 26:case 27:case 5:Gr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:X(ge);break;case 10:zi(n.type);break;case 22:case 23:pn(n),Zh(),e!==null&&X(Sr);break;case 24:zi(Se)}}function Ko(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){$t(n,n.return,E)}}function Ss(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var x=s,P=E;try{P()}catch(Q){$t(h,x,Q)}}}o=o.next}while(o!==f)}}catch(Q){$t(n,n.return,Q)}}function Gp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Vg(n,s)}catch(o){$t(e,e.return,o)}}}function Fp(e,n,s){s.props=Ir(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function Yo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){$t(e,n,h)}}function yi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function Qp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function Df(e,n,s){try{var o=e.stateNode;DT(o,e.type,s,n),o[Ve]=n}catch(h){$t(e,e.return,h)}}function Kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ns(e.type)||e.tag===4}function Of(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ns(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&Ns(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Mf(e,n,s),e=e.sibling;e!==null;)Mf(e,n,s),e=e.sibling}function qu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ns(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(qu(e,n,s),e=e.sibling;e!==null;)qu(e,n,s),e=e.sibling}function Yp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,s),n[Ee]=e,n[Ve]=s}catch(f){$t(e,e.return,f)}}var ji=!1,Re=!1,Vf=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,ke=null;function cT(e,n){if(e=e.containerInfo,ed=uc,e=og(e),Rh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,x=-1,P=0,Q=0,Y=e,j=null;e:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(x=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(H=Y.firstChild)!==null;)j=Y,Y=H;for(;;){if(Y===e)break e;if(j===s&&++P===h&&(E=p),j===f&&++Q===o&&(x=p),(H=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=H}s=E===-1||x===-1?null:{start:E,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(nd={focusedElem:e,selectionRange:s},uc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Ir(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){$t(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)rd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function $p(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:qi(e,s),o&4&&Ko(5,s);break;case 1:if(qi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){$t(s,s.return,p)}else{var h=Ir(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){$t(s,s.return,p)}}o&64&&Gp(s),o&512&&Yo(s,s.return);break;case 3:if(qi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Vg(e,n)}catch(p){$t(s,s.return,p)}}break;case 27:n===null&&o&4&&Yp(s);case 26:case 5:qi(e,s),n===null&&o&4&&Qp(s),o&512&&Yo(s,s.return);break;case 12:qi(e,s);break;case 31:qi(e,s),o&4&&Wp(e,s);break;case 13:qi(e,s),o&4&&ty(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=vT.bind(null,s),PT(e,s))));break;case 22:if(o=s.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||Re,h=ji;var f=Re;ji=o,(Re=n)&&!f?Hi(e,s,(s.subtreeFlags&8772)!==0):qi(e,s),ji=h,Re=f}break;case 30:break;default:qi(e,s)}}function Jp(e){var n=e.alternate;n!==null&&(e.alternate=null,Jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,rn=!1;function Bi(e,n,s){for(s=s.child;s!==null;)Zp(e,n,s),s=s.sibling}function Zp(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(kn,s)}catch{}switch(s.tag){case 26:Re||yi(s,n),Bi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Re||yi(s,n);var o=oe,h=rn;Ns(s.type)&&(oe=s.stateNode,rn=!1),Bi(e,n,s),il(s.stateNode),oe=o,rn=h;break;case 5:Re||yi(s,n);case 6:if(o=oe,h=rn,oe=null,Bi(e,n,s),oe=o,rn=h,oe!==null)if(rn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:oe!==null&&(rn?(e=oe,Gy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ma(e)):Gy(oe,s.stateNode));break;case 4:o=oe,h=rn,oe=s.stateNode.containerInfo,rn=!0,Bi(e,n,s),oe=o,rn=h;break;case 0:case 11:case 14:case 15:Ss(2,s,n),Re||Ss(4,s,n),Bi(e,n,s);break;case 1:Re||(yi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Fp(s,n,o)),Bi(e,n,s);break;case 21:Bi(e,n,s);break;case 22:Re=(o=Re)||s.memoizedState!==null,Bi(e,n,s),Re=o;break;default:Bi(e,n,s)}}function Wp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(s){$t(n,n.return,s)}}}function ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(s){$t(n,n.return,s)}}function hT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Xp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Xp),n;default:throw Error(a(435,e.tag))}}function Hu(e,n){var s=hT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=ET.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ns(E.type)){oe=E.stateNode,rn=!1;break t}break;case 5:oe=E.stateNode,rn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(oe===null)throw Error(a(160));Zp(f,p,h),oe=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ey(n,e),n=n.sibling}var Qn=null;function ey(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Ss(3,e,e.return),Ko(3,e),Ss(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(Re||s===null||yi(s,s.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Qn;if(an(n,e),on(e),o&512&&(Re||s===null||yi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,s),f[Ee]=e,Te(f),o=f;break t;case"link":var p=e_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;case"meta":if(p=e_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else n_(h,e.type,e.stateNode);else e.stateNode=t_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?n_(h,e.type,e.stateNode):t_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Df(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(Re||s===null||yi(s,s.return)),s!==null&&o&4&&Df(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(Re||s===null||yi(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){$t(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Df(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Vf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){$t(e,e.return,at)}}break;case 3:if(rc=null,h=Qn,Qn=ic(n.containerInfo),an(n,e),Qn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(at){$t(e,e.return,at)}Vf&&(Vf=!1,ny(e));break;case 4:o=Qn,Qn=ic(e.stateNode.containerInfo),an(n,e),on(e),Qn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Fu=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 22:h=e.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,P=ji,Q=Re;if(ji=P||h,Re=Q||x,an(n,e),Re=Q,ji=P,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||x||ji||Re||xr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){x=s=n;try{if(f=x.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=x.stateNode;var Y=x.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){$t(x,x.return,at)}}}else if(n.tag===6){if(s===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(at){$t(x,x.return,at)}}}else if(n.tag===18){if(s===null){x=n;try{var H=x.stateNode;h?Fy(H,!0):Fy(x.stateNode,!1)}catch(at){$t(x,x.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Hu(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Kp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Of(e);qu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(sn(p,""),s.flags&=-33);var E=Of(e);qu(e,E,p);break;case 3:case 4:var x=s.stateNode.containerInfo,P=Of(e);Mf(e,P,x);break;default:throw Error(a(161))}}catch(Q){$t(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$p(e,n.alternate,n),n=n.sibling}function xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),xr(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Fp(n,n.return,s),xr(n);break;case 27:il(n.stateNode);case 26:case 5:yi(n,n.return),xr(n);break;case 22:n.memoizedState===null&&xr(n);break;case 30:xr(n);break;default:xr(n)}e=e.sibling}}function Hi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,s),Ko(4,f);break;case 1:if(Hi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){$t(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Mg(x[h],E)}catch(P){$t(o,o.return,P)}}s&&p&64&&Gp(f),Yo(f,f.return);break;case 27:Yp(f);case 26:case 5:Hi(h,f,s),s&&o===null&&p&4&&Qp(f),Yo(f,f.return);break;case 12:Hi(h,f,s);break;case 31:Hi(h,f,s),s&&p&4&&Wp(h,f);break;case 13:Hi(h,f,s),s&&p&4&&ty(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,s),Yo(f,f.return);break;case 30:break;default:Hi(h,f,s)}n=n.sibling}}function zf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Vo(s))}function kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e))}function Kn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)iy(e,n,s,o),n=n.sibling}function iy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,s,o),h&2048&&Ko(9,n);break;case 1:Kn(e,n,s,o);break;case 3:Kn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e)));break;case 12:if(h&2048){Kn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){$t(n,n.return,x)}}else Kn(e,n,s,o);break;case 31:Kn(e,n,s,o);break;case 13:Kn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,s,o):Xo(e,n):f._visibility&2?Kn(e,n,s,o):(f._visibility|=2,ba(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&zf(p,n);break;case 24:Kn(e,n,s,o),h&2048&&kf(n.alternate,n);break;default:Kn(e,n,s,o)}}function ba(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,x=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:ba(f,p,E,x,h),Ko(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?ba(f,p,E,x,h):Xo(f,p):(Q._visibility|=2,ba(f,p,E,x,h)),h&&P&2048&&zf(p.alternate,p);break;case 24:ba(f,p,E,x,h),h&&P&2048&&kf(p.alternate,p);break;default:ba(f,p,E,x,h)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Xo(s,o),h&2048&&zf(o.alternate,o);break;case 24:Xo(s,o),h&2048&&kf(o.alternate,o);break;default:Xo(s,o)}n=n.sibling}}var $o=8192;function Sa(e,n,s){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)sy(e,n,s),e=e.sibling}function sy(e,n,s){switch(e.tag){case 26:Sa(e,n,s),e.flags&$o&&e.memoizedState!==null&&JT(s,Qn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,s);break;case 3:case 4:var o=Qn;Qn=ic(e.stateNode.containerInfo),Sa(e,n,s),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=$o,$o=16777216,Sa(e,n,s),$o=o):Sa(e,n,s));break;default:Sa(e,n,s)}}function ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,oy(o,e)}ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ay(e),e=e.sibling}function ay(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Gu(e)):Jo(e);break;default:Jo(e)}}function Gu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,oy(o,e)}ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),Gu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Gu(n));break;default:Gu(n)}e=e.sibling}}function oy(e,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:Ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Vo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ke=o;else t:for(s=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(Jp(o),o===s){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var fT={getCacheForType:function(e){var n=qe(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Se).controller.signal}},dT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,xt=null,Dt=0,Xt=0,yn=null,As=!1,Aa=!1,Uf=!1,Gi=0,fe=0,ws=0,Nr=0,Lf=0,_n=0,wa=0,Zo=null,ln=null,Pf=!1,Fu=0,ly=0,Qu=1/0,Ku=null,Rs=null,De=0,Cs=null,Ra=null,Fi=0,jf=0,Bf=null,uy=null,Wo=0,qf=null;function vn(){return(Gt&2)!==0&&Dt!==0?Dt&-Dt:F.T!==null?Yf():Yl()}function cy(){if(_n===0)if((Dt&536870912)===0||kt){var e=ir;ir<<=1,(ir&3932160)===0&&(ir=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function un(e,n,s){(e===ee&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),Is(e,Dt,_n,!1)),sr(e,s),((Gt&2)===0||e!==ee)&&(e===ee&&((Gt&2)===0&&(Nr|=s),fe===4&&Is(e,Dt,_n,!1)),_i(e))}function hy(e,n,s){if((Gt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Un(e,n),h=o?pT(e,n):Gf(e,n,!0),f=o;do{if(h===0){Aa&&!o&&Is(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!mT(s)){h=Gf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=Zo;var x=E.current.memoizedState.isDehydrated;if(x&&(Ca(E,p).flags|=256),p=Gf(E,p,!1),p!==2){if(Uf&&!x){E.errorRecoveryDisabledLanes|=f,Nr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ca(e,0),Is(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Is(o,n,_n,!As);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Fu+300-We(),10<h)){if(Is(o,n,_n,!As),ti(o,0,!0)!==0)break t;Fi=n,o.timeoutHandle=qy(fy.bind(null,o,s,ln,Ku,Pf,n,_n,Nr,wa,As,f,"Throttled",-0,0),h);break t}fy(o,s,ln,Ku,Pf,n,_n,Nr,wa,As,f,null,-0,0)}}break}while(!0);_i(e)}function fy(e,n,s,o,h,f,p,E,x,P,Q,Y,j,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},sy(n,f,Y);var at=(f&62914560)===f?Fu-We():(f&4194048)===f?ly-We():0;if(at=ZT(Y,at),at!==null){Fi=f,e.cancelPendingCommit=at(Ey.bind(null,e,n,f,s,o,h,p,E,x,Q,Y,null,j,H)),Is(e,f,p,!P);return}}Ey(e,n,f,s,o,h,p,E,x)}function mT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Is(e,n,s,o){n&=~Lf,n&=~Nr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&rr(e,s,n)}function Yu(){return(Gt&6)===0?(tl(0),!1):!0}function Hf(){if(xt!==null){if(Xt===0)var e=xt.return;else e=xt,Vi=Tr=null,rf(e),ya=null,ko=0,e=xt;for(;e!==null;)Hp(e.alternate,e),e=e.return;xt=null}}function Ca(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,VT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Fi=0,Hf(),ee=e,xt=s=Oi(e.current,null),Dt=n,Xt=0,yn=null,As=!1,Aa=Un(e,n),Uf=!1,wa=_n=Lf=Nr=ws=fe=0,ln=Zo=null,Pf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,gu(),s}function dy(e,n){wt=null,F.H=Go,n===pa||n===Su?(n=xg(),Xt=3):n===Qh?(n=xg(),Xt=4):Xt=n===Tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,xt===null&&(fe=1,Uu(e,Rn(n,e.current)))}function my(){var e=gn.current;return e===null?!0:(Dt&4194048)===Dt?Nn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Nn:!1}function gy(){var e=F.H;return F.H=Go,e===null?Go:e}function py(){var e=F.A;return F.A=fT,e}function Xu(){fe=4,As||(Dt&4194048)!==Dt&&gn.current!==null||(Aa=!0),(ws&134217727)===0&&(Nr&134217727)===0||ee===null||Is(ee,Dt,_n,!1)}function Gf(e,n,s){var o=Gt;Gt|=2;var h=gy(),f=py();(ee!==e||Dt!==n)&&(Ku=null,Ca(e,n)),n=!1;var p=fe;t:do try{if(Xt!==0&&xt!==null){var E=xt,x=yn;switch(Xt){case 8:Hf(),p=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var P=Xt;if(Xt=0,yn=null,Ia(e,E,x,P),s&&Aa){p=0;break t}break;default:P=Xt,Xt=0,yn=null,Ia(e,E,x,P)}}gT(),p=fe;break}catch(Q){dy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Vi=Tr=null,Gt=o,F.H=h,F.A=f,xt===null&&(ee=null,Dt=0,gu()),p}function gT(){for(;xt!==null;)yy(xt)}function pT(e,n){var s=Gt;Gt|=2;var o=gy(),h=py();ee!==e||Dt!==n?(Ku=null,Qu=We()+500,Ca(e,n)):Aa=Un(e,n);t:do try{if(Xt!==0&&xt!==null){n=xt;var f=yn;e:switch(Xt){case 1:Xt=0,yn=null,Ia(e,n,f,1);break;case 2:case 9:if(Cg(f)){Xt=0,yn=null,_y(n);break}n=function(){Xt!==2&&Xt!==9||ee!==e||(Xt=7),_i(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Cg(f)?(Xt=0,yn=null,_y(n)):(Xt=0,yn=null,Ia(e,n,f,7));break;case 5:var p=null;switch(xt.tag){case 26:p=xt.memoizedState;case 5:case 27:var E=xt;if(p?i_(p):E.stateNode.complete){Xt=0,yn=null;var x=E.sibling;if(x!==null)xt=x;else{var P=E.return;P!==null?(xt=P,$u(P)):xt=null}break e}}Xt=0,yn=null,Ia(e,n,f,5);break;case 6:Xt=0,yn=null,Ia(e,n,f,6);break;case 8:Hf(),fe=6;break t;default:throw Error(a(462))}}yT();break}catch(Q){dy(e,Q)}while(!0);return Vi=Tr=null,F.H=o,F.A=h,Gt=s,xt!==null?0:(ee=null,Dt=0,gu(),fe)}function yT(){for(;xt!==null&&!vh();)yy(xt)}function yy(e){var n=Bp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?$u(e):xt=n}function _y(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=zp(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=zp(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:rf(n);default:Hp(s,n),n=xt=pg(n,Gi),n=Bp(s,n,Gi)}e.memoizedProps=e.pendingProps,n===null?$u(e):xt=n}function Ia(e,n,s,o){Vi=Tr=null,rf(n),ya=null,ko=0;var h=n.return;try{if(rT(e,h,n,s,Dt)){fe=1,Uu(e,Rn(s,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;fe=1,Uu(e,Rn(s,e.current)),xt=null;return}n.flags&32768?(kt||o===1?e=!0:Aa||(Dt&536870912)!==0?e=!1:(As=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),vy(n,e)):$u(n)}function $u(e){var n=e;do{if((n.flags&32768)!==0){vy(n,As);return}e=n.return;var s=lT(n.alternate,n,Gi);if(s!==null){xt=s;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);fe===0&&(fe=5)}function vy(e,n){do{var s=uT(e.alternate,e);if(s!==null){s.flags&=32767,xt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=s}while(e!==null);fe=6,xt=null}function Ey(e,n,s,o,h,f,p,E,x){e.cancelPendingCommit=null;do Ju();while(De!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Dh,bh(e,s,f,p,E,x),e===ee&&(xt=ee=null,Dt=0),Ra=n,Cs=e,Fi=s,jf=f,Bf=h,uy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,TT(ss,function(){return wy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,p=Gt,Gt|=4;try{cT(e,n,s)}finally{Gt=p,nt.p=h,F.T=o}}De=1,Ty(),by(),Sy()}}function Ty(){if(De===1){De=0;var e=Cs,n=Ra,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Gt;Gt|=4;try{ey(n,e);var f=nd,p=og(e.containerInfo),E=f.focusedElem,x=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&ag(E.ownerDocument.documentElement,E)){if(x!==null&&Rh(E)){var P=x.start,Q=x.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var H=j.getSelection(),at=E.textContent.length,pt=Math.min(x.start,at),te=x.end===void 0?pt:Math.min(x.end,at);!H.extend&&pt>te&&(p=te,te=pt,pt=p);var z=rg(E,pt),D=rg(E,te);if(z&&D&&(H.rangeCount!==1||H.anchorNode!==z.node||H.anchorOffset!==z.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var L=Y.createRange();L.setStart(z.node,z.offset),H.removeAllRanges(),pt>te?(H.addRange(L),H.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),H.addRange(L))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}uc=!!ed,nd=ed=null}finally{Gt=h,nt.p=o,F.T=s}}e.current=n,De=2}}function by(){if(De===2){De=0;var e=Cs,n=Ra,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Gt;Gt|=4;try{$p(e,n.alternate,n)}finally{Gt=h,nt.p=o,F.T=s}}De=3}}function Sy(){if(De===4||De===3){De=0,Bl();var e=Cs,n=Ra,s=Fi,o=uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Ra=Cs=null,Ay(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rs=null),Ii(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{F.T=n,nt.p=h}}(Fi&3)!==0&&Ju(),_i(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===qf?Wo++:(Wo=0,qf=e):Wo=0,tl(0)}}function Ay(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Vo(n)))}function Ju(){return Ty(),by(),Sy(),wy()}function wy(){if(De!==5)return!1;var e=Cs,n=jf;jf=0;var s=Ii(Fi),o=F.T,h=nt.p;try{nt.p=32>s?32:s,F.T=null,s=Bf,Bf=null;var f=Cs,p=Fi;if(De=0,Ra=Cs=null,Fi=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,ay(f.current),iy(f,f.current,p,s),Gt=E,tl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{nt.p=h,F.T=o,Ay(e,n)}}function Ry(e,n,s){n=Rn(s,n),n=Ef(e.stateNode,n,2),e=Es(e,n,2),e!==null&&(sr(e,2),_i(e))}function $t(e,n,s){if(e.tag===3)Ry(e,e,s);else for(;n!==null;){if(n.tag===3){Ry(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){e=Rn(s,e),s=Cp(2),o=Es(n,s,2),o!==null&&(Ip(s,o,n,e),sr(o,2),_i(o));break}}n=n.return}}function Ff(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new dT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Uf=!0,h.add(s),e=_T.bind(null,e,n,s),n.then(e,e))}function _T(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ee===e&&(Dt&s)===s&&(fe===4||fe===3&&(Dt&62914560)===Dt&&300>We()-Fu?(Gt&2)===0&&Ca(e,0):Lf|=s,wa===Dt&&(wa=0)),_i(e)}function Cy(e,n){n===0&&(n=Kl()),e=_r(e,n),e!==null&&(sr(e,n),_i(e))}function vT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Cy(e,s)}function ET(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Cy(e,s)}function TT(e,n){return Ne(e,n)}var Zu=null,xa=null,Qf=!1,Wu=!1,Kf=!1,xs=0;function _i(e){e!==xa&&e.next===null&&(xa===null?Zu=xa=e:xa=xa.next=e),Wu=!0,Qf||(Qf=!0,ST())}function tl(e,n){if(!Kf&&Wu){Kf=!0;do for(var s=!1,o=Zu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Dy(o,f))}else f=Dt,f=ti(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Un(o,f)||(s=!0,Dy(o,f));o=o.next}while(s);Kf=!1}}function bT(){Iy()}function Iy(){Wu=Qf=!1;var e=0;xs!==0&&MT()&&(e=xs);for(var n=We(),s=null,o=Zu;o!==null;){var h=o.next,f=xy(o,n);f===0?(o.next=null,s===null?Zu=h:s.next=h,h===null&&(xa=s)):(s=o,(e!==0||(f&3)!==0)&&(Wu=!0)),o=h}De!==0&&De!==5||tl(e),xs!==0&&(xs=0)}function xy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-de(f),E=1<<p,x=h[p];x===-1?((E&s)===0||(E&o)!==0)&&(h[p]=Th(E,n)):x<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,s=Dt,s=ti(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&is(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Un(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&is(o),Ii(s)){case 2:case 8:s=uo;break;case 32:s=ss;break;case 268435456:s=ql;break;default:s=ss}return o=Ny.bind(null,e),s=Ne(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&is(o),e.callbackPriority=2,e.callbackNode=null,2}function Ny(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ju()&&e.callbackNode!==s)return null;var o=Dt;return o=ti(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(hy(e,o,n),xy(e,We()),e.callbackNode!=null&&e.callbackNode===s?Ny.bind(null,e):null)}function Dy(e,n){if(Ju())return null;hy(e,n,!0)}function ST(){zT(function(){(Gt&6)!==0?Ne(lo,bT):Iy()})}function Yf(){if(xs===0){var e=ma;e===0&&(e=Zn,Zn<<=1,(Zn&261888)===0&&(Zn=256)),xs=e}return xs}function Oy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wr(""+e)}function My(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function AT(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Oy((h[Ve]||null).action),p=o.submitter;p&&(n=(n=p[Ve]||null)?Oy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new hi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xs!==0){var x=p?My(h,p):new FormData(h);mf(s,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=p?My(h,p):new FormData(h),mf(s,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var Xf=0;Xf<Nh.length;Xf++){var $f=Nh[Xf],wT=$f.toLowerCase(),RT=$f[0].toUpperCase()+$f.slice(1);Fn(wT,"on"+RT)}Fn(cg,"onAnimationEnd"),Fn(hg,"onAnimationIteration"),Fn(fg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(qE,"onTransitionRun"),Fn(HE,"onTransitionStart"),Fn(GE,"onTransitionCancel"),Fn(dg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function Vy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],x=E.instance,P=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(Q){mu(Q)}h.currentTarget=null,f=x}else for(p=0;p<o.length;p++){if(E=o[p],x=E.instance,P=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(Q){mu(Q)}h.currentTarget=null,f=x}}}}function Nt(e,n){var s=n[Yr];s===void 0&&(s=n[Yr]=new Set);var o=e+"__bubble";s.has(o)||(zy(n,e,2,!1),s.add(o))}function Jf(e,n,s){var o=0;n&&(o|=4),zy(s,e,o,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[tc]){e[tc]=!0,fo.forEach(function(s){s!=="selectionchange"&&(CT.has(s)||Jf(s,!1,e),Jf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tc]||(n[tc]=!0,Jf("selectionchange",!1,n))}}function zy(e,n,s,o){switch(c_(n)){case 2:var h=eb;break;case 8:h=nb;break;default:h=dd}s=h.bind(null,n,s,e),h=void 0,!cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Wf(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var x=p.tag;if((x===3||x===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=si(E),p===null)return;if(x=p.tag,x===5||x===6||x===26||x===27){o=f=p;continue t}E=E.parentNode}}o=o.return}cs(function(){var P=f,Q=bn(s),Y=[];t:{var j=mg.get(e);if(j!==void 0){var H=hi,at=e;switch(e){case"keypress":if(fr(s)===0)break t;case"keydown":case"keyup":H=hu;break;case"focusin":at="focus",H=mr;break;case"focusout":at="blur",H=mr;break;case"beforeblur":case"afterblur":H=mr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case cg:case hg:case fg:H=su;break;case dg:H=T;break;case"scroll":case"scrollend":H=wo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Di;break;case"toggle":case"beforetoggle":H=At}var pt=(n&4)!==0,te=!pt&&(e==="scroll"||e==="scrollend"),z=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=P,L;D!==null;){var K=D;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||z===null||(K=Bn(D,z),K!=null&&pt.push(nl(D,K,L))),te)break;D=D.return}0<pt.length&&(j=new H(j,at,null,s,Q),Y.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==bo&&(at=s.relatedTarget||s.fromElement)&&(si(at)||at[ni]))break t;if((H||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(at=s.relatedTarget||s.toElement,H=P,at=at?si(at):null,at!==null&&(te=c(at),pt=at.tag,at!==te||pt!==5&&pt!==27&&pt!==6)&&(at=null)):(H=null,at=P),H!==at)){if(pt=Ro,K="onMouseLeave",z="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Di,K="onPointerLeave",z="onPointerEnter",D="pointer"),te=H==null?j:hn(H),L=at==null?j:hn(at),j=new pt(K,D+"leave",H,s,Q),j.target=te,j.relatedTarget=L,K=null,si(Q)===P&&(pt=new pt(z,D+"enter",at,s,Q),pt.target=L,pt.relatedTarget=te,K=pt),te=K,H&&at)e:{for(pt=IT,z=H,D=at,L=0,K=z;K;K=pt(K))L++;K=0;for(var ht=D;ht;ht=pt(ht))K++;for(;0<L-K;)z=pt(z),L--;for(;0<K-L;)D=pt(D),K--;for(;L--;){if(z===D||D!==null&&z===D.alternate){pt=z;break e}z=pt(z),D=pt(D)}pt=null}else pt=null;H!==null&&ky(Y,j,H,pt,!1),at!==null&&te!==null&&ky(Y,te,at,pt,!0)}}t:{if(j=P?hn(P):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Bt=Wm;else if(Jm(j))if(tg)Bt=PE;else{Bt=UE;var lt=kE}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&Zr(P.elementType)&&(Bt=Wm):Bt=LE;if(Bt&&(Bt=Bt(e,P))){Zm(Y,Bt,s,Q);break t}lt&&lt(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&vo(j,"number",j.value)}switch(lt=P?hn(P):window,e){case"focusin":(Jm(lt)||lt.contentEditable==="true")&&(aa=lt,Ch=P,Do=null);break;case"focusout":Do=Ch=aa=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,lg(Y,s,Q);break;case"selectionchange":if(BE)break;case"keydown":case"keyup":lg(Y,s,Q)}var Ct;if(Ht)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ra?gr(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(mi&&s.locale!=="ko"&&(ra||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ra&&(Ct=Ao()):(ci=Q,So="value"in ci?ci.value:ci.textContent,ra=!0)),lt=ec(P,Ot),0<lt.length&&(Ot=new di(Ot,e,null,s,Q),Y.push({event:Ot,listeners:lt}),Ct?Ot.data=Ct:(Ct=sa(s),Ct!==null&&(Ot.data=Ct)))),(Ct=An?OE(e,s):ME(e,s))&&(Ot=ec(P,"onBeforeInput"),0<Ot.length&&(lt=new di("onBeforeInput","beforeinput",null,s,Q),Y.push({event:lt,listeners:Ot}),lt.data=Ct)),AT(Y,e,P,s,Q)}Vy(Y,n)})}function nl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ec(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,s),h!=null&&o.unshift(nl(e,h,f)),h=Bn(e,n),h!=null&&o.push(nl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function IT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ky(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,x=E.alternate,P=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||P===null||(x=P,h?(P=Bn(s,f),P!=null&&p.unshift(nl(s,P,x))):h||(P=Bn(s,f),P!=null&&p.push(nl(s,P,x)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var xT=/\r\n?/g,NT=/\u0000|\uFFFD/g;function Uy(e){return(typeof e=="string"?e:""+e).replace(xT,`
`).replace(NT,"")}function Ly(e,n){return n=Uy(n),Uy(e)===n}function Wt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,s,o);break;case"style":To(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Wr(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Wr(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=jn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Wr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),$r(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$r(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=eu.get(s)||s,$r(e,s,o))}}function td(e,n,s,o,h,f){switch(s){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):$r(e,s,o)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,p,s,null)}}h&&Wt(e,n,"srcSet",s.srcSet,s,null),o&&Wt(e,n,"src",s.src,s,null);return;case"input":Nt("invalid",e);var E=f=p=h=null,x=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":p=Q;break;case"checked":x=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Wt(e,n,o,Q,s,null)}}Zl(e,f,E,x,P,p,h,!1);return;case"select":Nt("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Wt(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?as(e,!!o,n,!1):s!=null&&as(e,!!o,s,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Wt(e,n,p,E,s,null)}os(e,o,h,f);return;case"option":for(x in s)if(s.hasOwnProperty(x)&&(o=s[x],o!=null))switch(x){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Wt(e,n,x,o,s,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)Nt(el[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,P,o,s,null)}return;default:if(Zr(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&td(e,n,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Wt(e,n,E,o,s,null))}function DT(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,x=null,P=null,Q=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=Y;default:o.hasOwnProperty(H)||Wt(e,n,H,null,o,Y)}}for(var j in o){var H=o[j];if(Y=s[j],o.hasOwnProperty(j)&&(H!=null||Y!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":Q=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&Wt(e,n,j,H,o,Y)}}Jr(e,p,E,x,P,Q,f,h);return;case"select":H=p=E=j=null;for(f in s)if(x=s[f],s.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":H=x;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,x)}for(h in o)if(f=o[h],x=s[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==x&&Wt(e,n,h,f,o,x)}n=E,s=p,o=H,j!=null?as(e,!!s,j,!1):!!o!=!!s&&(n!=null?as(e,!!s,n,!0):as(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,p,h,o,f)}Wl(e,j,H);return;case"option":for(var at in s)if(j=s[at],s.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Wt(e,n,at,null,o,j)}for(x in o)if(j=o[x],H=s[x],o.hasOwnProperty(x)&&j!==H&&(j!=null||H!=null))switch(x){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Wt(e,n,x,j,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)j=s[pt],s.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&Wt(e,n,pt,null,o,j);for(P in o)if(j=o[P],H=s[P],o.hasOwnProperty(P)&&j!==H&&(j!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Wt(e,n,P,j,o,H)}return;default:if(Zr(n)){for(var te in s)j=s[te],s.hasOwnProperty(te)&&j!==void 0&&!o.hasOwnProperty(te)&&td(e,n,te,void 0,o,j);for(Q in o)j=o[Q],H=s[Q],!o.hasOwnProperty(Q)||j===H||j===void 0&&H===void 0||td(e,n,Q,j,o,H);return}}for(var z in s)j=s[z],s.hasOwnProperty(z)&&j!=null&&!o.hasOwnProperty(z)&&Wt(e,n,z,null,o,j);for(Y in o)j=o[Y],H=s[Y],!o.hasOwnProperty(Y)||j===H||j==null&&H==null||Wt(e,n,Y,j,o,H)}function Py(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Py(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var x=s[o],P=x.startTime;if(P>E)break;var Q=x.transferSize,Y=x.initiatorType;Q&&Py(Y)&&(x=x.responseEnd,p+=Q*(x<E?1:(E-P)/(x-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ed=null,nd=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function By(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function id(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sd=null;function MT(){var e=window.event;return e&&e.type==="popstate"?e===sd?!1:(sd=e,!0):(sd=null,!1)}var qy=typeof setTimeout=="function"?setTimeout:void 0,VT=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,zT=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy<"u"?function(e){return Hy.resolve(null).then(e).catch(kT)}:qy;function kT(e){setTimeout(function(){throw e})}function Ns(e){return e==="head"}function Gy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ma(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")il(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,il(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&il(e.ownerDocument.body);s=h}while(s);Ma(n)}function Fy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function rd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":rd(s),Xr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function UT(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function LT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Dn(e.nextSibling),e===null))return null;return e}function Qy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$?"||e.data==="$~"}function od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function PT(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Dn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ld=null;function Ky(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Dn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Yy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Xy(e,n,s){switch(n=nc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xr(e)}var On=new Map,$y=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=nt.d;nt.d={f:jT,r:BT,D:qT,C:HT,L:GT,m:FT,X:KT,S:QT,M:YT};function jT(){var e=Qi.f(),n=Yu();return e||n}function BT(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?dp(n):Qi.r(e)}var Na=typeof document>"u"?null:document;function Jy(e,n,s){var o=Na;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),$y.has(h)||($y.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function qT(e){Qi.D(e),Jy("dns-prefetch",e,null)}function HT(e,n){Qi.C(e,n),Jy("preconnect",e,n)}function GT(e,n,s){Qi.L(e,n,s);var o=Na;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Da(e);break;case"script":f=Oa(e)}On.has(f)||(e=R({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),On.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(rl(f))||(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function FT(e,n){Qi.m(e,n);var s=Na;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!On.has(f)&&(e=R({rel:"modulepreload",href:e},n),On.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(rl(f)))return}o=s.createElement("link"),Ge(o,"link",e),Te(o),s.head.appendChild(o)}}}function QT(e,n,s){Qi.S(e,n,s);var o=Na;if(o&&e){var h=ri(o).hoistableStyles,f=Da(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(sl(f)))E.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},s),(s=On.get(f))&&ud(e,s);var x=p=o.createElement("link");Te(x),Ge(x,"link",e),x._p=new Promise(function(P,Q){x.onload=P,x.onerror=Q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function KT(e,n){Qi.X(e,n);var s=Na;if(s&&e){var o=ri(s).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=s.querySelector(rl(h)),f||(e=R({src:e,async:!0},n),(n=On.get(h))&&cd(e,n),f=s.createElement("script"),Te(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function YT(e,n){Qi.M(e,n);var s=Na;if(s&&e){var o=ri(s).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=s.querySelector(rl(h)),f||(e=R({src:e,async:!0,type:"module"},n),(n=On.get(h))&&cd(e,n),f=s.createElement("script"),Te(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Zy(e,n,s,o){var h=(h=Rt.current)?ic(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Da(s.href),s=ri(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Da(s.href);var f=ri(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(sl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),On.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},On.set(e,s),f||XT(h,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oa(s),s=ri(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Da(e){return'href="'+nn(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function Wy(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function XT(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",s),Te(n),e.head.appendChild(n))}function Oa(e){return'[src="'+nn(e)+'"]'}function rl(e){return"script[async]"+e}function t_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=R({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Ge(o,"style",h),sc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Da(s.href);var f=e.querySelector(sl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=Wy(s),(h=On.get(h))&&ud(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var p=f;return p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),Ge(f,"link",o),n.state.loading|=4,sc(f,s.precedence,e),n.instance=f;case"script":return f=Oa(s.src),(h=e.querySelector(rl(f)))?(n.instance=h,Te(h),h):(o=s,(h=On.get(f))&&(o=R({},s),cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,sc(o,s.precedence,e));return n.instance}function sc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var rc=null;function e_(e,n,s){if(rc===null){var o=new Map,h=rc=new Map;h.set(s,o)}else h=rc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ii]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function n_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function $T(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function i_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function JT(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Da(o.href),f=n.querySelector(sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ac.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Te(f);return}f=n.ownerDocument||n,o=Wy(o),(h=On.get(h))&&ud(o,h),f=f.createElement("link"),Te(f);var p=f;p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),Ge(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ac.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var hd=0;function ZT(e,n){return e.stylesheets&&e.count===0&&lc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&hd===0&&(hd=62500*OT());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>hd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function lc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,n.forEach(WT,e),oc=null,ac.call(e))}function WT(e,n){if(!(n.state.loading&4)){var s=oc.get(e);if(s)var o=s.get(null);else{s=new Map,oc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var al={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function tb(e,n,s,o,h,f,p,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function s_(e,n,s,o,h,f,p,E,x,P,Q,Y){return e=new tb(e,n,s,p,x,P,Q,Y,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=Hh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Kh(f),e}function r_(e){return e?(e=ua,e):ua}function a_(e,n,s,o,h,f){h=r_(h),o.context===null?o.context=h:o.pendingContext=h,o=vs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Es(e,o,n),s!==null&&(un(s,e,n),Lo(s,e,n))}function o_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function fd(e,n){o_(e,n),(e=e.alternate)&&o_(e,n)}function l_(e){if(e.tag===13||e.tag===31){var n=_r(e,67108864);n!==null&&un(n,e,67108864),fd(e,67108864)}}function u_(e){if(e.tag===13||e.tag===31){var n=vn();n=ar(n);var s=_r(e,n);s!==null&&un(s,e,n),fd(e,n)}}var uc=!0;function eb(e,n,s,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,dd(e,n,s,o)}finally{nt.p=f,F.T=h}}function nb(e,n,s,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,dd(e,n,s,o)}finally{nt.p=f,F.T=h}}function dd(e,n,s,o){if(uc){var h=md(o);if(h===null)Wf(e,n,o,cc,s),h_(e,o);else if(sb(h,e,n,s,o))o.stopPropagation();else if(h_(e,o),n&4&&-1<ib.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Wn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var x=1<<31-de(p);E.entanglements[1]|=x,p&=~x}_i(f),(Gt&6)===0&&(Qu=We()+500,tl(0))}}break;case 31:case 13:E=_r(f,2),E!==null&&un(E,f,2),Yu(),fd(f,2)}if(f=md(o),f===null&&Wf(e,n,o,cc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Wf(e,n,o,null,s)}}function md(e){return e=bn(e),gd(e)}var cc=null;function gd(e){if(cc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cc=e,null}function c_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nr()){case lo:return 2;case uo:return 8;case ss:case Eh:return 32;case ql:return 268435456;default:return 32}default:return 32}}var pd=!1,Ds=null,Os=null,Ms=null,ol=new Map,ll=new Map,Vs=[],ib="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(e,n){switch(e){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ul(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&l_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function sb(e,n,s,o,h){switch(n){case"focusin":return Ds=ul(Ds,e,n,s,o,h),!0;case"dragenter":return Os=ul(Os,e,n,s,o,h),!0;case"mouseover":return Ms=ul(Ms,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ol.set(f,ul(ol.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ll.set(f,ul(ll.get(f)||null,e,n,s,o,h)),!0}return!1}function f_(e){var n=si(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Ln(e.priority,function(){u_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Ln(e.priority,function(){u_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=md(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);bo=o,s.target.dispatchEvent(o),bo=null}else return n=Tn(s),n!==null&&l_(n),e.blockedOn=s,!1;n.shift()}return!0}function d_(e,n,s){hc(e)&&s.delete(n)}function rb(){pd=!1,Ds!==null&&hc(Ds)&&(Ds=null),Os!==null&&hc(Os)&&(Os=null),Ms!==null&&hc(Ms)&&(Ms=null),ol.forEach(d_),ll.forEach(d_)}function fc(e,n){e.blockedOn===n&&(e.blockedOn=null,pd||(pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rb)))}var dc=null;function m_(e){dc!==e&&(dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(gd(o||s)===null)continue;break}var f=Tn(s);f!==null&&(e.splice(n,3),n-=3,mf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ma(e){function n(x){return fc(x,e)}Ds!==null&&fc(Ds,e),Os!==null&&fc(Os,e),Ms!==null&&fc(Ms,e),ol.forEach(n),ll.forEach(n);for(var s=0;s<Vs.length;s++){var o=Vs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vs.length&&(s=Vs[0],s.blockedOn===null);)f_(s),s.blockedOn===null&&Vs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[Ve]||null;if(typeof f=="function")p||m_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ve]||null)E=p.formAction;else if(gd(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),m_(s)}}}function g_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function yd(e){this._internalRoot=e}mc.prototype.render=yd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=vn();a_(s,o,e,n,null,null)},mc.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;a_(e.current,2,null,e,null,null),Yu(),n[ni]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Vs.length&&n!==0&&n<Vs[s].priority;s++);Vs.splice(s,0,e),s===0&&f_(e)}};var p_=t.version;if(p_!=="19.2.1")throw Error(a(527,p_,"19.2.1"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var ab={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{kn=gc.inject(ab),Pe=gc}catch{}}return hl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Sp,f=Ap,p=wp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=s_(e,1,!1,null,null,s,o,null,h,f,p,g_),e[ni]=n.current,Zf(e),new yd(n)},hl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Sp,p=Ap,E=wp,x=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),n=s_(e,1,!0,n,s??null,o,h,x,f,p,E,g_),n.context=r_(null),s=n.current,o=vn(),o=ar(o),h=vs(o),h.callback=null,Es(s,h,o),s=o,n.current.lanes=s,sr(n,s),_i(n),e[ni]=n.current,Zf(e),new mc(n)},hl.version="19.2.1",hl}var R_;function yb(){if(R_)return Ed.exports;R_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ed.exports=pb(),Ed.exports}var _b=yb();const vb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Eb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),C_=r=>{const t=Eb(r);return t.charAt(0).toUpperCase()+t.slice(1)},iv=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),Tb=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var bb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Sb=It.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>It.createElement("svg",{ref:_,...bb,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:iv("lucide",l),...!c&&!Tb(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>It.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Pt=(r,t)=>{const i=It.forwardRef(({className:a,...l},c)=>It.createElement(Sb,{ref:c,iconNode:t,className:iv(`lucide-${vb(C_(r))}`,`lucide-${r}`,a),...l}));return i.displayName=C_(r),i};const Ab=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],wb=Pt("baby",Ab);const Rb=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Cb=Pt("banknote",Rb);const Ib=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],um=Pt("brain",Ib);const xb=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],Nb=Pt("calendar-range",xb);const Db=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sv=Pt("calendar",Db);const Ob=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Mb=Pt("circle-alert",Ob);const Vb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zb=Pt("circle-check-big",Vb);const kb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ub=Pt("clock",kb);const Lb=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],rv=Pt("cloud",Lb);const Pb=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],jb=Pt("credit-card",Pb);const Bb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],qb=Pt("download",Bb);const Hb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],av=Pt("file-text",Hb);const Gb=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Fb=Pt("funnel",Gb);const Qb=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Kb=Pt("hard-drive",Qb);const Yb=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Xb=Pt("heart",Yb);const $b=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Jb=Pt("house",$b);const Zb=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Wb=Pt("key",Zb);const tS=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],I_=Pt("layout-grid",tS);const eS=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],x_=Pt("list",eS);const nS=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],iS=Pt("message-circle",nS);const sS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ov=Pt("pencil",sS);const rS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],lv=Pt("plus",rS);const aS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],oS=Pt("save",aS);const lS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uS=Pt("search",lS);const cS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hS=Pt("settings",cS);const fS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],dS=Pt("smile",fS);const mS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gS=Pt("sparkles",mS);const pS=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],yS=Pt("tag",pS);const _S=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cm=Pt("trash-2",_S);const vS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ES=Pt("upload",vS);const TS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Oc=Pt("user",TS);const bS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uv=Pt("users",bS);const SS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kd=Pt("x",SS);const AS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wS=Pt("zap",AS),RS=()=>{};var N_={};const cv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},CS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,b=c>>2,R=(c&3)<<4|g>>4;let V=(g&15)<<2|y>>6,q=y&63;_||(q=64,d||(V=64)),a.push(i[b],i[R],i[V],i[q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(cv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):CS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const R=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||R==null)throw new IS;const V=c<<2|g>>4;if(a.push(V),y!==64){const q=g<<4&240|y>>2;if(a.push(q),R!==64){const G=y<<6&192|R;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class IS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xS=function(r){const t=cv(r);return hv.encodeByteArray(t,!0)},Mc=function(r){return xS(r).replace(/\./g,"")},fv=function(r){try{return hv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function NS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const DS=()=>NS().__FIREBASE_DEFAULTS__,OS=()=>{if(typeof process>"u"||typeof N_>"u")return;const r=N_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},MS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&fv(r[1]);return t&&JSON.parse(t)},eh=()=>{try{return RS()||DS()||OS()||MS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},dv=r=>eh()?.emulatorHosts?.[r],VS=r=>{const t=dv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},mv=()=>eh()?.config,gv=r=>eh()?.[`_${r}`];class zS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Za(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pv(r){return(await fetch(r,{credentials:"include"})).ok}function kS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Mc(JSON.stringify(i)),Mc(JSON.stringify(d)),""].join(".")}const pl={};function US(){const r={prod:[],emulator:[]};for(const t of Object.keys(pl))pl[t]?r.emulator.push(t):r.prod.push(t);return r}function LS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let D_=!1;function yv(r,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||pl[r]===t||pl[r]||D_)return;pl[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=US().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,q){V.setAttribute("width","24"),V.setAttribute("id",q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{D_=!0,d()},V}function b(V,q){V.setAttribute("id",q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function R(){const V=LS(a),q=i("text"),G=document.getElementById(q)||document.createElement("span"),tt=i("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),ut=i("preprendIcon"),_t=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const dt=V.element;g(dt),b(Z,tt);const J=y();_(_t,ut),dt.append(_t,G,Z,J),document.body.appendChild(dt)}c?(G.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function jS(){const r=eh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function HS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GS(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function FS(){return!jS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QS(){try{return typeof indexedDB=="object"}catch{return!1}}function KS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const YS="FirebaseError";class ns extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=YS,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?XS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ns(l,g,a)}}function XS(r,t){return r.replace($S,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const $S=/\{\$([^}]+)}/g;function JS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(O_(c)&&O_(d)){if(!zr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function O_(r){return r!==null&&typeof r=="object"}function Ol(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ZS(r,t){const i=new WS(r,t);return i.subscribe.bind(i)}class WS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");tA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ad),l.error===void 0&&(l.error=Ad),l.complete===void 0&&(l.complete=Ad);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ad(){}function zn(r){return r&&r._delegate?r._delegate:r}class kr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Dr="[DEFAULT]";class eA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new zS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iA(t))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Dr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Dr){return this.instances.has(t)}getOptions(t=Dr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:nA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Dr){return this.component?this.component.multipleInstances?t:Dr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nA(r){return r===Dr?void 0:r}function iA(r){return r.instantiationMode==="EAGER"}class sA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new eA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const rA={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},aA=Mt.INFO,oA={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},lA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=oA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hm{constructor(t){this.name=t,this._logLevel=aA,this._logHandler=lA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const uA=(r,t)=>t.some(i=>r instanceof i);let M_,V_;function cA(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hA(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _v=new WeakMap,Ud=new WeakMap,vv=new WeakMap,wd=new WeakMap,fm=new WeakMap;function fA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(qs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&_v.set(i,r)}).catch(()=>{}),fm.set(t,r),t}function dA(r){if(Ud.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Ud.set(r,t)}let Ld={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Ud.get(r);if(t==="objectStoreNames")return r.objectStoreNames||vv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function mA(r){Ld=r(Ld)}function gA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Rd(this),t,...i);return vv.set(a,t.sort?t.sort():[t]),qs(a)}:hA().includes(r)?function(...t){return r.apply(Rd(this),t),qs(_v.get(this))}:function(...t){return qs(r.apply(Rd(this),t))}}function pA(r){return typeof r=="function"?gA(r):(r instanceof IDBTransaction&&dA(r),uA(r,cA())?new Proxy(r,Ld):r)}function qs(r){if(r instanceof IDBRequest)return fA(r);if(wd.has(r))return wd.get(r);const t=pA(r);return t!==r&&(wd.set(r,t),fm.set(t,r)),t}const Rd=r=>fm.get(r);function yA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=qs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(qs(d.result),_.oldVersion,_.newVersion,qs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const _A=["get","getKey","getAll","getAllKeys","count"],vA=["put","add","delete","clear"],Cd=new Map;function z_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Cd.get(t))return Cd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=vA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||_A.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Cd.set(t,c),c}mA(r=>({...r,get:(t,i,a)=>z_(t,i)||r.get(t,i,a),has:(t,i)=>!!z_(t,i)||r.has(t,i)}));class EA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(TA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function TA(r){return r.getComponent()?.type==="VERSION"}const Pd="@firebase/app",k_="0.14.6";const Ji=new hm("@firebase/app"),bA="@firebase/app-compat",SA="@firebase/analytics-compat",AA="@firebase/analytics",wA="@firebase/app-check-compat",RA="@firebase/app-check",CA="@firebase/auth",IA="@firebase/auth-compat",xA="@firebase/database",NA="@firebase/data-connect",DA="@firebase/database-compat",OA="@firebase/functions",MA="@firebase/functions-compat",VA="@firebase/installations",zA="@firebase/installations-compat",kA="@firebase/messaging",UA="@firebase/messaging-compat",LA="@firebase/performance",PA="@firebase/performance-compat",jA="@firebase/remote-config",BA="@firebase/remote-config-compat",qA="@firebase/storage",HA="@firebase/storage-compat",GA="@firebase/firestore",FA="@firebase/ai",QA="@firebase/firestore-compat",KA="firebase",YA="12.6.0";const jd="[DEFAULT]",XA={[Pd]:"fire-core",[bA]:"fire-core-compat",[AA]:"fire-analytics",[SA]:"fire-analytics-compat",[RA]:"fire-app-check",[wA]:"fire-app-check-compat",[CA]:"fire-auth",[IA]:"fire-auth-compat",[xA]:"fire-rtdb",[NA]:"fire-data-connect",[DA]:"fire-rtdb-compat",[OA]:"fire-fn",[MA]:"fire-fn-compat",[VA]:"fire-iid",[zA]:"fire-iid-compat",[kA]:"fire-fcm",[UA]:"fire-fcm-compat",[LA]:"fire-perf",[PA]:"fire-perf-compat",[jA]:"fire-rc",[BA]:"fire-rc-compat",[qA]:"fire-gcs",[HA]:"fire-gcs-compat",[GA]:"fire-fst",[QA]:"fire-fst-compat",[FA]:"fire-vertex","fire-js":"fire-js",[KA]:"fire-js-all"};const Vc=new Map,$A=new Map,Bd=new Map;function U_(r,t){try{r.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Fa(r){const t=r.name;if(Bd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Bd.set(t,r);for(const i of Vc.values())U_(i,r);for(const i of $A.values())U_(i,r);return!0}function dm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Yn(r){return r==null?!1:r.settings!==void 0}const JA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Dl("app","Firebase",JA);class ZA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const Wa=YA;function Ev(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Hs.create("bad-app-name",{appName:String(l)});if(i||(i=mv()),!i)throw Hs.create("no-options");const c=Vc.get(l);if(c){if(zr(i,c.options)&&zr(a,c.config))return c;throw Hs.create("duplicate-app",{appName:l})}const d=new sA(l);for(const _ of Bd.values())d.addComponent(_);const g=new ZA(i,a,d);return Vc.set(l,g),g}function Tv(r=jd){const t=Vc.get(r);if(!t&&r===jd&&mv())return Ev();if(!t)throw Hs.create("no-app",{appName:r});return t}function Gs(r,t,i){let a=XA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Fa(new kr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const WA="firebase-heartbeat-database",t2=1,bl="firebase-heartbeat-store";let Id=null;function bv(){return Id||(Id=yA(WA,t2,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(bl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Hs.create("idb-open",{originalErrorMessage:r.message})})),Id}async function e2(r){try{const i=(await bv()).transaction(bl),a=await i.objectStore(bl).get(Sv(r));return await i.done,a}catch(t){if(t instanceof ns)Ji.warn(t.message);else{const i=Hs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function L_(r,t){try{const a=(await bv()).transaction(bl,"readwrite");await a.objectStore(bl).put(t,Sv(r)),await a.done}catch(i){if(i instanceof ns)Ji.warn(i.message);else{const a=Hs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function Sv(r){return`${r.name}!${r.options.appId}`}const n2=1024,i2=30;class s2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new a2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=P_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>i2){const l=o2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=P_(),{heartbeatsToSend:i,unsentEntries:a}=r2(this._heartbeatsCache.heartbeats),l=Mc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function P_(){return new Date().toISOString().substring(0,10)}function r2(r,t=n2){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),j_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),j_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class a2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QS()?KS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await e2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return L_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return L_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function j_(r){return Mc(JSON.stringify({version:2,heartbeats:r})).length}function o2(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function l2(r){Fa(new kr("platform-logger",t=>new EA(t),"PRIVATE")),Fa(new kr("heartbeat",t=>new s2(t),"PRIVATE")),Gs(Pd,k_,r),Gs(Pd,k_,"esm2020"),Gs("fire-js","")}l2("");var u2="firebase",c2="12.6.0";Gs(u2,c2,"app");function Av(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h2=Av,wv=new Dl("auth","Firebase",Av());const zc=new hm("@firebase/auth");function f2(r,...t){zc.logLevel<=Mt.WARN&&zc.warn(`Auth (${Wa}): ${r}`,...t)}function bc(r,...t){zc.logLevel<=Mt.ERROR&&zc.error(`Auth (${Wa}): ${r}`,...t)}function Zi(r,...t){throw mm(r,...t)}function Ei(r,...t){return mm(r,...t)}function Rv(r,t,i){const a={...h2(),[t]:i};return new Dl("auth","Firebase",a).create(t,{appName:r.name})}function Fs(r){return Rv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return wv.create(r,...t)}function vt(r,t,...i){if(!r)throw mm(t,...i)}function Yi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw bc(t),new Error(t)}function Wi(r,t){r||Yi(t)}function qd(){return typeof self<"u"&&self.location?.href||""}function d2(){return B_()==="http:"||B_()==="https:"}function B_(){return typeof self<"u"&&self.location?.protocol||null}function m2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d2()||qS()||"connection"in navigator)?navigator.onLine:!0}function g2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ml{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=PS()||HS()}get(){return m2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gm(r,t){Wi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Cv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const p2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const y2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_2=new Ml(3e4,6e4);function nh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function to(r,t,i,a,l={}){return Iv(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Ol({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return BS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Za(r.emulatorConfig.host)&&(y.credentials="include"),Cv.fetch()(await Nv(r,r.config.apiHost,i,g),y)})}async function Iv(r,t,i){r._canInitEmulator=!1;const a={...p2,...t};try{const l=new v2(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw pc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw pc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw pc(r,"user-disabled",d);const b=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Rv(r,b,y);Zi(r,b)}}catch(l){if(l instanceof ns)throw l;Zi(r,"network-request-failed",{message:String(l)})}}async function xv(r,t,i,a,l={}){const c=await to(r,t,i,a,l);return"mfaPendingCredential"in c&&Zi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Nv(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?gm(r.config,l):`${r.config.apiScheme}://${l}`;return y2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class v2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ei(this.auth,"network-request-failed")),_2.get())})}}function pc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ei(r,t,a);return l.customData._tokenResponse=i,l}async function E2(r,t){return to(r,"POST","/v1/accounts:delete",t)}async function kc(r,t){return to(r,"POST","/v1/accounts:lookup",t)}function yl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function T2(r,t=!1){const i=zn(r),a=await i.getIdToken(t),l=pm(a);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:yl(xd(l.auth_time)),issuedAtTime:yl(xd(l.iat)),expirationTime:yl(xd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function xd(r){return Number(r)*1e3}function pm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=fv(i);return l?JSON.parse(l):(bc("Failed to decode base64 JWT payload"),null)}catch(l){return bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function q_(r){const t=pm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Sl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ns&&b2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function b2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class S2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Uc(r){const t=r.auth,i=await r.getIdToken(),a=await Sl(r,kc(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Dv(l.providerUserInfo):[],d=w2(r.providerData,c),g=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=g?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function A2(r){const t=zn(r);await Uc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function w2(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Dv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function R2(r,t){const i=await Iv(r,{},async()=>{const a=Ol({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Nv(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return r.emulatorConfig&&Za(r.emulatorConfig.host)&&(_.credentials="include"),Cv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function C2(r,t){return to(r,"POST","/v2/accounts:revokeToken",nh(r,t))}class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):q_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=q_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await R2(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Pa;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function ks(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new S2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Hd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Sl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return T2(this,t)}reload(){return A2(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Uc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Fs(this.auth));const t=await this.getIdToken();return await Sl(this,E2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:R,emailVerified:V,isAnonymous:q,providerData:G,stsTokenManager:tt}=i;vt(R&&tt,t,"internal-error");const Z=Pa.fromJSON(this.name,tt);vt(typeof R=="string",t,"internal-error"),ks(a,t.name),ks(l,t.name),vt(typeof V=="boolean",t,"internal-error"),vt(typeof q=="boolean",t,"internal-error"),ks(c,t.name),ks(d,t.name),ks(g,t.name),ks(_,t.name),ks(y,t.name),ks(b,t.name);const ut=new Xn({uid:R,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:y,lastLoginAt:b});return G&&Array.isArray(G)&&(ut.providerData=G.map(_t=>({..._t}))),_&&(ut._redirectEventId=_),ut}static async _fromIdTokenResponse(t,i,a=!1){const l=new Pa;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Uc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Dv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Pa;g.updateFromIdToken(a);const _=new Xn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const H_=new Map;function Xi(r){Wi(r instanceof Function,"Expected a class definition");let t=H_.get(r);return t?(Wi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,H_.set(r,t),t)}class Ov{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Ov.type="NONE";const G_=Ov;function Sc(r,t,i){return`firebase:${r}:${t}:${i}`}class ja{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Sc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Sc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await kc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new ja(Xi(G_),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Xi(G_);const d=Sc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let R;if(typeof b=="string"){const V=await kc(t,{idToken:b}).catch(()=>{});if(!V)break;R=await Xn._fromGetAccountInfoResponse(t,V,b)}else R=Xn._fromJSON(t,b);y!==c&&(g=R),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new ja(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new ja(c,t,a))}}function F_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Lv(t))return"Blackberry";if(Pv(t))return"Webos";if(Vv(t))return"Safari";if((t.includes("chrome/")||zv(t))&&!t.includes("edge/"))return"Chrome";if(Uv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Mv(r=Ze()){return/firefox\//i.test(r)}function Vv(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zv(r=Ze()){return/crios\//i.test(r)}function kv(r=Ze()){return/iemobile/i.test(r)}function Uv(r=Ze()){return/android/i.test(r)}function Lv(r=Ze()){return/blackberry/i.test(r)}function Pv(r=Ze()){return/webos/i.test(r)}function ym(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function I2(r=Ze()){return ym(r)&&!!window.navigator?.standalone}function x2(){return GS()&&document.documentMode===10}function jv(r=Ze()){return ym(r)||Uv(r)||Pv(r)||Lv(r)||/windows phone/i.test(r)||kv(r)}function Bv(r,t=[]){let i;switch(r){case"Browser":i=F_(Ze());break;case"Worker":i=`${F_(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Wa}/${a}`}class N2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function D2(r,t={}){return to(r,"GET","/v2/passwordPolicy",nh(r,t))}const O2=6;class M2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??O2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class V2{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q_(this),this.idTokenSubscription=new Q_(this),this.beforeStateQueue=new N2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ja.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await kc(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Uc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=g2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Fs(this));const i=t?zn(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await D2(this),i=new M2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Dl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await C2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Bv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&f2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ih(r){return zn(r)}class Q_{constructor(t){this.auth=t,this.observer=null,this.addObserver=ZS(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z2(r){_m=r}function k2(r){return _m.loadJS(r)}function U2(){return _m.gapiScript}function L2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function P2(r,t){const i=dm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(zr(c,t??{}))return l;Zi(l,"already-initialized")}return i.initialize({options:t})}function j2(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function B2(r,t,i){const a=ih(r);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=qv(t),{host:d,port:g}=q2(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(zr(y,a.config.emulator)&&zr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Za(d)?(pv(`${c}//${d}${_}`),yv("Auth",!0)):H2()}function qv(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function q2(r){const t=qv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:K_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:K_(d)}}}function K_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function H2(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Hv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function Ba(r,t){return xv(r,"POST","/v1/accounts:signInWithIdp",nh(r,t))}const G2="http://localhost";class Ur extends Hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ur(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Zi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Ur(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ba(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ba(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ba(t,i)}buildRequest(){const t={requestUri:G2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ol(i)}return t}}class Gv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Vl extends Gv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Us extends Vl{constructor(){super("facebook.com")}static credential(t){return Ur._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Us.credential(t.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";class Ls extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ur._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ls.credential(i,a)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";class Ps extends Vl{constructor(){super("github.com")}static credential(t){return Ur._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";class js extends Vl{constructor(){super("twitter.com")}static credential(t,i){return Ur._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return js.credential(i,a)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";async function F2(r,t){return xv(r,"POST","/v1/accounts:signUp",nh(r,t))}class Ks{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=Y_(a);return new Ks({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Y_(a);return new Ks({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Y_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Q2(r){if(Yn(r.app))return Promise.reject(Fs(r));const t=ih(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ks({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await F2(t,{returnSecureToken:!0}),a=await Ks._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Lc extends ns{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Lc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Lc(t,i,a,l)}}function Fv(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Lc._fromErrorAndOperation(r,c,t,a):c})}async function K2(r,t,i=!1){const a=await Sl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Ks._forOperation(r,"link",a)}async function Y2(r,t,i=!1){const{auth:a}=r;if(Yn(a.app))return Promise.reject(Fs(a));const l="reauthenticate";try{const c=await Sl(r,Fv(a,l,t,r),i);vt(c.idToken,a,"internal-error");const d=pm(c.idToken);vt(d,a,"internal-error");const{sub:g}=d;return vt(r.uid===g,a,"user-mismatch"),Ks._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zi(a,"user-mismatch"),c}}async function X2(r,t,i=!1){if(Yn(r.app))return Promise.reject(Fs(r));const a="signIn",l=await Fv(r,a,t),c=await Ks._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function $2(r,t,i,a){return zn(r).onIdTokenChanged(t,i,a)}function J2(r,t,i){return zn(r).beforeAuthStateChanged(t,i)}function Z2(r,t,i,a){return zn(r).onAuthStateChanged(t,i,a)}const Pc="__sak";class Qv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Pc,"1"),this.storage.removeItem(Pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const W2=1e3,tw=10;class Kv extends Qv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);x2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,tw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},W2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Kv.type="LOCAL";const ew=Kv;class Yv extends Qv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Yv.type="SESSION";const Xv=Yv;function nw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new sh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await nw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];function vm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class iw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=vm("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(R){const V=R;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ti(){return window}function sw(r){Ti().location.href=r}function $v(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function rw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aw(){return navigator?.serviceWorker?.controller||null}function ow(){return $v()?self:null}const Jv="firebaseLocalStorageDb",lw=1,jc="firebaseLocalStorage",Zv="fbase_key";class zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rh(r,t){return r.transaction([jc],t?"readwrite":"readonly").objectStore(jc)}function uw(){const r=indexedDB.deleteDatabase(Jv);return new zl(r).toPromise()}function Gd(){const r=indexedDB.open(Jv,lw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(jc,{keyPath:Zv})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(jc)?t(a):(a.close(),await uw(),t(await Gd()))})})}async function X_(r,t,i){const a=rh(r,!0).put({[Zv]:t,value:i});return new zl(a).toPromise()}async function cw(r,t){const i=rh(r,!1).get(t),a=await new zl(i).toPromise();return a===void 0?null:a.value}function $_(r,t){const i=rh(r,!0).delete(t);return new zl(i).toPromise()}const hw=800,fw=3;class Wv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>fw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $v()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(ow()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rw(),!this.activeServiceWorker)return;this.sender=new iw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||aw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gd();return await X_(t,Pc,"1"),await $_(t,Pc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>X_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>cw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>$_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=rh(l,!1).getAll();return new zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wv.type="LOCAL";const dw=Wv;new Ml(3e4,6e4);function mw(r,t){return t?Xi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Em extends Hv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ba(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ba(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function gw(r){return X2(r.auth,new Em(r),r.bypassAuthState)}function pw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),Y2(i,new Em(r),r.bypassAuthState)}async function yw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),K2(i,new Em(r),r.bypassAuthState)}class t1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gw;case"linkViaPopup":case"linkViaRedirect":return yw;case"reauthViaPopup":case"reauthViaRedirect":return pw;default:Zi(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _w=new Ml(2e3,1e4);class La extends t1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_w.get())};t()}}La.currentPopupAction=null;const vw="pendingRedirect",Ac=new Map;class Ew extends t1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Ac.get(this.auth._key());if(!t){try{const a=await Tw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Ac.set(this.auth._key(),t)}return this.bypassAuthState||Ac.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Tw(r,t){const i=Aw(t),a=Sw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function bw(r,t){Ac.set(r._key(),t)}function Sw(r){return Xi(r._redirectPersistence)}function Aw(r){return Sc(vw,r.config.apiKey,r.name)}async function ww(r,t,i=!1){if(Yn(r.app))return Promise.reject(Fs(r));const a=ih(r),l=mw(a,t),d=await new Ew(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Rw=600*1e3;class Cw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Iw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!e1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ei(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Rw&&this.cachedEventUids.clear(),this.cachedEventUids.has(J_(t))}saveEventToCache(t){this.cachedEventUids.add(J_(t)),this.lastProcessedEventTime=Date.now()}}function J_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function e1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Iw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e1(r);default:return!1}}async function xw(r,t={}){return to(r,"GET","/v1/projects",t)}const Nw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dw=/^https?/;async function Ow(r){if(r.config.emulator)return;const{authorizedDomains:t}=await xw(r);for(const i of t)try{if(Mw(i))return}catch{}Zi(r,"unauthorized-domain")}function Mw(r){const t=qd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Dw.test(i))return!1;if(Nw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Vw=new Ml(3e4,6e4);function Z_(){const r=Ti().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function zw(r){return new Promise((t,i)=>{function a(){Z_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Z_(),i(Ei(r,"network-request-failed"))},timeout:Vw.get()})}if(Ti().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ti().gapi?.load)a();else{const l=L2("iframefcb");return Ti()[l]=()=>{gapi.load?a():i(Ei(r,"network-request-failed"))},k2(`${U2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw wc=null,t})}let wc=null;function kw(r){return wc=wc||zw(r),wc}const Uw=new Ml(5e3,15e3),Lw="__/auth/iframe",Pw="emulator/auth/iframe",jw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qw(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?gm(t,Pw):`https://${r.config.authDomain}/${Lw}`,a={apiKey:t.apiKey,appName:r.name,v:Wa},l=Bw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ol(a).slice(1)}`}async function Hw(r){const t=await kw(r),i=Ti().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:qw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ei(r,"network-request-failed"),g=Ti().setTimeout(()=>{c(d)},Uw.get());function _(){Ti().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const Gw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fw=500,Qw=600,Kw="_blank",Yw="http://localhost";class W_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xw(r,t,i,a=Fw,l=Qw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...Gw,width:a.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(g=zv(y)?Kw:i),Mv(y)&&(t=t||Yw,_.scrollbars="yes");const b=Object.entries(_).reduce((V,[q,G])=>`${V}${q}=${G},`,"");if(I2(y)&&g!=="_self")return $w(t||"",g),new W_(null);const R=window.open(t||"",g,b);vt(R,r,"popup-blocked");try{R.focus()}catch{}return new W_(R)}function $w(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Jw="__/auth/handler",Zw="emulator/auth/handler",Ww=encodeURIComponent("fac");async function t0(r,t,i,a,l,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Wa,eventId:l};if(t instanceof Gv){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",JS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,R]of Object.entries({}))d[b]=R}if(t instanceof Vl){const b=t.getScopes().filter(R=>R!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const _=await r._getAppCheckToken(),y=_?`#${Ww}=${encodeURIComponent(_)}`:"";return`${tR(r)}?${Ol(g).slice(1)}${y}`}function tR({config:r}){return r.emulator?gm(r,Zw):`https://${r.authDomain}/${Jw}`}const Nd="webStorageSupport";class eR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xv,this._completeRedirectFn=ww,this._overrideRedirectResult=bw}async _openPopup(t,i,a,l){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await t0(t,i,a,qd(),l);return Xw(t,c,vm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await t0(t,i,a,qd(),l);return sw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Hw(t),a=new Cw(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Nd,{type:Nd},l=>{const c=l?.[0]?.[Nd];c!==void 0&&i(!!c),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Ow(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return jv()||Vv()||ym()}}const nR=eR;var e0="@firebase/auth",n0="1.11.1";class iR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rR(r){Fa(new kr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bv(r)},y=new V2(a,l,c,_);return j2(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Fa(new kr("auth-internal",t=>{const i=ih(t.getProvider("auth").getImmediate());return(a=>new iR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(e0,n0,sR(r)),Gs(e0,n0,"esm2020")}const aR=300,oR=gv("authIdTokenMaxAge")||aR;let i0=null;const lR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>oR)return;const l=i?.token;i0!==l&&(i0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function uR(r=Tv()){const t=dm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=P2(r,{popupRedirectResolver:nR,persistence:[dw,ew,Xv]}),a=gv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=lR(c.toString());J2(i,d,()=>d(i.currentUser)),$2(i,g=>d(g))}}const l=dv("auth");return l&&B2(i,`http://${l}`),i}function cR(){return document.getElementsByTagName("head")?.[0]??document}z2({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ei("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",cR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rR("Browser");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,n1;(function(){var r;function t(S,A){function C(){}C.prototype=A.prototype,S.F=A.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(M,N,k){for(var I=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)I[Ft-2]=arguments[Ft];return A.prototype[N].apply(M,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(S,A,C){C||(C=0);const M=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)M[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;N<16;++N)M[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=S.g[0],C=S.g[1],N=S.g[2];let k=S.g[3],I;I=A+(k^C&(N^k))+M[0]+3614090360&4294967295,A=C+(I<<7&4294967295|I>>>25),I=k+(N^A&(C^N))+M[1]+3905402710&4294967295,k=A+(I<<12&4294967295|I>>>20),I=N+(C^k&(A^C))+M[2]+606105819&4294967295,N=k+(I<<17&4294967295|I>>>15),I=C+(A^N&(k^A))+M[3]+3250441966&4294967295,C=N+(I<<22&4294967295|I>>>10),I=A+(k^C&(N^k))+M[4]+4118548399&4294967295,A=C+(I<<7&4294967295|I>>>25),I=k+(N^A&(C^N))+M[5]+1200080426&4294967295,k=A+(I<<12&4294967295|I>>>20),I=N+(C^k&(A^C))+M[6]+2821735955&4294967295,N=k+(I<<17&4294967295|I>>>15),I=C+(A^N&(k^A))+M[7]+4249261313&4294967295,C=N+(I<<22&4294967295|I>>>10),I=A+(k^C&(N^k))+M[8]+1770035416&4294967295,A=C+(I<<7&4294967295|I>>>25),I=k+(N^A&(C^N))+M[9]+2336552879&4294967295,k=A+(I<<12&4294967295|I>>>20),I=N+(C^k&(A^C))+M[10]+4294925233&4294967295,N=k+(I<<17&4294967295|I>>>15),I=C+(A^N&(k^A))+M[11]+2304563134&4294967295,C=N+(I<<22&4294967295|I>>>10),I=A+(k^C&(N^k))+M[12]+1804603682&4294967295,A=C+(I<<7&4294967295|I>>>25),I=k+(N^A&(C^N))+M[13]+4254626195&4294967295,k=A+(I<<12&4294967295|I>>>20),I=N+(C^k&(A^C))+M[14]+2792965006&4294967295,N=k+(I<<17&4294967295|I>>>15),I=C+(A^N&(k^A))+M[15]+1236535329&4294967295,C=N+(I<<22&4294967295|I>>>10),I=A+(N^k&(C^N))+M[1]+4129170786&4294967295,A=C+(I<<5&4294967295|I>>>27),I=k+(C^N&(A^C))+M[6]+3225465664&4294967295,k=A+(I<<9&4294967295|I>>>23),I=N+(A^C&(k^A))+M[11]+643717713&4294967295,N=k+(I<<14&4294967295|I>>>18),I=C+(k^A&(N^k))+M[0]+3921069994&4294967295,C=N+(I<<20&4294967295|I>>>12),I=A+(N^k&(C^N))+M[5]+3593408605&4294967295,A=C+(I<<5&4294967295|I>>>27),I=k+(C^N&(A^C))+M[10]+38016083&4294967295,k=A+(I<<9&4294967295|I>>>23),I=N+(A^C&(k^A))+M[15]+3634488961&4294967295,N=k+(I<<14&4294967295|I>>>18),I=C+(k^A&(N^k))+M[4]+3889429448&4294967295,C=N+(I<<20&4294967295|I>>>12),I=A+(N^k&(C^N))+M[9]+568446438&4294967295,A=C+(I<<5&4294967295|I>>>27),I=k+(C^N&(A^C))+M[14]+3275163606&4294967295,k=A+(I<<9&4294967295|I>>>23),I=N+(A^C&(k^A))+M[3]+4107603335&4294967295,N=k+(I<<14&4294967295|I>>>18),I=C+(k^A&(N^k))+M[8]+1163531501&4294967295,C=N+(I<<20&4294967295|I>>>12),I=A+(N^k&(C^N))+M[13]+2850285829&4294967295,A=C+(I<<5&4294967295|I>>>27),I=k+(C^N&(A^C))+M[2]+4243563512&4294967295,k=A+(I<<9&4294967295|I>>>23),I=N+(A^C&(k^A))+M[7]+1735328473&4294967295,N=k+(I<<14&4294967295|I>>>18),I=C+(k^A&(N^k))+M[12]+2368359562&4294967295,C=N+(I<<20&4294967295|I>>>12),I=A+(C^N^k)+M[5]+4294588738&4294967295,A=C+(I<<4&4294967295|I>>>28),I=k+(A^C^N)+M[8]+2272392833&4294967295,k=A+(I<<11&4294967295|I>>>21),I=N+(k^A^C)+M[11]+1839030562&4294967295,N=k+(I<<16&4294967295|I>>>16),I=C+(N^k^A)+M[14]+4259657740&4294967295,C=N+(I<<23&4294967295|I>>>9),I=A+(C^N^k)+M[1]+2763975236&4294967295,A=C+(I<<4&4294967295|I>>>28),I=k+(A^C^N)+M[4]+1272893353&4294967295,k=A+(I<<11&4294967295|I>>>21),I=N+(k^A^C)+M[7]+4139469664&4294967295,N=k+(I<<16&4294967295|I>>>16),I=C+(N^k^A)+M[10]+3200236656&4294967295,C=N+(I<<23&4294967295|I>>>9),I=A+(C^N^k)+M[13]+681279174&4294967295,A=C+(I<<4&4294967295|I>>>28),I=k+(A^C^N)+M[0]+3936430074&4294967295,k=A+(I<<11&4294967295|I>>>21),I=N+(k^A^C)+M[3]+3572445317&4294967295,N=k+(I<<16&4294967295|I>>>16),I=C+(N^k^A)+M[6]+76029189&4294967295,C=N+(I<<23&4294967295|I>>>9),I=A+(C^N^k)+M[9]+3654602809&4294967295,A=C+(I<<4&4294967295|I>>>28),I=k+(A^C^N)+M[12]+3873151461&4294967295,k=A+(I<<11&4294967295|I>>>21),I=N+(k^A^C)+M[15]+530742520&4294967295,N=k+(I<<16&4294967295|I>>>16),I=C+(N^k^A)+M[2]+3299628645&4294967295,C=N+(I<<23&4294967295|I>>>9),I=A+(N^(C|~k))+M[0]+4096336452&4294967295,A=C+(I<<6&4294967295|I>>>26),I=k+(C^(A|~N))+M[7]+1126891415&4294967295,k=A+(I<<10&4294967295|I>>>22),I=N+(A^(k|~C))+M[14]+2878612391&4294967295,N=k+(I<<15&4294967295|I>>>17),I=C+(k^(N|~A))+M[5]+4237533241&4294967295,C=N+(I<<21&4294967295|I>>>11),I=A+(N^(C|~k))+M[12]+1700485571&4294967295,A=C+(I<<6&4294967295|I>>>26),I=k+(C^(A|~N))+M[3]+2399980690&4294967295,k=A+(I<<10&4294967295|I>>>22),I=N+(A^(k|~C))+M[10]+4293915773&4294967295,N=k+(I<<15&4294967295|I>>>17),I=C+(k^(N|~A))+M[1]+2240044497&4294967295,C=N+(I<<21&4294967295|I>>>11),I=A+(N^(C|~k))+M[8]+1873313359&4294967295,A=C+(I<<6&4294967295|I>>>26),I=k+(C^(A|~N))+M[15]+4264355552&4294967295,k=A+(I<<10&4294967295|I>>>22),I=N+(A^(k|~C))+M[6]+2734768916&4294967295,N=k+(I<<15&4294967295|I>>>17),I=C+(k^(N|~A))+M[13]+1309151649&4294967295,C=N+(I<<21&4294967295|I>>>11),I=A+(N^(C|~k))+M[4]+4149444226&4294967295,A=C+(I<<6&4294967295|I>>>26),I=k+(C^(A|~N))+M[11]+3174756917&4294967295,k=A+(I<<10&4294967295|I>>>22),I=N+(A^(k|~C))+M[2]+718787259&4294967295,N=k+(I<<15&4294967295|I>>>17),I=C+(k^(N|~A))+M[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+k&4294967295}a.prototype.v=function(S,A){A===void 0&&(A=S.length);const C=A-this.blockSize,M=this.C;let N=this.h,k=0;for(;k<A;){if(N==0)for(;k<=C;)l(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<A;)if(M[N++]=S.charCodeAt(k++),N==this.blockSize){l(this,M),N=0;break}}else for(;k<A;)if(M[N++]=S[k++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;A=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=A&255,A/=256;for(this.v(S),S=Array(16),A=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)S[A++]=this.g[C]>>>M&255;return S};function c(S,A){var C=g;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=A(S)}function d(S,A){this.h=A;const C=[];let M=!0;for(let N=S.length-1;N>=0;N--){const k=S[N]|0;M&&k==A||(C[N]=k,M=!1)}this.g=C}var g={};function _(S){return-128<=S&&S<128?c(S,function(A){return new d([A|0],A<0?-1:0)}):new d([S|0],S<0?-1:0)}function y(S){if(isNaN(S)||!isFinite(S))return R;if(S<0)return Z(y(-S));const A=[];let C=1;for(let M=0;S>=C;M++)A[M]=S/C|0,C*=4294967296;return new d(A,0)}function b(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return Z(b(S.substring(1),A));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let M=R;for(let k=0;k<S.length;k+=8){var N=Math.min(8,S.length-k);const I=parseInt(S.substring(k,k+N),A);N<8?(N=y(Math.pow(A,N)),M=M.j(N).add(y(I))):(M=M.j(C),M=M.add(y(I)))}return M}var R=_(0),V=_(1),q=_(16777216);r=d.prototype,r.m=function(){if(tt(this))return-Z(this).m();let S=0,A=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);S+=(M>=0?M:4294967296+M)*A,A*=4294967296}return S},r.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(G(this))return"0";if(tt(this))return"-"+Z(this).toString(S);const A=y(Math.pow(S,6));var C=this;let M="";for(;;){const N=J(C,A).g;C=ut(C,N.j(A));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=N,G(C))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function G(S){if(S.h!=0)return!1;for(let A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function tt(S){return S.h==-1}r.l=function(S){return S=ut(this,S),tt(S)?-1:G(S)?0:1};function Z(S){const A=S.g.length,C=[];for(let M=0;M<A;M++)C[M]=~S.g[M];return new d(C,~S.h).add(V)}r.abs=function(){return tt(this)?Z(this):this},r.add=function(S){const A=Math.max(this.g.length,S.g.length),C=[];let M=0;for(let N=0;N<=A;N++){let k=M+(this.i(N)&65535)+(S.i(N)&65535),I=(k>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);M=I>>>16,k&=65535,I&=65535,C[N]=I<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ut(S,A){return S.add(Z(A))}r.j=function(S){if(G(this)||G(S))return R;if(tt(this))return tt(S)?Z(this).j(Z(S)):Z(Z(this).j(S));if(tt(S))return Z(this.j(Z(S)));if(this.l(q)<0&&S.l(q)<0)return y(this.m()*S.m());const A=this.g.length+S.g.length,C=[];for(var M=0;M<2*A;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<S.g.length;N++){const k=this.i(M)>>>16,I=this.i(M)&65535,Ft=S.i(N)>>>16,le=S.i(N)&65535;C[2*M+2*N]+=I*le,_t(C,2*M+2*N),C[2*M+2*N+1]+=k*le,_t(C,2*M+2*N+1),C[2*M+2*N+1]+=I*Ft,_t(C,2*M+2*N+1),C[2*M+2*N+2]+=k*Ft,_t(C,2*M+2*N+2)}for(S=0;S<A;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=A;S<2*A;S++)C[S]=0;return new d(C,0)};function _t(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function dt(S,A){this.g=S,this.h=A}function J(S,A){if(G(A))throw Error("division by zero");if(G(S))return new dt(R,R);if(tt(S))return A=J(Z(S),A),new dt(Z(A.g),Z(A.h));if(tt(A))return A=J(S,Z(A)),new dt(Z(A.g),A.h);if(S.g.length>30){if(tt(S)||tt(A))throw Error("slowDivide_ only works with positive integers.");for(var C=V,M=A;M.l(S)<=0;)C=mt(C),M=mt(M);var N=ot(C,1),k=ot(M,1);for(M=ot(M,2),C=ot(C,2);!G(M);){var I=k.add(M);I.l(S)<=0&&(N=N.add(C),k=I),M=ot(M,1),C=ot(C,1)}return A=ut(S,N.j(A)),new dt(N,A)}for(N=R;S.l(A)>=0;){for(C=Math.max(1,Math.floor(S.m()/A.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=y(C),I=k.j(A);tt(I)||I.l(S)>0;)C-=M,k=y(C),I=k.j(A);G(k)&&(k=V),N=N.add(k),S=ut(S,I)}return new dt(N,S)}r.B=function(S){return J(this,S).h},r.and=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)&S.i(M);return new d(C,this.h&S.h)},r.or=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)|S.i(M);return new d(C,this.h|S.h)},r.xor=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)^S.i(M);return new d(C,this.h^S.h)};function mt(S){const A=S.g.length+1,C=[];for(let M=0;M<A;M++)C[M]=S.i(M)<<1|S.i(M-1)>>>31;return new d(C,S.h)}function ot(S,A){const C=A>>5;A%=32;const M=S.g.length-C,N=[];for(let k=0;k<M;k++)N[k]=A>0?S.i(k+C)>>>A|S.i(k+C+1)<<32-A:S.i(k+C);return new d(N,S.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,n1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Qs=d}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var i1,fl,s1,Rc,Fd,r1,a1,o1;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function R(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var et=Array(arguments.length-2),At=2;At<arguments.length;At++)et[At-2]=arguments[At];return m.prototype[U].apply(T,et)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function G(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let et=0;et<B;et++)u[v+et]=U[et]}else u.push(U)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=S;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,v){const T=dt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new tt(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,ot=!1,S=new _t,A=()=>{const u=Promise.resolve(void 0);mt=()=>{u.then(C)}};function C(){for(var u;u=ut();){try{u.h.call(u.g)}catch(v){Z(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ot=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function Ft(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}R(Ft,N),Ft.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ft.Z.h.call(this)},Ft.prototype.h=function(){Ft.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++F,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Kt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=Rt(u,m,T,U);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,U),m.fa=v,u.push(m)),m};function Et(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Rt(u,m,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),xe={};function re(u,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],v,T,U);return null}return v=oo(v),u&&u[le]?u.J(m,v,g(T)?!!T.capture:!1,U):tr(u,m,v,!1,T,U)}function tr(u,m,v,T,U,B){if(!m)throw Error("Invalid event type");const et=g(U)?!!U.capture:!!U;let At=er(u);if(At||(u[Ut]=At=new rt(u)),v=At.add(m,v,T,et,B),v.proxy)return v;if(T=Gr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(U=et),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Gr(){function u(v){return m.call(u.src,u.listener,v)}const m=ro;return u}function Fr(u,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Fr(u,m[B],v,T,U);else T=g(T)?!!T.capture:!!T,v=oo(v),u&&u[le]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Rt(m,v,T,U),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=er(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,v,T,U)),(v=u>-1?m[u]:null)&&Qr(v))}function Qr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[le])Et(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Jn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=er(m))?(Et(v,u),v.h==0&&(v.src=null,m[Ut]=null)):ft(u)}}}function Jn(u){return u in xe?xe[u]:xe[u]="on"+u}function ro(u,m){if(u.da)u=!0;else{m=new Ft(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Qr(u),u=v.call(T,m)}return u}function er(u){return u=u[Ut],u instanceof rt?u:null}var ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function oo(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function _e(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}R(_e,M),_e.prototype[le]=!0,_e.prototype.removeEventListener=function(u,m,v,T){Fr(this,u,m,v,T)};function Ne(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(T,u),it(m,U)}U=!0;let B,et;if(v)for(et=v.length-1;et>=0;et--)B=m.g=v[et],U=is(B,T,!0,m)&&U;if(B=m.g=u,U=is(B,T,!0,m)&&U,U=is(B,T,!1,m)&&U,v)for(et=0;et<v.length;et++)B=m.g=v[et],U=is(B,T,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function is(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==v){const At=et.listener,me=et.ha||et.src;et.fa&&Et(u.i,et),U=At.call(me,T)!==!1&&U}}return U&&!T.defaultPrevented}function vh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Bl(u){u.g=vh(()=>{u.g=null,u.i&&(u.i=!1,Bl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Bl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(u){M.call(this),this.h=u,this.g={}}R(nr,M);var lo=[];function uo(u){jt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Qr(m)},u),u.g={}}nr.prototype.N=function(){nr.Z.N.call(this),uo(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=d.JSON.stringify,Eh=d.JSON.parse,ql=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Hl(){}function Gl(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}R(Pe,N);function En(){N.call(this,"c")}R(En,N);var de={},Fl=null;function Kr(){return Fl=Fl||new _e}de.Ia="serverreachability";function Ql(u){N.call(this,de.Ia,u)}R(Ql,N);function Zn(u){const m=Kr();Ne(m,new Ql(m))}de.STAT_EVENT="statevent";function ir(u,m){N.call(this,de.STAT_EVENT,u),this.stat=m}R(ir,N);function ve(u){const m=Kr();Ne(m,new ir(m,u))}de.Ja="timingevent";function Wn(u,m){N.call(this,de.Ja,u),this.size=m}R(Wn,N);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function Th(u,m,v,T,U,B){u.info(function(){if(u.g)if(B){var et="",At=B.split("&");for(let Ht=0;Ht<At.length;Ht++){var me=At[Ht].split("=");if(me.length>1){const ae=me[0];me=me[1];const An=ae.split("_");et=An.length>=2&&An[1]=="type"?et+(ae+"="+me+"&"):et+(ae+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+et})}function Kl(u,m,v,T,U,B,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+et})}function ei(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+bh(u,v)+(T?" "+T:"")})}function sr(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function bh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return ss(B)}catch{return m}}var rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function ar(){}R(ar,Hl),ar.prototype.g=function(){return new XMLHttpRequest},ho=new ar;function Ii(u){return encodeURIComponent(String(u))}function Yl(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Ln(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var Ee={},Ve={};function ni(u,m,v){u.M=1,u.A=or(be(m)),u.u=v,u.R=!0,Yr(u,null)}function Yr(u,m){u.F=Date.now(),ii(u),u.B=be(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Zr(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Pn,u.g=uu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(lo[0]=U.toString()),U=lo);for(let B=0;B<U.length;B++){const et=re(v,U[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Zn(),Th(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const At=qn(this.g),me=this.g.ya(),Ht=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||At!=4||me==7||(me==8||Ht<=0?Zn(3):Zn(2)),si(this);var m=this.g.ca();this.X=m;var v=Sh(this);if(this.o=m==200,Kl(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var B=T;break e}}B=null}if(u=B)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,ve(12),hn(this),Tn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=$l(this,v),ae==Ve){At==4&&(this.m=4,ve(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ee){this.m=4,ve(15),ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,ae,null),ri(this,ae);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Co(et),et.P=!0,ve(11))}}else ei(this.i,this.l,v,null),ri(this,v);At==4&&hn(this),this.o&&!this.K&&(At==4?ru(this.j,this):(this.o=!1,ii(this)))}else Ni(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),hn(this),Tn(this)}}}catch{}finally{}};function Sh(u){if(!Xl(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const T=m.length,U=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Xl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function $l(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}Ln.prototype.cancel=function(){this.K=!0,hn(this)};function ii(u){u.T=Date.now()+u.H,Xr(u,u.H)}function Xr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(y(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(sr(this.i,this.B),this.M!=2&&(Zn(),ve(17)),hn(this),this.m=2,Tn(this)):Xr(this,this.T-u)};function Tn(u){u.j.I==0||u.K||ru(u.j,u)}function hn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,uo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||oi(v.h,u))){if(!u.L&&oi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ia(v),fs(v);else break t;mr(v),ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ti(y(v.Va,v),6e3));ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else di(v,11)}else if((u.L||v.g==u)&&ia(v),!I(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ht=U[m];const ae=Ht[0];if(!(ae<=v.K))if(v.K=ae,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const An=Ht[3];An!=null&&(v.ka=An,v.j.info("VER="+v.ka));const mi=Ht[4];mi!=null&&(v.za=mi,v.j.info("SVER="+v.za));const Hn=Ht[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Gn=u.g;if(Gn){const gr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var B=T.h;B.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(go(B,B.h),B.h=null))}if(T.G){const sa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(T.wa=sa,Yt(T.J,T.G,sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var et=u;if(T.na=lu(T,T.L?T.ba:null,T.W),et.L){po(T.h,et);var At=et,me=T.O;me&&(At.H=me),At.D&&(si(At),ii(At)),T.g=et}else iu(T);v.i.length>0&&fi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||di(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?di(v,7):wo(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}Zn(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function go(u,m){u.g?u.g.add(m):u.h=m}function po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var Jl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $r(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.u),this.h=u.h,_o(this,eu(u.i)),this.m=u.m):u&&(m=String(u).match(Jl))?(this.l=!1,ze(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),rs(this,m[4]),this.h=li(m[5]||"",!0),_o(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(lr(m,Jr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(lr(m,Jr,!0),"@"),u.push(Ii(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(lr(v,v.charAt(0)=="/"?vo:Zl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",lr(v,Wl)),u.join("")},fn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?ze(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)rs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let et=0;et<U.length;){const At=U[et++];At=="."?T&&et==U.length&&B.push(""):At==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&et==U.length&&B.push("")):(B.push(At),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?_o(m,eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new fn(u)}function ze(u,m,v){u.j=v?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _o(u,m,v){m instanceof os?(u.i=m,Wr(u.i,u.l)):(v||(m=lr(m,as)),u.i=new os(m,u.l))}function Yt(u,m,v){u.i.set(m,v)}function or(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function lr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Jr=/[#\/\?@]/g,Zl=/[#\?:]/g,vo=/[#\?]/g,as=/[#\?@]/g,Wl=/#/g;function os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&$r(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=os.prototype,r.add=function(u,m){sn(this),this.i=null,u=ls(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function tu(u,m){sn(u),m=ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return sn(u),m=ls(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function To(u,m){sn(u);let v=[];if(typeof m=="string")Eo(u,m)&&(v=v.concat(u.g.get(ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=ls(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=To(this,u),u.length>0?String(u[0]):m):m};function Zr(u,m,v){tu(u,m),v.length>0&&(u.i=null,u.g.set(ls(u,m),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Ii(v);v=To(this,v);for(let B=0;B<v.length;B++){let et=U;v[B]!==""&&(et+="="+Ii(v[B])),u.push(et)}}return this.i=u.join("&")};function eu(u){const m=new os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Wr(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(tu(this,T),Zr(this,U,v))},u)),u.j=m}function jn(u,m){const v=new Un;if(d.Image){const T=new Image;T.onload=b(bn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(bn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(bn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(bn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function bo(u,m){const v=new Un,T=new AbortController,U=setTimeout(()=>{T.abort(),bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?bn(v,"TestPingServer: ok",!0,m):bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),bn(v,"TestPingServer: error",!1,m)})}function bn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function us(){this.g=new ql}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}R(ui,Hl),ui.prototype.g=function(){return new ur(this.i,this.h)};function ur(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(ur,_e),r=ur.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cs(this):Bn(this),this.readyState==3&&ta(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,cs(this))},r.Na=function(u){this.g&&(this.response=u,cs(this))},r.ga=function(){this.g&&cs(this)};function cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return jt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function cr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Sn(v),typeof u=="string"?v!=null&&Ii(v):Yt(u,m,v))}function Jt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(Jt,_e);var ci=/^https?$/i,So=["POST","PUT"];r=Jt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){hr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(So,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of v)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){hr(this,B)}};function hr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ao(u),xi(u)}function Ao(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?fr(this):this.Xa())},r.Xa=function(){fr(this)};function fr(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),qn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let et=String(u.D).match(Jl)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!ci.test(et?et.toLowerCase():"")}v=T}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var U=qn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ao(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Eh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(I(u[T]))continue;var v=Yl(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Kt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function hs(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(u&&u.concurrentRequestLimit),this.Ba=new us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=hs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=lu(this,null,this.W),fi(this)};function wo(u){if(ea(u),u.I==3){var m=u.V++,v=be(u.J);if(Yt(v,"SID",u.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),dr(u,v),m=new Ln(u,u.j,m),m.M=2,m.A=or(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=uu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}ou(u)}function fs(u){u.g&&(Co(u),u.g.cancel(),u.g=null)}function ea(u){fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;mt||A(),ot||(mt(),ot=!0),S.add(m,u),u.D=0}}function na(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(y(u.Ea,u,m),au(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Ln(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=nu(this,U,m),v=be(this.J),Yt(v,"RID",u),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),dr(this,v),B&&(this.R?m="headers="+Ii(Sn(B))+"&"+m:this.u&&cr(v,this.u,B)),go(this.h,U),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),U.U=!0,ni(U,v,null)):ni(U,v,m),this.I=2}}else this.I==3&&(u?Ro(this,u):this.i.length==0||mo(this.h)||Ro(this))};function Ro(u,m){var v;m?v=m.l:v=u.V++;const T=be(u.J);Yt(T,"SID",u.M),Yt(T,"RID",v),Yt(T,"AID",u.K),dr(u,T),u.u&&u.o&&cr(T,u.u,u.o),v=new Ln(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=nu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),go(u.h,v),ni(v,T,m)}function dr(u,m){u.H&&jt(u.H,function(v,T){Yt(m,T,v)}),u.l&&jt({},function(v,T){Yt(m,T,v)})}function nu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let At=-1;for(;;){const me=["count="+v];At==-1?v>0?(At=U[0].g,me.push("ofs="+At)):At=0:me.push("ofs="+At);let Ht=!0;for(let ae=0;ae<v;ae++){var B=U[ae].g;const An=U[ae].map;if(B-=At,B<0)At=Math.max(0,U[ae].g-100),Ht=!1;else try{B="req"+B+"_"||"";try{var et=An instanceof Map?An:Object.entries(An);for(const[mi,Hn]of et){let Gn=Hn;g(Hn)&&(Gn=ss(Hn)),me.push(B+mi+"="+encodeURIComponent(Gn))}}catch(mi){throw me.push(B+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(An)}}if(Ht){et=me.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;mt||A(),ot||(mt(),ot=!0),S.add(m,u),u.A=0}}function mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(y(u.Da,u),au(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),fs(this),su(this))};function Co(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function su(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),dr(u,m),u.u&&u.o&&cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=or(be(m)),v.u=null,v.R=!0,Yr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,fs(this),mr(this),ve(19))};function ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ru(u,m){var v=null;if(u.g==m){ia(u),Co(u),u.g=null;var T=2}else if(oi(u.h,m))v=m.G,po(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Kr(),Ne(T,new Wn(T,v)),fi(u)}else iu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&na(u,m)||T==2&&mr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function au(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(T,"https"),or(T),U?jn(T.toString(),v):bo(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),ou(u),ea(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function ou(u){if(u.I=0,u.ja=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ja,m),G(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function lu(u,m,v){var T=v instanceof fn?be(v):new fn(v);if(T.g!="")m&&(T.g=m+"."+T.g),rs(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new fn(null);T&&ze(B,T),m&&(B.g=m),U&&rs(B,U),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Yt(T,v,m),Yt(T,"VER",u.ka),dr(u,T),T}function uu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new ui({ab:v})):new Jt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}r=cu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ds(){}ds.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){_e.call(this),this.g=new hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Di(this)}R(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){wo(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ss(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&fi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,tn.Z.N.call(this)};function hu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(hu,Pe);function fu(){En.call(this),this.status=1}R(fu,En);function Di(u){this.g=u}R(Di,cu),Di.prototype.ra=function(){Ne(this.g,"a")},Di.prototype.qa=function(u){Ne(this.g,new hu(u))},Di.prototype.pa=function(u){Ne(this.g,new fu)},Di.prototype.oa=function(){Ne(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,o1=function(){return new ds},a1=function(){return Kr()},r1=de,Fd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Rc=rr,co.COMPLETE="complete",s1=co,Gl.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,fl=Gl,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,i1=Jt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const r0="@firebase/firestore",a0="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let eo="12.3.0";const Lr=new hm("@firebase/firestore");function Va(){return Lr.logLevel}function st(r,...t){if(Lr.logLevel<=Mt.DEBUG){const i=t.map(Tm);Lr.debug(`Firestore (${eo}): ${r}`,...i)}}function ts(r,...t){if(Lr.logLevel<=Mt.ERROR){const i=t.map(Tm);Lr.error(`Firestore (${eo}): ${r}`,...i)}}function Qa(r,...t){if(Lr.logLevel<=Mt.WARN){const i=t.map(Tm);Lr.warn(`Firestore (${eo}): ${r}`,...i)}}function Tm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,l1(r,a,i)}function l1(r,t,i){let a=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ts(a),new Error(a)}function Qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||l1(t,l,a)}function St(r,t){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ns{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class u1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class fR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class dR{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Mr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Mr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string",31837,{l:a}),new u1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class mR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new mR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class o0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new o0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new o0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=yR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Vt(r,t){return r<t?-1:r>t?1:0}function Qd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Dd(l)===Dd(c)?Vt(l,c):Dd(l)?1:-1}return Vt(r.length,t.length)}const _R=55296,vR=57343;function Dd(r){const t=r.charCodeAt(0);return t>=_R&&t<=vR}function Ka(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const l0="__name__";class vi{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=vi.isNumericId(t),l=vi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Qd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qs.fromString(t.substring(4,t.length-2))}}class ue extends vi{construct(t,i,a){return new ue(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const ER=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends vi{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return ER.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l0}static keyField(){return new Qe([l0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ct(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ct(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ue.fromString(t))}static fromName(t){return new gt(ue.fromString(t).popFirst(5))}static empty(){return new gt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ue(t.slice()))}}function TR(r,t,i){if(!i)throw new ct(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function bR(r,t,i,a){if(t===!0&&a===!0)throw new ct(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function u0(r){if(!gt.isDocumentKey(r))throw new ct(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function c1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Sm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function qa(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sm(r);throw new ct(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function kl(r,t){if(!c1(r))throw new ct(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(W.INVALID_ARGUMENT,i);return!0}const c0=-62135596800,h0=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*h0);return new se(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<c0)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h0}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(kl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-c0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ie("string",se._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new se(0,0))}static max(){return new Tt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Al=-1;function SR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new se(i+1,0):new se(i,a));return new Ys(l,gt.empty(),t)}function AR(r){return new Ys(r.readTime,r.key,Al)}class Ys{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ys(Tt.min(),gt.empty(),Al)}static max(){return new Ys(Tt.max(),gt.empty(),Al)}}function wR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,t.documentKey),i!==0?i:Vt(r.largestBatchId,t.largestBatchId))}const RR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function no(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==RR)throw r;st("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function IR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function io(r){return r.name==="IndexedDbTransactionError"}class ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ah.ce=-1;const Am=-1;function oh(r){return r==null}function Bc(r){return r===0&&1/r==-1/0}function xR(r){return typeof r=="number"&&Number.isInteger(r)&&!Bc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const h1="";function NR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=f0(t)),t=DR(r.get(i),t);return f0(t)}function DR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case h1:i+="";break;default:i+=c}}return i}function f0(r){return r+h1+""}function d0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function jr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function f1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new m0(this.data.getIterator())}getIteratorFrom(t){return new m0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class m0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new $n([])}unionWith(t){let i=new Me(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new $n(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class d1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new d1("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const OR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const i=OR.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $s(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const m1="server_timestamp",g1="__type__",p1="__previous_value__",y1="__local_write_time__";function wm(r){return(r?.mapValue?.fields||{})[g1]?.stringValue===m1}function lh(r){const t=r.mapValue.fields[p1];return wm(t)?lh(t):t}function wl(r){const t=Xs(r.mapValue.fields[y1].timestampValue);return new se(t.seconds,t.nanos)}class MR{constructor(t,i,a,l,c,d,g,_,y,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b}}const qc="(default)";class Rl{constructor(t,i){this.projectId=t,this.database=i||qc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===qc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}const _1="__type__",VR="__max__",vc={mapValue:{}},v1="__vector__",Hc="value";function Js(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wm(r)?4:kR(r)?9007199254740991:zR(r)?10:11:yt(28295,{value:r})}function Ri(r,t){if(r===t)return!0;const i=Js(r);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return wl(r).isEqual(wl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Xs(l.timestampValue),g=Xs(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return $s(l.bytesValue).isEqual($s(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),g=ye(c.doubleValue);return d===g?Bc(d)===Bc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Ka(r.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(d0(d)!==d0(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ri(d[_],g[_])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Cl(r,t){return(r.values||[]).find((i=>Ri(i,t)))!==void 0}function Ya(r,t){if(r===t)return 0;const i=Js(r),a=Js(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ye(c.integerValue||c.doubleValue),_=ye(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,t);case 3:return g0(r.timestampValue,t.timestampValue);case 4:return g0(wl(r),wl(t));case 5:return Qd(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=$s(c),_=$s(d);return g.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const b=Vt(g[y],_[y]);if(b!==0)return b}return Vt(g.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Vt(ye(c.latitude),ye(d.latitude));return g!==0?g:Vt(ye(c.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return p0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[Hc]?.arrayValue,b=_[Hc]?.arrayValue,R=Vt(y?.values?.length||0,b?.values?.length||0);return R!==0?R:p0(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===vc.mapValue&&d===vc.mapValue)return 0;if(c===vc.mapValue)return 1;if(d===vc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let R=0;R<_.length&&R<b.length;++R){const V=Qd(_[R],b[R]);if(V!==0)return V;const q=Ya(g[_[R]],y[b[R]]);if(q!==0)return q}return Vt(_.length,b.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function g0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const i=Xs(r),a=Xs(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function p0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ya(i[l],a[l]);if(c)return c}return Vt(i.length,a.length)}function Xa(r){return Kd(r)}function Kd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Xs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return $s(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Kd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Kd(i.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function Cc(r){switch(Js(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lh(r);return t?16+Cc(t):16;case 5:return 2*r.stringValue.length;case 6:return $s(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Cc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return jr(a.fields,((c,d)=>{l+=c.length+Cc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function Yd(r){return!!r&&"integerValue"in r}function Rm(r){return!!r&&"arrayValue"in r}function y0(r){return!!r&&"nullValue"in r}function _0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ic(r){return!!r&&"mapValue"in r}function zR(r){return(r?.mapValue?.fields||{})[_1]?.stringValue===v1}function _l(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return jr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=_l(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=_l(r.arrayValue.values[i]);return t}return{...r}}function kR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===VR}class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Ic(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=_l(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=_l(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Ic(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Ic(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){jr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Mn(_l(this.value))}}function E1(r){const t=[];return jr(r.fields,((i,a)=>{const l=new Qe([i]);if(Ic(a)){const c=E1(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new $n(t)}class Je{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,Tt.min(),Tt.min(),Tt.min(),Mn.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,Tt.min(),Tt.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,Tt.min(),Tt.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gc{constructor(t,i){this.position=t,this.inclusive=i}}function v0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=Ya(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function E0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ri(r.position[i],t.position[i]))return!1;return!0}class Fc{constructor(t,i="asc"){this.field=t,this.dir=i}}function UR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class T1{}class Oe extends T1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new PR(t,i,a):i==="array-contains"?new qR(t,a):i==="in"?new HR(t,a):i==="not-in"?new GR(t,a):i==="array-contains-any"?new FR(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new jR(t,a):new BR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ya(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison(Ya(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends T1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return b1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function b1(r){return r.op==="and"}function S1(r){return LR(r)&&b1(r)}function LR(r){for(const t of r.filters)if(t instanceof Ci)return!1;return!0}function Xd(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+Xa(r.value);if(S1(r))return r.filters.map((t=>Xd(t))).join(",");{const t=r.filters.map((i=>Xd(i))).join(",");return`${r.op}(${t})`}}function A1(r,t){return r instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Ri(a.value,l.value)})(r,t):r instanceof Ci?(function(a,l){return l instanceof Ci&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&A1(d,l.filters[g])),!0):!1})(r,t):void yt(19439)}function w1(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Xa(i.value)}`})(r):r instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(w1).join(" ,")+"}"})(r):"Filter"}class PR extends Oe{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class jR extends Oe{constructor(t,i){super(t,"in",i),this.keys=R1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class BR extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=R1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function R1(r,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class qR extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Rm(i)&&Cl(i.arrayValue,this.value)}}class HR extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Cl(this.value.arrayValue,i)}}class GR extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Cl(this.value.arrayValue,i)}}class FR extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Rm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Cl(this.value.arrayValue,a)))}}class QR{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function T0(r,t=null,i=[],a=[],l=null,c=null,d=null){return new QR(r,t,i,a,l,c,d)}function Cm(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Xd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),oh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Xa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Xa(a))).join(",")),t.Te=i}return t.Te}function Im(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!UR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!A1(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!E0(r.startAt,t.startAt)&&E0(r.endAt,t.endAt)}function $d(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class uh{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KR(r,t,i,a,l,c,d,g){return new uh(r,t,i,a,l,c,d,g)}function xm(r){return new uh(r)}function b0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function YR(r){return r.collectionGroup!==null}function vl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Fc(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Fc(Qe.keyField(),a))}return t.Ie}function bi(r){const t=St(r);return t.Ee||(t.Ee=XR(t,vl(r))),t.Ee}function XR(r,t){if(r.limitType==="F")return T0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Fc(l.field,c)}));const i=r.endAt?new Gc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Gc(r.startAt.position,r.startAt.inclusive):null;return T0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Jd(r,t,i){return new uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ch(r,t){return Im(bi(r),bi(t))&&r.limitType===t.limitType}function C1(r){return`${Cm(bi(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>w1(l))).join(", ")}]`),oh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Xa(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Xa(l))).join(",")),`Target(${a})`})(bi(r))}; limitType=${r.limitType})`}function hh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of vl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const y=v0(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,vl(a),l)||a.endAt&&!(function(d,g,_){const y=v0(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,vl(a),l))})(r,t)}function $R(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function I1(r){return(t,i)=>{let a=!1;for(const l of vl(r)){const c=JR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function JR(r,t,i){const a=r.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?Ya(_,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class Br{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){jr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return f1(this.inner)}size(){return this.innerSize}}const ZR=new ce(gt.comparator);function es(){return ZR}const x1=new ce(gt.comparator);function dl(...r){let t=x1;for(const i of r)t=t.insert(i.key,i);return t}function N1(r){let t=x1;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Or(){return El()}function D1(){return El()}function El(){return new Br((r=>r.toString()),((r,t)=>r.isEqual(t)))}const WR=new ce(gt.comparator),tC=new Me(gt.comparator);function zt(...r){let t=tC;for(const i of r)t=t.add(i);return t}const eC=new Me(Vt);function nC(){return eC}function Nm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(t)?"-0":t}}function O1(r){return{integerValue:""+r}}function iC(r,t){return xR(t)?O1(t):Nm(r,t)}class fh{constructor(){this._=void 0}}function sC(r,t,i){return r instanceof Qc?(function(l,c){const d={fields:{[g1]:{stringValue:m1},[y1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&wm(c)&&(c=lh(c)),c&&(d.fields[p1]=c),{mapValue:d}})(i,t):r instanceof Il?V1(r,t):r instanceof xl?z1(r,t):(function(l,c){const d=M1(l,c),g=S0(d)+S0(l.Ae);return Yd(d)&&Yd(l.Ae)?O1(g):Nm(l.serializer,g)})(r,t)}function rC(r,t,i){return r instanceof Il?V1(r,t):r instanceof xl?z1(r,t):i}function M1(r,t){return r instanceof Kc?(function(a){return Yd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Qc extends fh{}class Il extends fh{constructor(t){super(),this.elements=t}}function V1(r,t){const i=k1(t);for(const a of r.elements)i.some((l=>Ri(l,a)))||i.push(a);return{arrayValue:{values:i}}}class xl extends fh{constructor(t){super(),this.elements=t}}function z1(r,t){let i=k1(t);for(const a of r.elements)i=i.filter((l=>!Ri(l,a)));return{arrayValue:{values:i}}}class Kc extends fh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function S0(r){return ye(r.integerValue||r.doubleValue)}function k1(r){return Rm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function aC(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Il&&l instanceof Il||a instanceof xl&&l instanceof xl?Ka(a.elements,l.elements,Ri):a instanceof Kc&&l instanceof Kc?Ri(a.Ae,l.Ae):a instanceof Qc&&l instanceof Qc})(r.transform,t.transform)}class oC{constructor(t,i){this.version=t,this.transformResults=i}}class $i{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new $i}static exists(t){return new $i(void 0,t)}static updateTime(t){return new $i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class dh{}function U1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new P1(r.key,$i.none()):new Ul(r.key,r.data,$i.none());{const i=r.data,a=Mn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new qr(r.key,a,new $n(l.toArray()),$i.none())}}function lC(r,t,i){r instanceof Ul?(function(l,c,d){const g=l.value.clone(),_=w0(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof qr?(function(l,c,d){if(!xc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=w0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(L1(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Tl(r,t,i,a){return r instanceof Ul?(function(c,d,g,_){if(!xc(c.precondition,d))return g;const y=c.value.clone(),b=R0(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof qr?(function(c,d,g,_){if(!xc(c.precondition,d))return g;const y=R0(c.fieldTransforms,_,d),b=d.data;return b.setAll(L1(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((R=>R.field)))})(r,t,i,a):(function(c,d,g){return xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function uC(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=M1(a.transform,l||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(a.field,c))}return i||null}function A0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ka(a,l,((c,d)=>aC(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ul extends dh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class qr extends dh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function L1(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function w0(r,t,i){const a=new Map;Qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,rC(d,g,i[l]))}return a}function R0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,sC(c,d,t))}return a}class P1 extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cC extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hC{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&lC(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Tl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Tl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=D1();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=U1(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,((i,a)=>A0(i,a)))&&Ka(this.baseMutations,t.baseMutations,((i,a)=>A0(i,a)))}}class Dm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return WR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Dm(t,i,a,l)}}class fC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dC{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,Lt;function mC(r){switch(r){case W.OK:return yt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function j1(r){if(r===void 0)return ts("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ce.OK:return W.OK;case Ce.CANCELLED:return W.CANCELLED;case Ce.UNKNOWN:return W.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return W.INTERNAL;case Ce.UNAVAILABLE:return W.UNAVAILABLE;case Ce.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ce.NOT_FOUND:return W.NOT_FOUND;case Ce.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ce.ABORTED:return W.ABORTED;case Ce.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ce.DATA_LOSS:return W.DATA_LOSS;default:return yt(39323,{code:r})}}(Lt=Ce||(Ce={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function gC(){return new TextEncoder}const pC=new Qs([4294967295,4294967295],0);function C0(r){const t=gC().encode(r),i=new n1;return i.update(t),new Uint8Array(i.digest())}function I0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qs([i,a],0),new Qs([l,c],0)]}class Om{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ml(`Invalid padding: ${i}`);if(a<0)throw new ml(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new ml(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Qs.fromNumber(a)));return l.compare(pC)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=C0(t),[a,l]=I0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Om(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=C0(t),[a,l]=I0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ll.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new mh(Tt.min(),l,new ce(Vt),es(),zt())}}class Ll{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ll(a,i,zt(),zt(),zt())}}class Nc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class B1{constructor(t,i){this.targetId=t,this.Ce=i}}class q1{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class x0{constructor(){this.ve=0,this.Fe=N0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new Ll(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=N0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yC{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.Je=Ec(),this.He=Ec(),this.Ye=new ce(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if($d(c))if(a===0){const d=new gt(c.path);this.et(i,d,Je.newNoDocument(d,Tt.min()))}else Qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=$s(a).toUint8Array()}catch(_){if(_ instanceof d1)return Qa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Om(d,l,c)}catch(_){return Qa(_ instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&$d(g.target)){const _=new gt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Je.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=zt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new mh(t,i,this.Ye,this.je,a);return this.je=es(),this.Je=Ec(),this.He=Ec(),this.Ye=new ce(Vt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new x0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new x0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ec(){return new ce(gt.comparator)}function N0(){return new ce(gt.comparator)}const _C={asc:"ASCENDING",desc:"DESCENDING"},vC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EC={and:"AND",or:"OR"};class TC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Zd(r,t){return r.useProto3Json||oh(t)?t:{value:t}}function Yc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function H1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function bC(r,t){return Yc(r,t.toTimestamp())}function Si(r){return Qt(!!r,49232),Tt.fromTimestamp((function(i){const a=Xs(i);return new se(a.seconds,a.nanos)})(r))}function Mm(r,t){return Wd(r,t).canonicalString()}function Wd(r,t){const i=(function(l){return new ue(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function G1(r){const t=ue.fromString(r);return Qt(X1(t),10190,{key:t.toString()}),t}function tm(r,t){return Mm(r.databaseId,t.path)}function Od(r,t){const i=G1(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(Q1(i))}function F1(r,t){return Mm(r.databaseId,t)}function SC(r){const t=G1(r);return t.length===4?ue.emptyPath():Q1(t)}function em(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Q1(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function D0(r,t,i){return{name:tm(r,t),fields:i.value.mapValue.fields}}function AC(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Qt(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Qt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?W.UNKNOWN:j1(y.code);return new ct(b,y.message||"")})(d);i=new q1(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Od(r,a.document.name),c=Si(a.document.updateTime),d=a.document.createTime?Si(a.document.createTime):Tt.min(),g=new Mn({mapValue:{fields:a.document.fields}}),_=Je.newFoundDocument(l,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new Nc(y,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Od(r,a.document),c=a.readTime?Si(a.readTime):Tt.min(),d=Je.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Nc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Od(r,a.document),c=a.removedTargetIds||[];i=new Nc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new dC(l,c),g=a.targetId;i=new B1(g,d)}}return i}function wC(r,t){let i;if(t instanceof Ul)i={update:D0(r,t.key,t.value)};else if(t instanceof P1)i={delete:tm(r,t.key)};else if(t instanceof qr)i={update:D0(r,t.key,t.data),updateMask:VC(t.fieldMask)};else{if(!(t instanceof cC))return yt(16599,{Vt:t.type});i={verify:tm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Qc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Kc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:bC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function RC(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Si(l.updateTime):Si(c);return d.isEqual(Tt.min())&&(d=Si(c)),new oC(d,l.transformResults||[])})(i,t)))):[]}function CC(r,t){return{documents:[F1(r,t.path)]}}function IC(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=F1(r,l);const c=(function(y){if(y.length!==0)return Y1(Ci.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(V){return{field:ka(V.field),direction:DC(V.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Zd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function xC(r){let t=SC(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Qt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(R){const V=K1(R);return V instanceof Ci&&S1(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((V=>(function(G){return new Fc(Ua(G.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(R){let V;return V=typeof R=="object"?R.value:R,oh(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(R){const V=!!R.before,q=R.values||[];return new Gc(q,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(R){const V=!R.before,q=R.values||[];return new Gc(q,V)})(i.endAt)),KR(t,l,d,c,g,"F",_,y)}function NC(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function K1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ua(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ua(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(Ua(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((a=>K1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function DC(r){return _C[r]}function OC(r){return vC[r]}function MC(r){return EC[r]}function ka(r){return{fieldPath:r.canonicalString()}}function Ua(r){return Qe.fromServerFormat(r.fieldPath)}function Y1(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(_0(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NAN"}};if(y0(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(_0(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NAN"}};if(y0(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(i.field),op:OC(i.op),value:i.value}}})(r):r instanceof Ci?(function(i){const a=i.getFilters().map((l=>Y1(l)));return a.length===1?a[0]:{compositeFilter:{op:MC(i.op),filters:a}}})(r):yt(54877,{filter:r})}function VC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function X1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Bs{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),g=Ke.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Bs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class zC{constructor(t){this.yt=t}}function kC(r){const t=xC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jd(t,t.limit,"L"):t}class UC{constructor(){this.Cn=new LC}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Ys.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Ys.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class LC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(ue.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(ue.comparator)).toArray()}}const O0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$1=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn($1,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class $a{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $a(0)}static cr(){return new $a(-1)}}const M0="LruGarbageCollector",PC=1048576;function V0([r,t],[i,a]){const l=Vt(r,i);return l===0?Vt(t,a):l}class jC{constructor(t){this.Ir=t,this.buffer=new Me(V0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();V0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class BC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(M0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){io(i)?st(M0,"Ignoring IndexedDB error during garbage collection: ",i):await no(i)}await this.Vr(3e5)}))}}class qC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(ah.ce);const a=new jC(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(O0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,g,_,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(t,l)))).next((R=>(a=R,g=Date.now(),this.removeTargets(t,a,i)))).next((R=>(c=R,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((R=>(y=Date.now(),Va()<=Mt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${R} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:R}))))}}function HC(r,t){return new qC(r,t)}class GC{constructor(){this.changes=new Br((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class FC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class QC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Tl(a.mutation,l,$n.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=Or();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=dl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Or();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=es();const d=El(),g=(function(){return El()})();return i.forEach(((_,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof qr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Tl(b.mutation,y,b.mutation.getFieldMask(),se.now())):d.set(y.key,$n.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new FC(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=El();let l=new ce(((d,g)=>d-g)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=a.get(_)||$n.empty();b=g.applyToLocalView(y,b),a.set(_,b);const R=(l.get(g.batchId)||zt()).add(_);l=l.insert(g.batchId,R)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,b=_.value,R=D1();b.forEach((V=>{if(!c.has(V)){const q=U1(i.get(V),a.get(V));q!==null&&R.set(V,q),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,R))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):YR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Or());let g=Al,_=c;return d.next((y=>$.forEach(y,((b,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((V=>{_=_.insert(b,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,zt()))).next((b=>({batchId:g,changes:N1(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let l=dl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=dl();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(_=>{const y=(function(R,V){return new uh(V,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((b=>{b.forEach(((R,V)=>{d=d.insert(R,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,Je.newInvalidDocument(b)))}));let g=dl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Tl(b.mutation,y,$n.empty(),se.now()),hh(i,y)&&(g=g.insert(_,y))})),g}))}}class KC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:kC(l.bundledQuery),readTime:Si(l.readTime)}})(i)),$.resolve()}}class YC{constructor(){this.overlays=new ce(gt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Or();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Or(),c=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ce(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=Or(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=Or(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return $.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new fC(i,a));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class XC{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Vm{constructor(){this.Qr=new Me(Ue.$r),this.Ur=new Me(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ue(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ue(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new gt(new ue([])),a=new Ue(i,t),l=new Ue(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new ue([])),a=new Ue(i,t),l=new Ue(i,t+1);let c=zt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ue(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ue{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class $C{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Ue.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new hC(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ue(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Am:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Vt);return i.forEach((l=>{const c=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new gt(c),0);let g=new Me(Vt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Ue(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ue(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class JC{constructor(t){this.ri=t,this.docs=(function(){return new ce(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=es();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=es();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||wR(AR(b),a)<=0||(l.has(b.key)||hh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new ZC(this)}getSize(t){return $.resolve(this.size)}}class ZC extends GC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class WC{constructor(t){this.persistence=t,this.si=new Br((i=>Cm(i)),Im),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Vm,this.targetCount=0,this.ai=$a.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new $a(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class J1{constructor(t,i){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new XC,this.referenceDelegate=t(this),this.Pi=new WC(this),this.indexManager=new UC,this.remoteDocumentCache=(function(l){return new JC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new zC(i),this.Ii=new KC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new YC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new $C(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new tI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class tI extends CR{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new Vm,this.Vi=null}static mi(t){return new zm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=gt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Xc{constructor(t,i){this.persistence=t,this.pi=new Br((a=>NR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=HC(this,i)}static mi(t,i){return new Xc(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Cc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class km{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new km(t,i.fromCache,a,l)}}class eI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class nI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FS()?8:IR(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new eI;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Va()<=Mt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Va()<=Mt.DEBUG&&st("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Va()<=Mt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(i))):$.resolve())}ys(t,i){if(b0(i))return $.resolve(null);let a=bi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Jd(i,null,"F"),a=bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,Jd(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return b0(i)||l.isEqual(Tt.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(Va()<=Mt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(i)),this.vs(t,d,i,SR(l,Al)).next((g=>g)))}))}Ds(t,i){let a=new Me(I1(t));return i.forEach(((l,c)=>{hh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Va()<=Mt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",za(i)),this.ps.getDocumentsMatchingQuery(t,i,Ys.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Um="LocalStore",iI=3e8;class sI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ce(Vt),this.xs=new Br((c=>Cm(c)),Im),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new QC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function rI(r,t,i,a){return new sI(r,t,i,a)}async function Z1(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=zt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function aI(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,b){const R=y.batch,V=R.keys();let q=$.resolve();return V.forEach((G=>{q=q.next((()=>b.getEntry(_,G))).next((tt=>{const Z=y.docVersions.get(G);Qt(Z!==null,48541),tt.version.compareTo(Z)<0&&(R.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),b.addEntry(tt)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(_,R)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=zt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function W1(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function oI(r,t){const i=St(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((b,R)=>{const V=l.get(R);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,R).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,R))));let q=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(R)!==null?q=q.withResumeToken(Ke.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):b.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(b.resumeToken,a)),l=l.insert(R,q),(function(tt,Z,ut){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=iI?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(V,q,b)&&g.push(i.Pi.updateTargetData(c,q))}));let _=es(),y=zt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(lI(c,d,t.documentUpdates).next((b=>{_=b.ks,y=b.qs}))),!a.isEqual(Tt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((R=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function lI(r,t,i){let a=zt(),l=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=es();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):st(Um,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function uI(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Am),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function cI(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Bs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function nm(r,t,i){const a=St(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!io(d))throw d;st(Um,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function z0(r,t,i){const a=St(r);let l=Tt.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const R=St(_),V=R.xs.get(b);return V!==void 0?$.resolve(R.Ms.get(V)):R.Pi.getTargetData(y,b)})(a,d,bi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:zt()))).next((g=>(hI(a,$R(t),g),{documents:g,Qs:c})))))}function hI(r,t,i){let a=r.Os.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class k0{constructor(){this.activeTargetIds=nC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fI{constructor(){this.Mo=new k0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new k0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class dI{Oo(t){}shutdown(){}}const U0="ConnectivityMonitor";class L0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(U0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(U0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tc=null;function im(){return Tc===null?Tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tc++,"0x"+Tc.toString(16)}const Md="RestConnection",mI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===qc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=im(),g=this.zo(t,i.toUriEncodedString());st(Md,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),b=Za(y);return this.Jo(t,g,_,a,b).then((R=>(st(Md,`Received RPC '${t}' ${d}: `,R),R)),(R=>{throw Qa(Md,`RPC '${t}' ${d} failed with error: `,R,"url: ",g,"request:",a),R}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=mI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class pI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class yI extends gI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=im();return new Promise(((g,_)=>{const y=new i1;y.setWithCredentials(!0),y.listenOnce(s1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Rc.NO_ERROR:const R=y.getResponseJson();st(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(R)),g(R);break;case Rc.TIMEOUT:st(Xe,`RPC '${t}' ${d} timed out`),_(new ct(W.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const V=y.getStatus();if(st(Xe,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const G=q?.error;if(G&&G.status&&G.message){const tt=(function(ut){const _t=ut.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(_t)>=0?_t:W.UNKNOWN})(G.status);_(new ct(tt,G.message))}else _(new ct(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct(W.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);st(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=im(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=o1(),g=a1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const b=c.join("");st(Xe,`Creating RPC '${t}' stream ${l}: ${b}`,_);const R=d.createWebChannel(b,_);this.I_(R);let V=!1,q=!1;const G=new pI({Yo:Z=>{q?st(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(V||(st(Xe,`Opening RPC '${t}' stream ${l} transport.`),R.open(),V=!0),st(Xe,`RPC '${t}' stream ${l} sending:`,Z),R.send(Z))},Zo:()=>R.close()}),tt=(Z,ut,_t)=>{Z.listen(ut,(dt=>{try{_t(dt)}catch(J){setTimeout((()=>{throw J}),0)}}))};return tt(R,fl.EventType.OPEN,(()=>{q||(st(Xe,`RPC '${t}' stream ${l} transport opened.`),G.o_())})),tt(R,fl.EventType.CLOSE,(()=>{q||(q=!0,st(Xe,`RPC '${t}' stream ${l} transport closed`),G.a_(),this.E_(R))})),tt(R,fl.EventType.ERROR,(Z=>{q||(q=!0,Qa(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),G.a_(new ct(W.UNAVAILABLE,"The operation could not be completed")))})),tt(R,fl.EventType.MESSAGE,(Z=>{if(!q){const ut=Z.data[0];Qt(!!ut,16349);const _t=ut,dt=_t?.error||_t[0]?.error;if(dt){st(Xe,`RPC '${t}' stream ${l} received error:`,dt);const J=dt.status;let mt=(function(A){const C=Ce[A];if(C!==void 0)return j1(C)})(J),ot=dt.message;mt===void 0&&(mt=W.INTERNAL,ot="Unknown error status: "+J+" with message "+dt.message),q=!0,G.a_(new ct(mt,ot)),R.close()}else st(Xe,`RPC '${t}' stream ${l} received:`,ut),G.u_(ut)}})),tt(g,r1.STAT_EVENT,(Z=>{Z.stat===Fd.PROXY?st(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Fd.NOPROXY&&st(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Vd(){return typeof document<"u"?document:null}function gh(r){return new TC(r,!0)}class tE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const P0="PersistentStream";class eE{constructor(t,i,a,l,c,d,g,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ct(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(P0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(P0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _I extends eE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=AC(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Si(d.readTime):Tt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=em(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=$d(_)?{documents:CC(c,_)}:{query:IC(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=H1(c,d.resumeToken);const y=Zd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=Yc(c,d.snapshotVersion.toTimestamp());const y=Zd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=NC(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=em(this.serializer),i.removeTarget=t,this.q_(i)}}class vI extends eE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=RC(t.writeResults,t.commitTime),a=Si(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=em(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>wC(this.serializer,a)))};this.q_(i)}}class EI{}class TI extends EI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Wd(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(W.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,Wd(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pr="RemoteStore";class SI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Hr(this)&&(st(Pr,"Restarting streams for network reachability change."),await(async function(_){const y=St(_);y.Ea.add(4),await Pl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ph(y)})(this))}))})),this.Ra=new bI(a,l)}}async function ph(r){if(Hr(r))for(const t of r.da)await t(!0)}async function Pl(r){for(const t of r.da)await t(!1)}function nE(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Bm(i)?jm(i):so(i).O_()&&Pm(i,t))}function Lm(r,t){const i=St(r),a=so(i);i.Ia.delete(t),a.O_()&&iE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Hr(i)&&i.Ra.set("Unknown"))}function Pm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}so(r).Y_(t)}function iE(r,t){r.Va.Ue(t),so(r).Z_(t)}function jm(r){r.Va=new yC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),so(r).start(),r.Ra.ua()}function Bm(r){return Hr(r)&&!so(r).x_()&&r.Ia.size>0}function Hr(r){return St(r).Ea.size===0}function sE(r){r.Va=void 0}async function AI(r){r.Ra.set("Online")}async function wI(r){r.Ia.forEach(((t,i)=>{Pm(r,t)}))}async function RI(r,t){sE(r),Bm(r)?(r.Ra.ha(t),jm(r)):r.Ra.set("Unknown")}async function CI(r,t,i){if(r.Ra.set("Online"),t instanceof q1&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(a){st(Pr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await $c(r,a)}else if(t instanceof Nc?r.Va.Ze(t):t instanceof B1?r.Va.st(t):r.Va.tt(t),!i.isEqual(Tt.min()))try{const a=await W1(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),iE(c,_);const R=new Bs(b.target,_,y,b.sequenceNumber);Pm(c,R)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){st(Pr,"Failed to raise snapshot:",a),await $c(r,a)}}async function $c(r,t,i){if(!io(t))throw t;r.Ea.add(1),await Pl(r),r.Ra.set("Offline"),i||(i=()=>W1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Pr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await ph(r)}))}function rE(r,t){return t().catch((i=>$c(r,i,t)))}async function yh(r){const t=St(r),i=Zs(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Am;for(;II(t);)try{const l=await uI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,xI(t,l)}catch(l){await $c(t,l)}aE(t)&&oE(t)}function II(r){return Hr(r)&&r.Ta.length<10}function xI(r,t){r.Ta.push(t);const i=Zs(r);i.O_()&&i.X_&&i.ea(t.mutations)}function aE(r){return Hr(r)&&!Zs(r).x_()&&r.Ta.length>0}function oE(r){Zs(r).start()}async function NI(r){Zs(r).ra()}async function DI(r){const t=Zs(r);for(const i of r.Ta)t.ea(i.mutations)}async function OI(r,t,i){const a=r.Ta.shift(),l=Dm.from(a,t,i);await rE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await yh(r)}async function MI(r,t){t&&Zs(r).X_&&await(async function(a,l){if((function(d){return mC(d)&&d!==W.ABORTED})(l.code)){const c=a.Ta.shift();Zs(a).B_(),await rE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await yh(a)}})(r,t),aE(r)&&oE(r)}async function j0(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),st(Pr,"RemoteStore received new credentials");const a=Hr(i);i.Ea.add(3),await Pl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await ph(i)}async function VI(r,t){const i=St(r);t?(i.Ea.delete(2),await ph(i)):t||(i.Ea.add(2),await Pl(i),i.Ra.set("Unknown"))}function so(r){return r.ma||(r.ma=(function(i,a,l){const c=St(i);return c.sa(),new _I(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:AI.bind(null,r),t_:wI.bind(null,r),r_:RI.bind(null,r),H_:CI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Bm(r)?jm(r):r.Ra.set("Unknown")):(await r.ma.stop(),sE(r))}))),r.ma}function Zs(r){return r.fa||(r.fa=(function(i,a,l){const c=St(i);return c.sa(),new vI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:NI.bind(null,r),r_:MI.bind(null,r),ta:DI.bind(null,r),na:OI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await yh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Pr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class qm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new qm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(r,t){if(ts("AsyncQueue",`${t}: ${r}`),io(r))return new ct(W.UNAVAILABLE,`${t}: ${r}`);throw r}class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=dl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ha;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class B0{constructor(){this.ga=new ce(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ja{constructor(t,i,a,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ja(t,i,Ha.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class zI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class kI{constructor(){this.queries=q0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=q0(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new ct(W.ABORTED,"Firestore shutting down"))}}function q0(){return new Br((r=>C1(r)),ch)}async function UI(r,t){const i=St(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new zI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Hm(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Gm(i)}async function LI(r,t){const i=St(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function PI(r,t){const i=St(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&Gm(i)}function jI(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Gm(r){r.Ca.forEach((t=>{t.next()}))}var sm,H0;(H0=sm||(sm={})).Ma="default",H0.Cache="cache";class BI{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ja(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sm.Cache}}class lE{constructor(t){this.key=t}}class uE{constructor(t){this.key=t}}class qI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=I1(t),this.tu=new Ha(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new B0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,R)=>{const V=l.get(b),q=hh(this.query,R)?R:null,G=!!V&&this.mutatedKeys.has(V.key),tt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Z=!1;V&&q?V.data.isEqual(q.data)?G!==tt&&(a.track({type:3,doc:q}),Z=!0):this.su(V,q)||(a.track({type:2,doc:q}),Z=!0,(_&&this.eu(q,_)>0||y&&this.eu(q,y)<0)&&(g=!0)):!V&&q?(a.track({type:0,doc:q}),Z=!0):V&&!q&&(a.track({type:1,doc:V}),Z=!0,(_||y)&&(g=!0)),Z&&(q?(d=d.add(q),c=tt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,R)=>(function(q,G){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:Z})}};return tt(q)-tt(G)})(b.type,R.type)||this.eu(b.doc,R.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Ja(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new uE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new lE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fm="SyncEngine";class HI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class GI{constructor(t){this.key=t,this.hu=!1}}class FI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Br((g=>C1(g)),ch),this.Iu=new Map,this.Eu=new Set,this.du=new ce(gt.comparator),this.Au=new Map,this.Ru=new Vm,this.Vu={},this.mu=new Map,this.fu=$a.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QI(r,t,i=!0){const a=gE(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await cE(a,t,i,!0),l}async function KI(r,t){const i=gE(r);await cE(i,t,!0,!1)}async function cE(r,t,i,a){const l=await cI(r.localStore,bi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await YI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&nE(r.remoteStore,l),g}async function YI(r,t,i,a,l){r.pu=(R,V,q)=>(async function(tt,Z,ut,_t){let dt=Z.view.ru(ut);dt.Cs&&(dt=await z0(tt.localStore,Z.query,!1).then((({documents:S})=>Z.view.ru(S,dt))));const J=_t&&_t.targetChanges.get(Z.targetId),mt=_t&&_t.targetMismatches.get(Z.targetId)!=null,ot=Z.view.applyChanges(dt,tt.isPrimaryClient,J,mt);return F0(tt,Z.targetId,ot.au),ot.snapshot})(r,R,V,q);const c=await z0(r.localStore,t,!0),d=new qI(t,c.Qs),g=d.ru(c.documents),_=Ll.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,_);F0(r,i,y.au);const b=new HI(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function XI(r,t,i){const a=St(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!ch(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await nm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Lm(a.remoteStore,l.targetId),rm(a,l.targetId)})).catch(no)):(rm(a,l.targetId),await nm(a.localStore,l.targetId,!0))}async function $I(r,t){const i=St(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Lm(i.remoteStore,a.targetId))}async function JI(r,t,i){const a=sx(r);try{const l=await(function(d,g){const _=St(d),y=se.now(),b=g.reduce(((q,G)=>q.add(G.key)),zt());let R,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let G=es(),tt=zt();return _.Ns.getEntries(q,b).next((Z=>{G=Z,G.forEach(((ut,_t)=>{_t.isValidDocument()||(tt=tt.add(ut))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,G))).next((Z=>{R=Z;const ut=[];for(const _t of g){const dt=uC(_t,R.get(_t.key).overlayedDocument);dt!=null&&ut.push(new qr(_t.key,dt,E1(dt.value.mapValue),$i.exists(!0)))}return _.mutationQueue.addMutationBatch(q,y,ut,g)})).next((Z=>{V=Z;const ut=Z.applyToLocalDocumentSet(R,tt);return _.documentOverlayCache.saveOverlays(q,Z.batchId,ut)}))})).then((()=>({batchId:V.batchId,changes:N1(R)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ce(Vt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await jl(a,l.changes),await yh(a.remoteStore)}catch(l){const c=Hm(l,"Failed to persist write");i.reject(c)}}async function hE(r,t){const i=St(r);try{const a=await oI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await jl(i,a,t)}catch(a){await no(a)}}function G0(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=St(d);_.onlineState=g;let y=!1;_.queries.forEach(((b,R)=>{for(const V of R.Sa)V.va(g)&&(y=!0)})),y&&Gm(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function ZI(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ce(gt.comparator);d=d.insert(c,Je.newNoDocument(c,Tt.min()));const g=zt().add(c),_=new mh(Tt.min(),new Map,new ce(Vt),d,g);await hE(a,_),a.du=a.du.remove(c),a.Au.delete(t),Qm(a)}else await nm(a.localStore,t,!1).then((()=>rm(a,t,i))).catch(no)}async function WI(r,t){const i=St(r),a=t.batch.batchId;try{const l=await aI(i.localStore,t);dE(i,a,null),fE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await jl(i,l)}catch(l){await no(l)}}async function tx(r,t,i){const a=St(r);try{const l=await(function(d,g){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,g).next((R=>(Qt(R!==null,37113),b=R.keys(),_.mutationQueue.removeMutationBatch(y,R)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);dE(a,t,i),fE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await jl(a,l)}catch(l){await no(l)}}function fE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function dE(r,t,i){const a=St(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function rm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||mE(r,a)}))}function mE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Lm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Qm(r))}function F0(r,t,i){for(const a of i)a instanceof lE?(r.Ru.addReference(a.key,t),ex(r,a)):a instanceof uE?(st(Fm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||mE(r,a.key)):yt(19791,{wu:a})}function ex(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(st(Fm,"New document in limbo: "+i),r.Eu.add(a),Qm(r))}function Qm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new gt(ue.fromString(t)),a=r.fu.next();r.Au.set(a,new GI(i)),r.du=r.du.insert(i,a),nE(r.remoteStore,new Bs(bi(xm(i.path)),a,"TargetPurposeLimboResolution",ah.ce))}}async function jl(r,t,i){const a=St(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=km.As(_.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const b=St(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>$.forEach(y,(V=>$.forEach(V.Es,(q=>b.persistence.referenceDelegate.addReference(R,V.targetId,q))).next((()=>$.forEach(V.ds,(q=>b.persistence.referenceDelegate.removeReference(R,V.targetId,q)))))))))}catch(R){if(!io(R))throw R;st(Um,"Failed to update sequence numbers: "+R)}for(const R of y){const V=R.targetId;if(!R.fromCache){const q=b.Ms.get(V),G=q.snapshotVersion,tt=q.withLastLimboFreeSnapshotVersion(G);b.Ms=b.Ms.insert(V,tt)}}})(a.localStore,c))}async function nx(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){st(Fm,"User change. New user:",t.toKey());const a=await Z1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ct(W.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await jl(i,a.Ls)}}function ix(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function gE(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=hE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ix.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZI.bind(null,t),t.Pu.H_=PI.bind(null,t.eventManager),t.Pu.yu=jI.bind(null,t.eventManager),t}function sx(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tx.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return rI(this.persistence,new nI,t.initialUser,this.serializer)}Cu(t){return new J1(zm.mi,this.serializer)}Du(t){return new fI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class rx extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof Xc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new BC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new J1((a=>Xc.mi(a,i)),this.serializer)}}class am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>G0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=nx.bind(null,this.syncEngine),await VI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kI})()}createDatastore(t){const i=gh(t.databaseInfo.databaseId),a=(function(c){return new yI(c)})(t.databaseInfo);return(function(c,d,g,_){return new TI(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new SI(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>G0(this.syncEngine,i,0)),(function(){return L0.v()?new L0:new dI})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,b){const R=new FI(l,c,d,g,_,y);return b&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);st(Pr,"RemoteStore shutting down."),a.Ea.add(5),await Pl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}am.provider={build:()=>new am};class ax{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Ws="FirestoreClient";class ox{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(Ws,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(Ws,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Hm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function zd(r,t){r.asyncQueue.verifyOperationInProgress(),st(Ws,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await Z1(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Q0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await lx(r);st(Ws,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>j0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>j0(t.remoteStore,l))),r._onlineComponents=t}async function lx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Ws,"Using user provided OfflineComponentProvider");try{await zd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Qa("Error using user provided cache. Falling back to memory cache: "+i),await zd(r,new Jc)}}else st(Ws,"Using default OfflineComponentProvider"),await zd(r,new rx(void 0));return r._offlineComponents}async function pE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Ws,"Using user provided OnlineComponentProvider"),await Q0(r,r._uninitializedComponentsProvider._online)):(st(Ws,"Using default OnlineComponentProvider"),await Q0(r,new am))),r._onlineComponents}function ux(r){return pE(r).then((t=>t.syncEngine))}async function K0(r){const t=await pE(r),i=t.eventManager;return i.onListen=QI.bind(null,t.syncEngine),i.onUnlisten=XI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=KI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=$I.bind(null,t.syncEngine),i}function yE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Y0=new Map;const _E="firestore.googleapis.com",X0=!0;class $0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_E,this.ssl=X0}else this.host=t.host,this.ssl=t.ssl??X0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PC)throw new ct(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}bR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Km{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new hR;switch(a.type){case"firstParty":return new gR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Y0.get(i);a&&(st("ComponentProvider","Removing Datastore"),Y0.delete(i),a.terminate())})(this),Promise.resolve()}}function cx(r,t,i,a={}){r=qa(r,Km);const l=Za(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(pv(`https://${g}`),yv("Firestore",!0)),c.host!==_E&&c.host!==g&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!zr(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=$e.MOCK_USER;else{y=kS(a.mockUserToken,r._app?.options.projectId);const R=a.mockUserToken.sub||a.mockUserToken.user_id;if(!R)throw new ct(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $e(R)}r._authCredentials=new fR(new u1(y,b))}}class _h{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new _h(this.firestore,t,this._query)}}class Le{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(kl(i,Le._jsonSchema))return new Le(t,a||null,new gt(ue.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Ie("string",Le._jsonSchemaVersion),referencePath:Ie("string")};class Nl extends _h{constructor(t,i,a){super(t,i,xm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new gt(t))}withConverter(t){return new Nl(this.firestore,t,this._path)}}function J0(r,t,...i){if(r=zn(r),arguments.length===1&&(t=bm.newId()),TR("doc","path",t),r instanceof Km){const a=ue.fromString(t,...i);return u0(a),new Le(r,null,new gt(a))}{if(!(r instanceof Le||r instanceof Nl))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ue.fromString(t,...i));return u0(a),new Le(r.firestore,r instanceof Nl?r.converter:null,new gt(a))}}const Z0="AsyncQueue";class W0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tE(this,"async_queue_retry"),this._c=()=>{const a=Vd();a&&st(Z0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Vd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Vd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!io(t))throw t;st(Z0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",tv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=qm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:tv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function tv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function ev(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Zc extends Km{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new W0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new W0(t),this._firestoreClient=void 0,await t}}}function hx(r,t){const i=typeof r=="object"?r:Tv(),a=typeof r=="string"?r:qc,l=dm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=VS("firestore");c&&cx(l,...c)}return l}function vE(r){if(r._terminated)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||fx(r),r._firestoreClient}function fx(r){const t=r._freezeSettings(),i=(function(l,c,d,g){return new MR(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,yE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new ox(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(Ke.fromBase64String(t))}catch(i){throw new ct(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Vn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(kl(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Ie("string",Vn._jsonSchemaVersion),bytes:Ie("string")};class Ym{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class EE{constructor(t){this._methodName=t}}class Ai{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(t){if(kl(t,Ai._jsonSchema))return new Ai(t.latitude,t.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:Ie("string",Ai._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(kl(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new wi(t.vectorValues);throw new ct(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Ie("string",wi._jsonSchemaVersion),vectorValues:Ie("object")};const dx=/^__.*__$/;class mx{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new qr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ul(t,this.data,i,this.fieldTransforms)}}function TE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class Xm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Xm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(TE(this.Ac)&&dx.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class gx{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||gh(t)}Cc(t,i,a,l=!1){return new Xm({Ac:t,methodName:i,Dc:a,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function px(r){const t=r._freezeSettings(),i=gh(r._databaseId);return new gx(r._databaseId,!!t.ignoreUndefinedProperties,i)}function yx(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);wE("Data must be an object, but it was:",d,a);const g=SE(a,d);let _,y;if(c.merge)_=new $n(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const R of c.mergeFields){const V=_x(t,R,i);if(!d.contains(V))throw new ct(W.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);Ex(b,V)||b.push(V)}_=new $n(b),y=d.fieldTransforms.filter((R=>_.covers(R.field)))}else _=null,y=d.fieldTransforms;return new mx(new Mn(g),_,y)}function bE(r,t){if(AE(r=zn(r)))return wE("Unsupported field value:",t,r),SE(r,t);if(r instanceof EE)return(function(a,l){if(!TE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=bE(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=zn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return iC(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=se.fromDate(a);return{timestampValue:Yc(l.serializer,c)}}if(a instanceof se){const c=new se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Yc(l.serializer,c)}}if(a instanceof Ai)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Vn)return{bytesValue:H1(l.serializer,a._byteString)};if(a instanceof Le){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Mm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof wi)return(function(d,g){return{mapValue:{fields:{[_1]:{stringValue:v1},[Hc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Nm(g.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Sm(a)}`)})(r,t)}function SE(r,t){const i={};return f1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jr(r,((a,l)=>{const c=bE(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function AE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Ai||r instanceof Vn||r instanceof Le||r instanceof EE||r instanceof wi)}function wE(r,t,i){if(!AE(i)||!c1(i)){const a=Sm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function _x(r,t,i){if((t=zn(t))instanceof Ym)return t._internalPath;if(typeof t=="string")return RE(r,t);throw Wc("Field path arguments must be of type string or ",r,!1,void 0,i)}const vx=new RegExp("[~\\*/\\[\\]]");function RE(r,t,i){if(t.search(vx)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ym(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Wc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ct(W.INVALID_ARGUMENT,g+r+_)}function Ex(r,t){return r.some((i=>i.isEqual(t)))}class CE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Tx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(IE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Tx extends CE{data(){return super.data()}}function IE(r,t){return typeof t=="string"?RE(r,t):t instanceof Ym?t._internalPath:t._delegate._internalPath}function bx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sx{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes($s(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return jr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Hc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new wi(i)}convertGeoPoint(t){return new Ai(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=lh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const i=Xs(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ue.fromString(t);Qt(X1(a),9688,{name:t});const l=new Rl(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Ax(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class gl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vr extends CE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(IE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Vr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Vr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vr._jsonSchema={type:Ie("string",Vr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Dc extends Vr{data(t={}){return super.data(t)}}class Ga{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new gl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Dc(this._firestore,this._userDataWriter,a.key,a,new gl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Dc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new gl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Dc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new gl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:wx(g.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function wx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:Ie("string",Ga._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class xE extends Sx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function Rx(r,t,i){r=qa(r,Le);const a=qa(r.firestore,Zc),l=Ax(r.converter,t);return Ix(a,[yx(px(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,$i.none())])}function Cx(r,...t){r=zn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||ev(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ev(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,g;if(r instanceof Le)d=qa(r.firestore,Zc),g=xm(r._key.path),c={next:_=>{t[a]&&t[a](xx(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=qa(r,_h);d=qa(_.firestore,Zc),g=_._query;const y=new xE(d);c={next:b=>{t[a]&&t[a](new Ga(d,y,_,b))},error:t[a+1],complete:t[a+2]},bx(r._query)}return(function(y,b,R,V){const q=new ax(V),G=new BI(b,q,R);return y.asyncQueue.enqueueAndForget((async()=>UI(await K0(y),G))),()=>{q.Nu(),y.asyncQueue.enqueueAndForget((async()=>LI(await K0(y),G)))}})(vE(d),g,l,c)}function Ix(r,t){return(function(a,l){const c=new Mr;return a.asyncQueue.enqueueAndForget((async()=>JI(await ux(a),l,c))),c.promise})(vE(r),t)}function xx(r,t,i){const a=i.docs.get(t._key),l=new xE(r);return new Vr(r,l,t._key,a,new gl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){eo=l})(Wa),Fa(new kr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Zc(new dR(a.getProvider("auth-internal")),new pR(d,a.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(y.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Gs(r0,a0,t),Gs(r0,a0,"esm2020")})();const $m=()=>Math.random().toString(36).substr(2,9),Ki=r=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(r),Nx=[{class:"bg-blue-500",name:"Blu"},{class:"bg-emerald-500",name:"Smeraldo"},{class:"bg-purple-500",name:"Viola"},{class:"bg-rose-500",name:"Rosa"},{class:"bg-amber-500",name:"Ambra"},{class:"bg-indigo-500",name:"Indaco"},{class:"bg-zinc-600",name:"Neutro"}],om={user:w.jsx(Oc,{size:20}),baby:w.jsx(wb,{size:20}),users:w.jsx(uv,{size:20}),heart:w.jsx(Xb,{size:20}),brain:w.jsx(um,{size:20}),message:w.jsx(iS,{size:20}),zap:w.jsx(wS,{size:20}),file:w.jsx(av,{size:20}),smile:w.jsx(dS,{size:20}),home:w.jsx(Jb,{size:20}),sparkles:w.jsx(gS,{size:20})},th=(r,t)=>om[r]||t,NE=({selected:r,onSelect:t})=>w.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.keys(om).map(i=>w.jsx("button",{onClick:()=>t(i),type:"button",className:`p-2 rounded-lg transition-all ${r===i?"bg-indigo-600 text-white shadow-md scale-110":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"}`,children:nv.cloneElement(om[i],{size:18})},i))}),DE=({selected:r,onSelect:t})=>w.jsx("div",{className:"flex gap-2 items-center h-9 mt-2 flex-wrap",children:Nx.map(i=>w.jsx("button",{onClick:()=>t(i.class),title:i.name,className:`w-6 h-6 rounded-full ${i.class} ${r===i.class?"ring-2 ring-white scale-110 shadow-lg":"opacity-40 hover:opacity-100"} transition-all`},i.class))}),Dx=(r,t)=>{const[i,a]=It.useState(null),[l,c]=It.useState(null),[d,g]=It.useState(()=>localStorage.getItem("psy_firebase_config")||""),[_,y]=It.useState(()=>localStorage.getItem("psy_sync_id")||"mio-studio"),[b,R]=It.useState("offline");return It.useEffect(()=>{localStorage.setItem("psy_sync_id",_)},[_]),It.useEffect(()=>{if(d)try{const q=JSON.parse(d),G=Ev(q),tt=uR(G);a(tt),c(hx(G)),Q2(tt).catch(Z=>{console.error("Auth Error",Z),R("error")})}catch(q){console.error("Config Error",q),R("error")}},[d]),It.useEffect(()=>{if(!i||!l||!_)return;const q=Z2(i,G=>{if(G){R("connecting");const tt=Cx(J0(l,"backups",_),Z=>{if(Z.exists()){const ut=Z.data();JSON.stringify(ut)!==JSON.stringify(r)&&(console.log("Cloud update received"),t(ut))}R("synced")},Z=>{console.error("Sync Data Error",Z),R("error")});return()=>tt()}else R("offline")});return()=>q()},[i,l,_]),{setConfig:g,config:d,syncId:_,setSyncId:y,status:b,saveToCloud:async q=>{if(!(!i?.currentUser||!l||b!=="synced"))try{await Rx(J0(l,"backups",_),q)}catch(G){console.error("Upload Error",G),R("error")}}}},Ox=({types:r,setTypes:t,firebaseHook:i,onExport:a,onImport:l})=>{const[c,d]=It.useState("types"),[g,_]=It.useState({name:"",price:60,color:"bg-blue-500",icon:"brain"}),[y,b]=It.useState(null),R=It.useRef(null),V=()=>{if(!g.name)return;const G=y?r.map(tt=>tt.id===y?{...g,id:y}:tt):[...r,{...g,id:$m()}];t(G),_({name:"",price:60,color:"bg-blue-500",icon:"brain"}),b(null)},q=G=>{G.target.files&&G.target.files[0]&&l(G.target.files[0])};return w.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in",children:[w.jsxs("div",{className:"flex gap-2 bg-zinc-800 p-1 rounded-xl border border-zinc-700",children:[w.jsx("button",{onClick:()=>d("types"),className:`flex-1 py-2 text-sm rounded-lg font-medium transition-all ${c==="types"?"bg-zinc-600 text-white shadow":"text-zinc-400 hover:text-zinc-200"}`,children:"Tipi Prestazioni"}),w.jsx("button",{onClick:()=>d("data"),className:`flex-1 py-2 text-sm rounded-lg font-medium transition-all ${c==="data"?"bg-indigo-600 text-white shadow":"text-zinc-400 hover:text-zinc-200"}`,children:"Gestione Dati"})]}),c==="types"&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"bg-zinc-800 p-6 rounded-xl border border-zinc-700 shadow-lg",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("h3",{className:"text-lg font-bold text-zinc-200 flex items-center gap-2",children:[w.jsx(yS,{size:18})," ",y?"Modifica":"Nuova"]}),y&&w.jsx("button",{onClick:()=>{b(null),_({name:"",price:60,color:"bg-blue-500",icon:"brain"})},className:"text-xs text-zinc-400 underline",children:"Annulla"})]}),w.jsxs("div",{className:"grid gap-4",children:[w.jsx("input",{type:"text",className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 text-sm text-zinc-200 outline-none focus:border-indigo-500",placeholder:"Nome",value:g.name,onChange:G=>_({...g,name:G.target.value})}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsx(NE,{selected:g.icon,onSelect:G=>_({...g,icon:G})}),w.jsx(DE,{selected:g.color,onSelect:G=>_({...g,color:G})})]}),w.jsxs("div",{className:"relative",children:[w.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500 text-sm",children:""}),w.jsx("input",{type:"number",className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 pl-7 text-sm text-zinc-200",value:g.price,onChange:G=>_({...g,price:parseFloat(G.target.value)||0})})]}),w.jsx("button",{onClick:V,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white p-2 rounded-lg font-bold transition-colors",children:y?"Aggiorna":"Aggiungi"})]})]}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:r.map(G=>w.jsxs("div",{className:"bg-zinc-800 p-4 rounded-xl border border-zinc-700 flex justify-between items-center",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:`w-8 h-8 rounded-full ${G.color} flex items-center justify-center text-white`,children:th(G.icon,w.jsx(um,{size:16}))}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-zinc-200 text-sm",children:G.name}),w.jsx("p",{className:"text-xs text-zinc-400 font-mono",children:Ki(G.price)})]})]}),w.jsxs("div",{className:"flex gap-1",children:[w.jsx("button",{onClick:()=>{b(G.id),_(G),window.scrollTo({top:0,behavior:"smooth"})},className:"p-2 text-zinc-500 hover:text-amber-400",children:w.jsx(ov,{size:16})}),w.jsx("button",{onClick:()=>{confirm("Eliminare?")&&t(r.filter(tt=>tt.id!==G.id))},className:"p-2 text-zinc-500 hover:text-red-400",children:w.jsx(cm,{size:16})})]})]},G.id))})]}),c==="data"&&w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"bg-zinc-800 p-6 rounded-xl border border-zinc-700 shadow-lg space-y-4",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("h3",{className:"text-lg font-bold text-indigo-400 flex items-center gap-2",children:[w.jsx(rv,{size:20})," Cloud Sync (Firebase)"]}),w.jsxs("div",{className:`flex items-center gap-2 text-xs px-2 py-1 rounded-full border ${i.status==="synced"?"border-emerald-500/50 bg-emerald-500/10 text-emerald-400":"border-zinc-600 bg-zinc-900 text-zinc-400"}`,children:[w.jsx("div",{className:`w-2 h-2 rounded-full ${i.status==="synced"?"bg-emerald-500 animate-pulse":i.status==="error"?"bg-rose-500":"bg-zinc-500"}`}),i.status==="synced"?"Attivo":i.status==="error"?"Errore":"Offline"]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-xs text-zinc-400 font-bold block",children:"1. Configurazione JSON"}),w.jsx("textarea",{className:"w-full bg-zinc-900 border border-zinc-600 rounded p-3 text-xs text-zinc-300 font-mono h-20 outline-none focus:border-indigo-500 resize-none",placeholder:'Incolla qui il JSON di Firebase: { "apiKey": "...", ... }',value:i.config,onChange:G=>{i.setConfig(G.target.value),localStorage.setItem("psy_firebase_config",G.target.value)}})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-xs text-zinc-400 font-bold block",children:"2. ID Sincronizzazione (Segreto)"}),w.jsx("div",{className:"flex gap-2",children:w.jsxs("div",{className:"relative flex-1",children:[w.jsx(Wb,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500"}),w.jsx("input",{type:"text",className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 pl-9 text-sm text-white focus:border-indigo-500 outline-none",placeholder:"es. StudioRossi2025",value:i.syncId,onChange:G=>i.setSyncId(G.target.value)})]})}),w.jsx("p",{className:"text-[10px] text-zinc-500",children:"Usa lo stesso ID su tutti i tuoi dispositivi per condividere i dati. Chi conosce questo ID pu accedere ai dati se ha la configurazione."})]})]}),w.jsxs("div",{className:"bg-zinc-800 p-6 rounded-xl border border-zinc-700 shadow-lg space-y-4",children:[w.jsxs("h3",{className:"text-lg font-bold text-emerald-400 flex items-center gap-2",children:[w.jsx(Kb,{size:20})," Backup Locale"]}),w.jsx("p",{className:"text-xs text-zinc-400",children:"Salva o ripristina i dati manualmente tramite file JSON."}),w.jsxs("div",{className:"flex gap-3",children:[w.jsxs("button",{onClick:a,className:"flex-1 bg-zinc-700 hover:bg-zinc-600 text-white p-3 rounded-lg flex items-center justify-center gap-2 transition-colors font-medium",children:[w.jsx(qb,{size:18})," Esporta Dati"]}),w.jsxs("button",{onClick:()=>R.current.click(),className:"flex-1 bg-zinc-700 hover:bg-zinc-600 text-white p-3 rounded-lg flex items-center justify-center gap-2 transition-colors font-medium",children:[w.jsx(ES,{size:18})," Importa Dati"]}),w.jsx("input",{type:"file",ref:R,onChange:q,className:"hidden",accept:".json"})]})]})]})]})},Mx=({patients:r,setPatients:t,sessions:i,isGrid:a})=>{const[l,c]=It.useState({name:"",icon:"user",color:"bg-zinc-600",notes:""}),[d,g]=It.useState(null),[_,y]=It.useState(!1),[b,R]=It.useState(""),[V,q]=It.useState(""),[G,tt]=It.useState(""),[Z,ut]=It.useState(!1),_t=()=>{l.name&&(d?(t(r.map(S=>S.id===d?{...S,...l}:S)),g(null)):t([...r,{id:$m(),...l,createdAt:new Date().toISOString()}]),c({name:"",icon:"user",color:"bg-zinc-600",notes:""}),y(!1))},dt=S=>{c({name:S.name,icon:S.icon||"user",color:S.color||"bg-zinc-600",notes:S.notes||""}),g(S.id),y(!0)},J=S=>{confirm("Cancellare tutto?")&&(t(r.filter(A=>A.id!==S)),d===S&&(g(null),y(!1)))},mt=S=>{const A=new Date,C=V?new Date(V):null;C&&C.setHours(0,0,0,0);const M=G?new Date(G):null;M&&M.setHours(23,59,59,999);let N=0,k=0,I=0;return i.filter(Ft=>Ft.patientId===S).forEach(Ft=>{const le=new Date(Ft.date);let F=!0;C&&le<C&&(F=!1),M&&le>M&&(F=!1),F&&(le<=A&&(N+=Ft.price||0,I++),k+=Ft.amountPaid||0)}),{balance:k-N,count:I,revenue:k}},ot=r.filter(S=>S.name.toLowerCase().includes(b.toLowerCase()));return w.jsxs("div",{className:"h-full flex flex-col gap-4 relative",children:[w.jsxs("div",{className:"shrink-0 flex gap-2",children:[w.jsxs("div",{className:"flex-1 bg-zinc-800 rounded-xl border border-zinc-700 flex items-center px-3",children:[w.jsx(uS,{size:18,className:"text-zinc-500"}),w.jsx("input",{className:"bg-transparent border-none p-3 w-full text-zinc-200 outline-none text-sm placeholder-zinc-500",placeholder:"Cerca...",value:b,onChange:S=>R(S.target.value)})]}),w.jsx("button",{onClick:()=>{y(!_),g(null),c({name:"",icon:"user",color:"bg-zinc-600",notes:""})},className:`py-3 px-4 rounded-xl flex items-center justify-center transition-all shadow-lg ${_?"bg-zinc-700 text-zinc-300":"bg-emerald-600 text-white"}`,children:_?w.jsx(kd,{size:20}):w.jsx(lv,{size:20})}),w.jsx("button",{onClick:()=>ut(!Z),className:`py-3 px-4 rounded-xl flex items-center justify-center border transition-all ${Z||V?"bg-indigo-600 text-white border-indigo-500":"bg-zinc-800 text-zinc-400 border-zinc-700"}`,children:w.jsx(Fb,{size:20})})]}),(Z||V)&&w.jsxs("div",{className:"shrink-0 bg-zinc-800 p-4 rounded-xl border border-zinc-700 flex gap-2 items-center",children:[w.jsx(Nb,{size:14,className:"text-indigo-400"}),w.jsx("input",{type:"date",className:"bg-zinc-900 border border-zinc-600 rounded-lg p-2 text-xs text-white flex-1",value:V,onChange:S=>q(S.target.value)}),w.jsx("span",{className:"text-zinc-500",children:"-"}),w.jsx("input",{type:"date",className:"bg-zinc-900 border border-zinc-600 rounded-lg p-2 text-xs text-white flex-1",value:G,onChange:S=>tt(S.target.value)}),(V||G)&&w.jsx("button",{onClick:()=>{q(""),tt(""),ut(!1)},className:"text-zinc-500 hover:text-white ml-2",children:w.jsx(kd,{size:16})})]}),_&&w.jsxs("div",{className:"shrink-0 bg-zinc-800 p-6 rounded-xl border border-zinc-700 shadow-lg animate-fade-in",children:[w.jsx("h3",{className:"text-lg font-bold mb-4 text-emerald-400",children:d?"Modifica":"Nuovo"}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("input",{type:"text",className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 text-sm text-zinc-200 outline-none focus:border-emerald-500",placeholder:"Nome",value:l.name,onChange:S=>c({...l,name:S.target.value})}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-zinc-400 mb-1 block",children:"Icona"}),w.jsx(NE,{selected:l.icon,onSelect:S=>c({...l,icon:S})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-zinc-400 mb-1 block",children:"Colore"}),w.jsx(DE,{selected:l.color,onSelect:S=>c({...l,color:S})})]})]}),w.jsx("textarea",{className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 text-sm text-zinc-200 h-20 resize-none",placeholder:"Note...",value:l.notes,onChange:S=>c({...l,notes:S.target.value})}),w.jsx("button",{onClick:_t,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white p-2 rounded-lg font-bold",children:d?"Aggiorna":"Salva"})]})]}),w.jsx("div",{className:`flex-1 overflow-y-auto pb-24 ${a?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 auto-rows-min":"space-y-3"}`,children:ot.map(S=>{const A=mt(S.id);return w.jsxs("div",{className:`bg-zinc-800 p-4 rounded-xl border flex flex-col gap-3 transition-all shadow-sm ${d===S.id?"border-amber-500 ring-1 ring-amber-500/20":"border-zinc-700 hover:bg-zinc-750"}`,children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[w.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold border border-zinc-600 shrink-0 shadow-lg ${S.color||"bg-zinc-700"}`,children:th(S.icon,w.jsx(Oc,{size:20}))}),w.jsxs("div",{className:"min-w-0",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("p",{className:"font-bold text-zinc-200 truncate",children:S.name}),S.notes&&w.jsx(av,{size:14,className:"text-zinc-500 shrink-0"})]}),w.jsxs("p",{className:"text-[10px] text-zinc-400 truncate",children:["Dal ",new Date(S.createdAt).toLocaleDateString()]})]})]}),w.jsxs("div",{className:"flex gap-1",children:[w.jsx("button",{onClick:()=>dt(S),className:"p-1.5 text-zinc-500 hover:text-amber-400 hover:bg-zinc-700 rounded-lg",children:w.jsx(ov,{size:16})}),w.jsx("button",{onClick:()=>J(S.id),className:"p-1.5 text-zinc-500 hover:text-red-400 hover:bg-zinc-700 rounded-lg",children:w.jsx(cm,{size:16})})]})]}),w.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-zinc-700/50",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-[10px] text-zinc-500 uppercase",children:"Sedute"}),w.jsx("p",{className:"font-bold text-zinc-200 text-sm",children:A.count})]}),w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-[10px] text-zinc-500 uppercase",children:"Incasso"}),w.jsx("p",{className:"font-bold text-emerald-400 text-sm",children:Ki(A.revenue)})]}),w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-[10px] text-zinc-500 uppercase",children:"Bilancio"}),w.jsx("p",{className:`font-bold text-sm ${A.balance<-.1?"text-rose-400":A.balance>.1?"text-emerald-400":"text-zinc-400"}`,children:Math.abs(A.balance)<.1?"OK":Ki(A.balance)})]})]})]},S.id)})})]})},Vx=({sessions:r,setSessions:t,patients:i,types:a,isGrid:l})=>{const[c,d]=It.useState(!1),[g,_]=It.useState(null),[y,b]=It.useState({patientId:"",typeId:"",date:"",price:0,repeatCount:1,repeatWeeks:1,notes:""}),[R,V]=It.useState("upcoming"),q=(J,mt,ot)=>{if(!J)return mt;const S=new Date(ot),A=new Date;let C=0;return r.filter(M=>M.patientId===J).forEach(M=>{const N=new Date(M.date);M.id!==g?.id&&N<=A&&N<=S&&(C+=(M.price||0)-(M.amountPaid||0))}),mt+C},G=J=>{const mt=a.find(ot=>ot.id===J);b({...y,typeId:J,price:mt?mt.price:0})},tt=()=>{if(!y.patientId||!y.date||!y.typeId)return;const J=[],mt=new Date(y.date),ot=Math.max(1,parseInt(y.repeatCount)||1),S=Math.max(1,parseInt(y.repeatWeeks)||1);for(let A=0;A<ot;A++){const C=new Date(mt);C.setDate(mt.getDate()+A*S*7),J.push({id:g&&A===0?g.id:$m(),patientId:y.patientId,typeId:y.typeId,date:C.toISOString(),price:y.price,amountPaid:g&&A===0?g.amountPaid:0,isPaid:g&&A===0?g.isPaid:!1,notes:y.notes})}if(g){let A=r.map(C=>C.id===g.id?J[0]:C);ot>1&&(A=[...A,...J.slice(1)]),t(A)}else t([...r,...J]);Z()},Z=()=>{d(!1),_(null),b({patientId:"",typeId:"",date:"",price:0,repeatCount:1,repeatWeeks:1,notes:""})},ut=J=>{_(J),b({patientId:J.patientId,typeId:J.typeId,date:J.date,price:J.price,repeatCount:1,repeatWeeks:1,notes:J.notes||""}),d(!0)},_t=J=>{if(!g)return;const mt=parseFloat(J)||0;_(ot=>({...ot,amountPaid:mt,isPaid:mt>=ot.price})),t(ot=>ot.map(S=>S.id===g.id?{...S,amountPaid:mt,isPaid:mt>=S.price}:S))},dt=It.useMemo(()=>{let J=[...r];const mt=new Date().toISOString();return R==="upcoming"&&(J=J.filter(ot=>ot.date>=mt)),R==="past"&&(J=J.filter(ot=>ot.date<mt)),J.sort((ot,S)=>new Date(ot.date)-new Date(S.date))},[r,R]);return w.jsxs("div",{className:"h-full flex flex-col relative",children:[w.jsxs("div",{className:"flex justify-between items-center mb-2 sticky top-0 z-20 bg-zinc-900 py-2",children:[w.jsx("div",{className:"flex bg-zinc-800 p-1 rounded-lg border border-zinc-700",children:["upcoming","past","all"].map(J=>w.jsx("button",{onClick:()=>V(J),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${R===J?"bg-zinc-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,children:J==="upcoming"?"Future":J==="past"?"Passate":"Tutte"},J))}),w.jsxs("button",{onClick:()=>{_(null),b({patientId:"",typeId:"",date:"",price:0,repeatCount:1,repeatWeeks:1,notes:""}),d(!0)},className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-lg shadow-indigo-500/20 text-sm font-bold transition-all",children:[w.jsx(lv,{size:18})," ",w.jsx("span",{className:"hidden sm:inline",children:"Nuova"})]})]}),w.jsxs("div",{className:`flex-1 overflow-y-auto pb-24 ${l?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 auto-rows-min":"space-y-3"}`,children:[dt.length===0&&w.jsxs("div",{className:"text-center py-20 flex flex-col items-center opacity-50 col-span-full",children:[w.jsx(sv,{size:48,className:"mb-4 text-zinc-600"}),w.jsx("p",{className:"text-zinc-400",children:"Nessuna seduta trovata."})]}),dt.map(J=>{const mt=i.find(C=>C.id===J.patientId),ot=a.find(C=>C.id===J.typeId),S=new Date(J.date)<new Date,A=th(ot?.icon,w.jsx(um,{size:20}));return w.jsx("div",{onClick:()=>ut(J),className:`relative p-4 rounded-xl border transition-all cursor-pointer group ${J.isPaid?"bg-zinc-800/40 border-zinc-800 opacity-60 hover:opacity-100":S?"bg-rose-900/10 border-rose-900/30 hover:border-rose-500/50":"bg-zinc-800 border-zinc-700 hover:border-indigo-500/50 hover:shadow-lg"}`,children:w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("div",{className:`flex flex-col items-center justify-center w-14 h-14 rounded-xl border ${J.isPaid?"bg-zinc-800 border-zinc-700 text-zinc-500":S?"bg-rose-950/30 border-rose-900/50 text-rose-400":"bg-indigo-950/30 border-indigo-900/50 text-indigo-400"}`,children:[w.jsx("span",{className:"text-[10px] uppercase font-bold leading-none",children:new Date(J.date).toLocaleDateString("it-IT",{weekday:"short"})}),w.jsx("span",{className:"text-xl font-bold leading-none mt-1",children:new Date(J.date).getDate()})]}),w.jsxs("div",{children:[w.jsxs("h4",{className:`font-bold text-lg ${J.isPaid?"text-zinc-400":"text-zinc-200"} flex items-center gap-2`,children:[mt?th(mt.icon,w.jsx(Oc,{size:16})):w.jsx(Oc,{size:16})," ",mt?.name||"Sconosciuto"]}),w.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[w.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-full text-white font-medium shadow-sm flex items-center gap-1 ${ot?.color||"bg-zinc-600"}`,children:[nv.cloneElement(A,{size:10})," ",ot?.name||"Generico"]}),w.jsxs("span",{className:"text-[10px] flex items-center gap-1 text-zinc-400 bg-zinc-900/50 px-2 rounded-full border border-zinc-700",children:[w.jsx(Ub,{size:10})," ",new Date(J.date).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})]})]})]})]}),w.jsxs("div",{className:"text-right min-w-[80px]",children:[w.jsx("div",{className:"font-mono font-bold text-zinc-300",children:Ki(J.price)}),w.jsx("div",{className:"mt-1",children:J.isPaid?w.jsxs("span",{className:"flex items-center gap-1 text-emerald-500 text-[10px] font-bold justify-end",children:[w.jsx(zb,{size:12})," Saldato"]}):w.jsxs("span",{className:`flex items-center gap-1 text-[10px] font-bold justify-end ${S?"text-rose-400":"text-amber-400"}`,children:[w.jsx(Cb,{size:12})," ",J.amountPaid>0?Ki(J.amountPaid):"Da Saldare"]})})]})]})},J.id)})]}),c&&w.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in",children:w.jsxs("div",{className:"bg-zinc-900 w-full max-w-lg rounded-2xl border border-zinc-700 shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[w.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-900",children:[w.jsx("h3",{className:"font-bold text-lg flex items-center gap-2 text-zinc-200",children:g?"Dettagli":"Nuova Seduta"}),w.jsx("button",{onClick:Z,className:"text-zinc-500 hover:text-white",children:w.jsx(kd,{size:24})})]}),w.jsxs("div",{className:"p-6 overflow-y-auto space-y-6",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-zinc-400 mb-1 block uppercase font-bold",children:"Paziente"}),w.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-white outline-none",value:y.patientId,onChange:J=>b({...y,patientId:J.target.value}),children:[w.jsx("option",{value:"",children:"Seleziona..."}),i.map(J=>w.jsx("option",{value:J.id,children:J.name},J.id))]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-zinc-400 mb-1 block uppercase font-bold",children:"Data"}),w.jsx("input",{type:"datetime-local",className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-2.5 text-white text-sm",value:y.date?y.date.slice(0,16):"",onChange:J=>b({...y,date:J.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-zinc-400 mb-1 block uppercase font-bold",children:"Tipo"}),w.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-2.5 text-white text-sm",value:y.typeId,onChange:J=>G(J.target.value),children:[w.jsx("option",{value:"",children:"Seleziona..."}),a.map(J=>w.jsx("option",{value:J.id,children:J.name},J.id))]})]})]})]}),w.jsxs("div",{className:"bg-zinc-800 p-4 rounded-xl border border-zinc-700 flex gap-4 items-end",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"text-xs text-zinc-500 block mb-1",children:"Ripetizione"}),w.jsxs("select",{className:"w-full bg-zinc-900 border border-zinc-600 rounded-lg p-2 text-sm text-zinc-200",value:y.repeatWeeks,onChange:J=>b({...y,repeatWeeks:parseInt(J.target.value)}),children:[w.jsx("option",{value:1,children:"Settimanale"}),w.jsx("option",{value:2,children:"Bisettimanale"}),w.jsx("option",{value:4,children:"Mensile"})]})]}),w.jsxs("div",{className:"w-24",children:[w.jsx("label",{className:"text-xs text-zinc-500 block mb-1",children:"Volte"}),w.jsx("input",{type:"number",min:"1",max:"52",className:"w-full bg-zinc-900 border border-zinc-600 rounded-lg p-2 text-sm text-center text-zinc-200",value:y.repeatCount,onChange:J=>b({...y,repeatCount:parseInt(J.target.value)})})]})]}),y.patientId&&y.typeId&&w.jsxs("div",{className:"bg-zinc-800 p-4 rounded-xl border border-zinc-700 relative overflow-hidden",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 relative z-10",children:[w.jsxs("h4",{className:"text-sm font-bold text-emerald-400 uppercase tracking-wide flex gap-2 items-center",children:[w.jsx(jb,{size:16})," Cassa"]}),w.jsxs("div",{className:"text-right",children:[w.jsx("div",{className:"text-xs text-zinc-400",children:"Prezzo"}),w.jsx("div",{className:"font-mono text-white font-bold",children:Ki(y.price)})]})]}),(()=>{const J=q(y.patientId,y.price,y.date||new Date),mt=J-y.price,ot=mt>.1,S=mt<-.1;return w.jsxs("div",{className:"space-y-4 relative z-10",children:[(ot||S)&&w.jsxs("div",{className:`text-xs p-3 rounded-lg flex items-start gap-3 border ${ot?"bg-rose-950/30 border-rose-900/50 text-rose-200":"bg-emerald-950/30 border-emerald-900/50 text-emerald-200"}`,children:[w.jsx(Mb,{size:16,className:"mt-0.5 shrink-0"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold mb-1",children:"Situazione"}),"Il paziente ha un ",ot?"debito":"credito"," di ",Ki(Math.abs(mt)),".",w.jsxs("div",{className:"mt-1 opacity-90",children:["Consigliato: ",w.jsx("strong",{className:"text-sm underline",children:Ki(J)})]})]})]}),g&&w.jsxs("div",{className:"pt-4 border-t border-zinc-700",children:[w.jsx("label",{className:"text-xs text-zinc-400 mb-2 block uppercase font-bold",children:"Incasso"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:()=>_t(J),className:"flex-1 bg-emerald-600/10 hover:bg-emerald-600 text-emerald-400 hover:text-white border border-emerald-600/30 py-2.5 rounded-lg font-bold flex flex-col items-center",children:[w.jsx("span",{children:"Saldo Totale"}),w.jsx("span",{className:"text-xs opacity-70",children:Ki(J)})]}),w.jsxs("div",{className:"relative w-1/3",children:[w.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500 text-sm",children:""}),w.jsx("input",{type:"number",className:"w-full bg-zinc-900 border border-zinc-600 rounded-lg py-2.5 pl-7 pr-2 text-right text-white font-mono font-bold outline-none h-full",value:g.amountPaid||"",onChange:A=>_t(A.target.value),placeholder:"0"})]})]})]})]})})()]}),w.jsx("textarea",{className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-sm text-zinc-200 h-24 outline-none resize-none",placeholder:"Note cliniche...",value:y.notes,onChange:J=>b({...y,notes:J.target.value})})]}),w.jsxs("div",{className:"p-4 border-t border-zinc-800 bg-zinc-900 flex justify-end gap-3",children:[g&&w.jsx("button",{onClick:()=>{confirm("Eliminare?")&&(t(r.filter(J=>J.id!==g.id)),Z())},className:"mr-auto text-rose-400 hover:text-rose-300 px-3 py-2 rounded-lg text-sm",children:w.jsx(cm,{size:16})}),w.jsx("button",{onClick:Z,className:"px-4 py-2 text-zinc-400 hover:text-white text-sm",children:"Annulla"}),w.jsxs("button",{onClick:tt,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-2 rounded-lg font-bold text-sm",children:[w.jsx(oS,{size:16})," Salva"]})]})]})})]})};function zx(){const[r,t]=It.useState("calendar"),[i,a]=It.useState(window.innerWidth>768),[l,c]=It.useState(()=>{try{return JSON.parse(localStorage.getItem("psy_patients"))||[]}catch{return[]}}),[d,g]=It.useState(()=>{try{return JSON.parse(localStorage.getItem("psy_types"))||[{id:"t1",name:"Seduta Individuale",price:60,color:"bg-blue-500",icon:"brain"}]}catch{return[]}}),[_,y]=It.useState(()=>{try{return JSON.parse(localStorage.getItem("psy_sessions"))||[]}catch{return[]}}),b=Dx({patients:l,types:d,sessions:_},q=>{q.patients&&c(q.patients),q.types&&g(q.types),q.sessions&&y(q.sessions)});It.useEffect(()=>{localStorage.setItem("psy_patients",JSON.stringify(l)),b.status==="synced"&&b.saveToCloud({patients:l,types:d,sessions:_})},[l]),It.useEffect(()=>{localStorage.setItem("psy_types",JSON.stringify(d)),b.status==="synced"&&b.saveToCloud({patients:l,types:d,sessions:_})},[d]),It.useEffect(()=>{localStorage.setItem("psy_sessions",JSON.stringify(_)),b.status==="synced"&&b.saveToCloud({patients:l,types:d,sessions:_})},[_]),It.useEffect(()=>{const q=()=>a(window.innerWidth>768);return window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]);const R=()=>{const q="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({patients:l,types:d,sessions:_})),G=document.createElement("a");G.setAttribute("href",q),G.setAttribute("download","psytrack_backup.json"),document.body.appendChild(G),G.click(),G.remove()},V=q=>{const G=new FileReader;G.onload=tt=>{try{const Z=JSON.parse(tt.target.result);Z.patients&&(c(Z.patients),g(Z.types),y(Z.sessions))}catch{alert("Errore")}},G.readAsText(q)};return w.jsxs("div",{className:"h-screen bg-zinc-900 flex flex-col md:flex-row text-zinc-200 overflow-hidden font-sans",children:[w.jsxs("nav",{className:"md:w-64 bg-zinc-900 border-r border-zinc-800 flex md:flex-col justify-between z-30 order-2 md:order-1 border-t md:border-t-0 p-2 md:p-4 shrink-0",children:[w.jsxs("div",{className:"hidden md:flex items-center gap-3 mb-8 px-2",children:[w.jsx("div",{className:"w-10 h-10 bg-indigo-500/10 rounded-xl flex items-center justify-center border border-indigo-500/20 text-indigo-400 font-bold text-xl",children:""}),w.jsx("span",{className:"font-bold text-xl tracking-tight",children:"PsyTrack"})]}),w.jsxs("div",{className:"flex md:flex-col gap-1 w-full justify-around md:justify-start",children:[w.jsxs("button",{onClick:()=>t("calendar"),className:`flex md:flex-row flex-col items-center md:gap-3 p-2 md:px-4 md:py-3 rounded-xl transition-all ${r==="calendar"?"bg-indigo-600/10 text-indigo-400":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800"}`,children:[w.jsx(sv,{size:22}),w.jsx("span",{className:"text-[10px] md:text-sm font-medium",children:"Agenda"})]}),w.jsxs("button",{onClick:()=>t("patients"),className:`flex md:flex-row flex-col items-center md:gap-3 p-2 md:px-4 md:py-3 rounded-xl transition-all ${r==="patients"?"bg-emerald-500/10 text-emerald-400":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800"}`,children:[w.jsx(uv,{size:22}),w.jsx("span",{className:"text-[10px] md:text-sm font-medium",children:"Pazienti"})]}),w.jsxs("button",{onClick:()=>t("settings"),className:`flex md:flex-row flex-col items-center md:gap-3 p-2 md:px-4 md:py-3 rounded-xl transition-all ${r==="settings"?"bg-rose-500/10 text-rose-400":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800"}`,children:[w.jsx(hS,{size:22}),w.jsx("span",{className:"text-[10px] md:text-sm font-medium",children:"Impostazioni"})]})]}),w.jsxs("div",{className:"hidden md:block mt-auto pt-4 border-t border-zinc-800",children:[w.jsxs("div",{className:"flex items-center justify-between px-2 mb-2",children:[w.jsx("span",{className:"text-xs text-zinc-500",children:"Vista"}),w.jsxs("button",{onClick:()=>a(!i),className:"text-xs text-indigo-400 hover:text-white flex items-center gap-1",children:[i?w.jsx(I_,{size:14}):w.jsx(x_,{size:14})," ",i?"Griglia":"Lista"]})]}),b.status==="synced"&&w.jsxs("div",{className:"flex items-center gap-2 px-2 text-xs text-emerald-500",children:[w.jsx(rv,{size:12})," Cloud Attivo"]})]})]}),w.jsxs("main",{className:"flex-1 bg-zinc-900 overflow-hidden relative order-1 md:order-2 flex flex-col",children:[w.jsxs("header",{className:"md:hidden p-4 border-b border-zinc-800 flex justify-between items-center z-10",children:[w.jsxs("div",{className:"flex items-center gap-2 text-indigo-400",children:[w.jsx("div",{className:"w-8 h-8 bg-indigo-500/10 rounded-lg flex items-center justify-center border border-indigo-500/20",children:w.jsx("span",{className:"font-bold text-lg",children:""})}),w.jsx("h1",{className:"font-bold text-xl text-zinc-100",children:"PsyTrack"})]}),w.jsx("button",{onClick:()=>a(!i),className:"p-2 text-zinc-400 hover:text-white bg-zinc-800 rounded-lg",children:i?w.jsx(I_,{size:20}):w.jsx(x_,{size:20})})]}),w.jsxs("div",{className:"flex-1 overflow-hidden relative p-4 max-w-7xl mx-auto w-full",children:[r==="calendar"&&w.jsx(Vx,{sessions:_,setSessions:y,patients:l,types:d,isGrid:i}),r==="patients"&&w.jsx(Mx,{patients:l,setPatients:c,sessions:_,isGrid:i}),r==="settings"&&w.jsx(Ox,{types:d,setTypes:g,firebaseHook:b,onExport:R,onImport:V})]})]})]})}_b.createRoot(document.getElementById("root")).render(w.jsx(It.StrictMode,{children:w.jsx(zx,{})}));
