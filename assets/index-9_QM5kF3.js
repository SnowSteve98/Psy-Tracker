(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function lb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pd={exports:{}},cl={};var p_;function ub(){if(p_)return cl;p_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=i,cl.jsxs=i,cl}var y_;function cb(){return y_||(y_=1,pd.exports=ub()),pd.exports}var A=cb(),yd={exports:{}},Tt={};var __;function hb(){if(__)return Tt;__=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),z=Symbol.iterator;function B(M){return M===null||typeof M!="object"?null:(M=z&&M[z]||M["@@iterator"],typeof M=="function"?M:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,W={};function ot(M,X,it){this.props=M,this.context=X,this.refs=W,this.updater=it||G}ot.prototype.isReactComponent={},ot.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},ot.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function yt(){}yt.prototype=ot.prototype;function dt(M,X,it){this.props=M,this.context=X,this.refs=W,this.updater=it||G}var Pt=dt.prototype=new yt;Pt.constructor=dt,et(Pt,ot.prototype),Pt.isPureReactComponent=!0;var J=Array.isArray;function ut(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(M,X,it){var rt=it.ref;return{$$typeof:r,type:M,key:X,ref:rt!==void 0?rt:null,props:it}}function D(M,X){return R(M.type,X,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function V(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(it){return X[it]})}var I=/\/+/g;function kt(M,X){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):X.toString(36)}function Ft(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ut,ut):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,X,it,rt,vt){var wt=typeof M;(wt==="undefined"||wt==="boolean")&&(M=null);var Ut=!1;if(M===null)Ut=!0;else switch(wt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(M.$$typeof){case r:case t:Ut=!0;break;case T:return Ut=M._init,F(Ut(M._payload),X,it,rt,vt)}}if(Ut)return vt=vt(M),Ut=rt===""?"."+kt(M,0):rt,J(vt)?(it="",Ut!=null&&(it=Ut.replace(I,"$&/")+"/"),F(vt,X,it,"",function(tr){return tr})):vt!=null&&(N(vt)&&(vt=D(vt,it+(vt.key==null||M&&M.key===vt.key?"":(""+vt.key).replace(I,"$&/")+"/")+Ut)),X.push(vt)),1;Ut=0;var xe=rt===""?".":rt+":";if(J(M))for(var ae=0;ae<M.length;ae++)rt=M[ae],wt=xe+kt(rt,ae),Ut+=F(rt,X,it,wt,vt);else if(ae=B(M),typeof ae=="function")for(M=ae.call(M),ae=0;!(rt=M.next()).done;)rt=rt.value,wt=xe+kt(rt,ae++),Ut+=F(rt,X,it,wt,vt);else if(wt==="object"){if(typeof M.then=="function")return F(Ft(M),X,it,rt,vt);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function tt(M,X,it){if(M==null)return M;var rt=[],vt=0;return F(M,rt,"","",function(wt){return X.call(it,wt,vt++)}),rt}function ft(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(it){(M._status===0||M._status===-1)&&(M._status=1,M._result=it)},function(it){(M._status===0||M._status===-1)&&(M._status=2,M._result=it)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var jt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Yt={map:tt,forEach:function(M,X,it){tt(M,function(){X.apply(this,arguments)},it)},count:function(M){var X=0;return tt(M,function(){X++}),X},toArray:function(M){return tt(M,function(X){return X})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Tt.Activity=w,Tt.Children=Yt,Tt.Component=ot,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=dt,Tt.StrictMode=a,Tt.Suspense=y,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Tt.cache=function(M){return function(){return M.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(M,X,it){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=et({},M.props),vt=M.key;if(X!=null)for(wt in X.key!==void 0&&(vt=""+X.key),X)!S.call(X,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&X.ref===void 0||(rt[wt]=X[wt]);var wt=arguments.length-2;if(wt===1)rt.children=it;else if(1<wt){for(var Ut=Array(wt),xe=0;xe<wt;xe++)Ut[xe]=arguments[xe+2];rt.children=Ut}return R(M.type,vt,rt)},Tt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Tt.createElement=function(M,X,it){var rt,vt={},wt=null;if(X!=null)for(rt in X.key!==void 0&&(wt=""+X.key),X)S.call(X,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(vt[rt]=X[rt]);var Ut=arguments.length-2;if(Ut===1)vt.children=it;else if(1<Ut){for(var xe=Array(Ut),ae=0;ae<Ut;ae++)xe[ae]=arguments[ae+2];vt.children=xe}if(M&&M.defaultProps)for(rt in Ut=M.defaultProps,Ut)vt[rt]===void 0&&(vt[rt]=Ut[rt]);return R(M,wt,vt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(M){return{$$typeof:p,render:M}},Tt.isValidElement=N,Tt.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ft}},Tt.memo=function(M,X){return{$$typeof:_,type:M,compare:X===void 0?null:X}},Tt.startTransition=function(M){var X=C.T,it={};C.T=it;try{var rt=M(),vt=C.S;vt!==null&&vt(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(ut,jt)}catch(wt){jt(wt)}finally{X!==null&&it.types!==null&&(X.types=it.types),C.T=X}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(M){return C.H.use(M)},Tt.useActionState=function(M,X,it){return C.H.useActionState(M,X,it)},Tt.useCallback=function(M,X){return C.H.useCallback(M,X)},Tt.useContext=function(M){return C.H.useContext(M)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(M,X){return C.H.useDeferredValue(M,X)},Tt.useEffect=function(M,X){return C.H.useEffect(M,X)},Tt.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(M,X,it){return C.H.useImperativeHandle(M,X,it)},Tt.useInsertionEffect=function(M,X){return C.H.useInsertionEffect(M,X)},Tt.useLayoutEffect=function(M,X){return C.H.useLayoutEffect(M,X)},Tt.useMemo=function(M,X){return C.H.useMemo(M,X)},Tt.useOptimistic=function(M,X){return C.H.useOptimistic(M,X)},Tt.useReducer=function(M,X,it){return C.H.useReducer(M,X,it)},Tt.useRef=function(M){return C.H.useRef(M)},Tt.useState=function(M){return C.H.useState(M)},Tt.useSyncExternalStore=function(M,X,it){return C.H.useSyncExternalStore(M,X,it)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.1",Tt}var v_;function am(){return v_||(v_=1,yd.exports=hb()),yd.exports}var Ct=am();const W0=lb(Ct);var _d={exports:{}},hl={},vd={exports:{}},Ed={};var E_;function fb(){return E_||(E_=1,(function(r){function t(F,tt){var ft=F.length;F.push(tt);t:for(;0<ft;){var jt=ft-1>>>1,Yt=F[jt];if(0<l(Yt,tt))F[jt]=tt,F[ft]=Yt,ft=jt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var tt=F[0],ft=F.pop();if(ft!==tt){F[0]=ft;t:for(var jt=0,Yt=F.length,M=Yt>>>1;jt<M;){var X=2*(jt+1)-1,it=F[X],rt=X+1,vt=F[rt];if(0>l(it,ft))rt<Yt&&0>l(vt,it)?(F[jt]=vt,F[rt]=ft,jt=rt):(F[jt]=it,F[X]=ft,jt=X);else if(rt<Yt&&0>l(vt,ft))F[jt]=vt,F[rt]=ft,jt=rt;else break t}}return tt}function l(F,tt){var ft=F.sortIndex-tt.sortIndex;return ft!==0?ft:F.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],T=1,w=null,z=3,B=!1,G=!1,et=!1,W=!1,ot=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Pt(F){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=F)a(_),tt.sortIndex=tt.expirationTime,t(y,tt);else break;tt=i(_)}}function J(F){if(et=!1,Pt(F),!G)if(i(y)!==null)G=!0,ut||(ut=!0,V());else{var tt=i(_);tt!==null&&Ft(J,tt.startTime-F)}}var ut=!1,C=-1,S=5,R=-1;function D(){return W?!0:!(r.unstable_now()-R<S)}function N(){if(W=!1,ut){var F=r.unstable_now();R=F;var tt=!0;try{t:{G=!1,et&&(et=!1,yt(C),C=-1),B=!0;var ft=z;try{e:{for(Pt(F),w=i(y);w!==null&&!(w.expirationTime>F&&D());){var jt=w.callback;if(typeof jt=="function"){w.callback=null,z=w.priorityLevel;var Yt=jt(w.expirationTime<=F);if(F=r.unstable_now(),typeof Yt=="function"){w.callback=Yt,Pt(F),tt=!0;break e}w===i(y)&&a(y),Pt(F)}else a(y);w=i(y)}if(w!==null)tt=!0;else{var M=i(_);M!==null&&Ft(J,M.startTime-F),tt=!1}}break t}finally{w=null,z=ft,B=!1}tt=void 0}}finally{tt?V():ut=!1}}}var V;if(typeof dt=="function")V=function(){dt(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,kt=I.port2;I.port1.onmessage=N,V=function(){kt.postMessage(null)}}else V=function(){ot(N,0)};function Ft(F,tt){C=ot(function(){F(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return z},r.unstable_next=function(F){switch(z){case 1:case 2:case 3:var tt=3;break;default:tt=z}var ft=z;z=tt;try{return F()}finally{z=ft}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(F,tt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ft=z;z=F;try{return tt()}finally{z=ft}},r.unstable_scheduleCallback=function(F,tt,ft){var jt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?jt+ft:jt):ft=jt,F){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=ft+Yt,F={id:T++,callback:tt,priorityLevel:F,startTime:ft,expirationTime:Yt,sortIndex:-1},ft>jt?(F.sortIndex=ft,t(_,F),i(y)===null&&F===i(_)&&(et?(yt(C),C=-1):et=!0,Ft(J,ft-jt))):(F.sortIndex=Yt,t(y,F),G||B||(G=!0,ut||(ut=!0,V()))),F},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(F){var tt=z;return function(){var ft=z;z=tt;try{return F.apply(this,arguments)}finally{z=ft}}}})(Ed)),Ed}var T_;function db(){return T_||(T_=1,vd.exports=fb()),vd.exports}var Td={exports:{}},Ye={};var b_;function mb(){if(b_)return Ye;b_=1;var r=am();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:_,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,T)},Ye.flushSync=function(y){var _=d.T,T=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=T,a.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,w=p(T,_.crossOrigin),z=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:z,fetchPriority:B}):T==="script"&&a.d.X(y,{crossOrigin:w,integrity:z,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,w=p(T,_.crossOrigin);a.d.L(y,T,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Ye.requestFormReset=function(y){a.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,T){return d.H.useFormState(y,_,T)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.1",Ye}var S_;function gb(){if(S_)return Td.exports;S_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Td.exports=mb(),Td.exports}var A_;function pb(){if(A_)return hl;A_=1;var r=db(),t=am(),i=gb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,z=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function kt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ot:return"Profiler";case W:return"StrictMode";case J:return"Suspense";case ut:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case dt:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case Pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:kt(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return kt(e(n))}catch{}}return null}var Ft=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},jt=[],Yt=-1;function M(e){return{current:e}}function X(e){0>Yt||(e.current=jt[Yt],jt[Yt]=null,Yt--)}function it(e,n){Yt++,jt[Yt]=e.current,e.current=n}var rt=M(null),vt=M(null),wt=M(null),Ut=M(null);function xe(e,n){switch(it(wt,n),it(vt,e),it(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Py(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Py(n),e=jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(rt),it(rt,e)}function ae(){X(rt),X(vt),X(wt)}function tr(e){e.memoizedState!==null&&it(Ut,e);var n=rt.current,s=jy(n,e.type);n!==s&&(it(vt,e),it(rt,s))}function Fr(e){vt.current===e&&(X(rt),X(vt)),Ut.current===e&&(X(Ut),al._currentValue=ft)}var Gr,Qr;function Jn(e){if(Gr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Gr=n&&n[1]||"",Qr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gr+e+Qr}var ro=!1;function er(e,n){if(!e||ro)return"";ro=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var j=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){j=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){j=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var x=g.split(`
`),P=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===P.length)for(o=x.length-1,h=P.length-1;1<=o&&0<=h&&x[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==P[h]){var Q=`
`+x[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{ro=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Jn(s):""}function ao(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return er(e.type,!1);case 11:return er(e.type.render,!1);case 1:return er(e.type,!0);case 31:return Jn("Activity");default:return""}}function oo(e){try{var n="",s=null;do n+=ao(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,is=r.unstable_cancelCallback,yh=r.unstable_shouldYield,Bl=r.unstable_requestPaint,We=r.unstable_now,nr=r.unstable_getCurrentPriorityLevel,lo=r.unstable_ImmediatePriority,uo=r.unstable_UserBlockingPriority,ss=r.unstable_NormalPriority,_h=r.unstable_LowPriority,ql=r.unstable_IdlePriority,Hl=r.log,Fl=r.unstable_setDisableYieldValue,kn=null,Pe=null;function En(e){if(typeof Hl=="function"&&Fl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(kn,e)}catch{}}var de=Math.clz32?Math.clz32:Ql,Gl=Math.log,Kr=Math.LN2;function Ql(e){return e>>>=0,e===0?32:31-(Gl(e)/Kr|0)|0}var Zn=256,ir=262144,ve=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Wn(o):(g&=E,g!==0?h=Wn(g):s||(s=E&~e,s!==0&&(h=Wn(s))))):(E=o&~f,E!==0?h=Wn(E):g!==0?h=Wn(g):s||(s=o&~e,s!==0&&(h=Wn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Un(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function vh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Eh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,x=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var Q=31-de(s),Y=1<<Q;E[Q]=0,x[Q]=-1;var j=P[Q];if(j!==null)for(P[Q]=null,Q=0;Q<j.length;Q++){var H=j[Q];H!==null&&(H.lane&=-536870913)}s&=~Y}o!==0&&rr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function rr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function co(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-de(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function ho(e,n){var s=n&-n;return s=(s&42)!==0?1:ar(s),(s&(e.suspendedLanes|n))!==0?0:s}function ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yl(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:u_(e.type))}function Ln(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var Pn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Pn,Ve="__reactProps$"+Pn,ni="__reactContainer$"+Pn,Yr="__reactEvents$"+Pn,Th="__reactListeners$"+Pn,Xl="__reactHandles$"+Pn,$l="__reactResources$"+Pn,ii="__reactMarker$"+Pn;function Xr(e){delete e[Ee],delete e[Ve],delete e[Yr],delete e[Th],delete e[Xl]}function si(e){var n=e[Ee];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ni]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Ky(e);e!==null;){if(s=e[Ee])return s;e=Ky(e)}return n}e=s,s=e.parentNode}return null}function Tn(e){if(e=e[Ee]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ri(e){var n=e[$l];return n||(n=e[$l]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[ii]=!0}var fo=new Set,mo={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(mo[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},yo={};function Jl(e){return _e.call(yo,e)?!0:_e.call(po,e)?!1:go.test(e)?yo[e]=!0:(po[e]=!0,!1)}function $r(e,n,s){if(Jl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function fn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function be(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xt(e){if(!e._valueTracker){var n=rs(e)?"checked":"value";e._valueTracker=_o(e,n,""+e[n])}}function or(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=rs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lr=/[\n"\\]/g;function nn(e){return e.replace(lr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Jr(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?vo(e,g,ze(n)):s!=null?vo(e,g,ze(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function Zl(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xt(e);return}s=s!=null?""+ze(s):"",n=n!=null?""+ze(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Xt(e)}function vo(e,n,s){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function as(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ze(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Wl(e,n,s){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ze(s):""}function os(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ft(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ze(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Xt(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||tu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function To(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Eo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function Zr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(e){return ls.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var bo=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,ui=null;function ur(e){var n=Tn(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(Jr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));Jr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&or(o)}break t;case"textarea":Wl(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&as(e,!!s.multiple,n,!1)}}}var ta=!1;function cs(e,n,s){if(ta)return e(n,s);ta=!0;try{var o=e(n);return o}finally{if(ta=!1,(us!==null||ui!==null)&&(Yu(),us&&(n=us,e=ui,ui=us=null,ur(n),e)))for(n=0;n<e.length;n++)ur(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ve]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cr=!1;if(Sn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{cr=!1}var ci=null,So=null,hr=null;function Ao(){if(hr)return hr;var e,n=So,s=n.length,o,h="value"in ci?ci.value:ci.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return hr=h.slice(e,1<o?1-o:void 0)}function fr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function qn(){return!1}function je(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:qn,this.isPropagationStopped=qn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=je(Di),hs=w({},Di,{view:0,detail:0}),wo=je(hs),fs,ea,fi,na=w({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(fs=e.screenX-fi.screenX,ea=e.screenY-fi.screenY):ea=fs=0,fi=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Ro=je(na),dr=w({},na,{dataTransfer:0}),nu=je(dr),iu=w({},hs,{relatedTarget:0}),mr=je(iu),Co=w({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),su=je(Co),ia=w({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ru=je(ia),au=w({},Di,{data:0}),di=je(au),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uu[e])?!!n[e]:!1}function ds(){return cu}var tn=w({},hs,{key:function(e){if(e.key){var n=ou[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hu=je(tn),fu=w({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=je(fu),u=w({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),m=je(u),v=w({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=je(v),U=w({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=je(U),nt=w({},Di,{newState:0,oldState:0}),St=je(nt),me=[9,13,27,32],Gt=Sn&&"CompositionEvent"in window,oe=null;Sn&&"documentMode"in document&&(oe=document.documentMode);var An=Sn&&"TextEvent"in window&&!oe,mi=Sn&&(!Gt||oe&&8<oe&&11>=oe),Hn=" ",Fn=!1;function gr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function OE(e,n){switch(e){case"compositionend":return sa(n);case"keypress":return n.which!==32?null:(Fn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Fn?null:e;default:return null}}function ME(e,n){if(ra)return e==="compositionend"||!Gt&&gr(e,n)?(e=Ao(),hr=So=ci=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var VE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!VE[e.type]:n==="textarea"}function Jm(e,n,s,o){us?ui?ui.push(o):ui=[o]:us=o,n=ec(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Io=null,xo=null;function zE(e){My(e,0)}function du(e){var n=hn(e);if(or(n))return e}function Zm(e,n){if(e==="change")return n}var Wm=!1;if(Sn){var bh;if(Sn){var Sh="oninput"in document;if(!Sh){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),Sh=typeof tg.oninput=="function"}bh=Sh}else bh=!1;Wm=bh&&(!document.documentMode||9<document.documentMode)}function eg(){Io&&(Io.detachEvent("onpropertychange",ng),xo=Io=null)}function ng(e){if(e.propertyName==="value"&&du(xo)){var n=[];Jm(n,xo,e,bn(e)),cs(zE,n)}}function kE(e,n,s){e==="focusin"?(eg(),Io=n,xo=s,Io.attachEvent("onpropertychange",ng)):e==="focusout"&&eg()}function UE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(xo)}function LE(e,n){if(e==="click")return du(n)}function PE(e,n){if(e==="input"||e==="change")return du(n)}function jE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:jE;function No(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!_e.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sg(e,n){var s=ig(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ig(s)}}function rg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?rg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=li(e.document)}return n}function Ah(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var BE=Sn&&"documentMode"in document&&11>=document.documentMode,aa=null,wh=null,Do=null,Rh=!1;function og(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Rh||aa==null||aa!==li(o)||(o=aa,"selectionStart"in o&&Ah(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Do&&No(Do,o)||(Do=o,o=ec(wh,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=aa)))}function pr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var oa={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},Ch={},lg={};Sn&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function yr(e){if(Ch[e])return Ch[e];if(!oa[e])return e;var n=oa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in lg)return Ch[e]=n[s];return e}var ug=yr("animationend"),cg=yr("animationiteration"),hg=yr("animationstart"),qE=yr("transitionrun"),HE=yr("transitionstart"),FE=yr("transitioncancel"),fg=yr("transitionend"),dg=new Map,Ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ih.push("scrollEnd");function Gn(e,n){dg.set(e,n),ai(n,[e])}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],la=0,xh=0;function gu(){for(var e=la,n=xh=la=0;n<e;){var s=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&mg(s,h,f)}}function pu(e,n,s,o){wn[la++]=e,wn[la++]=n,wn[la++]=s,wn[la++]=o,xh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Nh(e,n,s,o){return pu(e,n,s,o),yu(e)}function _r(e,n){return pu(e,null,null,n),yu(e)}function mg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function yu(e){if(50<Wo)throw Wo=0,jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={};function GE(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,o){return new GE(e,n,s,o)}function Dh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function gg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Dh(e)&&(g=1);else if(typeof e=="string")g=$T(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=mn(31,s,n,h),e.elementType=R,e.lanes=f,e;case et:return vr(s.children,h,f,n);case W:g=8,h|=24;break;case ot:return e=mn(12,s,n,h|2),e.elementType=ot,e.lanes=f,e;case J:return e=mn(13,s,n,h),e.elementType=J,e.lanes=f,e;case ut:return e=mn(19,s,n,h),e.elementType=ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case yt:g=9;break t;case Pt:g=11;break t;case C:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=mn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function vr(e,n,s,o){return e=mn(7,e,o,n),e.lanes=s,e}function Oh(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function pg(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function Mh(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var yg=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var s=yg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:oo(n)},yg.set(e,n),n)}return{value:e,source:n,stack:oo(n)}}var ca=[],ha=0,vu=null,Oo=0,Cn=[],In=0,ms=null,gi=1,pi="";function Vi(e,n){ca[ha++]=Oo,ca[ha++]=vu,vu=e,Oo=n}function _g(e,n,s){Cn[In++]=gi,Cn[In++]=pi,Cn[In++]=ms,ms=e;var o=gi;e=pi;var h=32-de(o)-1;o&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,gi=1<<32-de(n)+h|s<<h|o,pi=f+e}else gi=1<<f|s<<h|o,pi=e}function Vh(e){e.return!==null&&(Vi(e,1),_g(e,1,0))}function zh(e){for(;e===vu;)vu=ca[--ha],ca[ha]=null,Oo=ca[--ha],ca[ha]=null;for(;e===ms;)ms=Cn[--In],Cn[In]=null,pi=Cn[--In],Cn[In]=null,gi=Cn[--In],Cn[In]=null}function vg(e,n){Cn[In++]=gi,Cn[In++]=pi,Cn[In++]=ms,gi=n.id,pi=n.overflow,ms=e}var Be=null,ie=null,zt=!1,gs=null,xn=!1,kh=Error(a(519));function ps(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(Rn(n,e)),kh}function Eg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ve]=o,s){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(s=0;s<el.length;s++)xt(el[s],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),Zl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),os(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Uy(n.textContent,s)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||ps(e,!0)}function Tg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Be=Be.return}}function fa(e){if(e!==Be)return!1;if(!zt)return Tg(e),zt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ed(e.type,e.memoizedProps)),s=!s),s&&ie&&ps(e),Tg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=Qy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=Qy(e)}else n===27?(n=ie,Ns(e.type)?(e=ad,ad=null,ie=e):ie=n):ie=Be?Dn(e.stateNode.nextSibling):null;return!0}function Er(){ie=Be=null,zt=!1}function Uh(){var e=gs;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),gs=null),e}function Mo(e){gs===null?gs=[e]:gs.push(e)}var Lh=M(null),Tr=null,zi=null;function ys(e,n,s){it(Lh,n._currentValue),n._currentValue=s}function ki(e){e._currentValue=Lh.current,X(Lh)}function Ph(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function jh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Ph(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Ph(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function da(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;dn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&jh(n,e,s,o),n.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function br(e){Tr=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return bg(Tr,e)}function Tu(e,n){return Tr===null&&br(e),bg(e,n)}function bg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},zi===null){if(e===null)throw Error(a(308));zi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else zi=zi.next=n;return s}var QE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},KE=r.unstable_scheduleCallback,YE=r.unstable_NormalPriority,Se={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bh(){return{controller:new QE,data:new Map,refCount:0}}function Vo(e){e.refCount--,e.refCount===0&&KE(YE,function(){e.controller.abort()})}var zo=null,qh=0,ma=0,ga=null;function XE(e,n){if(zo===null){var s=zo=[];qh=0,ma=Qf(),ga={status:"pending",value:void 0,then:function(o){s.push(o)}}}return qh++,n.then(Sg,Sg),n}function Sg(){if(--qh===0&&zo!==null){ga!==null&&(ga.status="fulfilled");var e=zo;zo=null,ma=0,ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function $E(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Ag=F.S;F.S=function(e,n){oy=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&XE(e,n),Ag!==null&&Ag(e,n)};var Sr=M(null);function Hh(){var e=Sr.current;return e!==null?e:ne.pooledCache}function bu(e,n){n===null?it(Sr,Sr.current):it(Sr,n.pool)}function wg(){var e=Hh();return e===null?null:{parent:Se._currentValue,pool:e}}var pa=Error(a(460)),Fh=Error(a(474)),Su=Error(a(542)),Au={then:function(){}};function Rg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xg(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xg(e),e}throw wr=n,pa}}function Ar(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(wr=s,pa):s}}var wr=null;function Ig(){if(wr===null)throw Error(a(459));var e=wr;return wr=null,e}function xg(e){if(e===pa||e===Su)throw Error(a(483))}var ya=null,ko=0;function wu(e){var n=ko;return ko+=1,ya===null&&(ya=[]),Cg(ya,e,n)}function Uo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===z?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ng(e){function n(k,O){if(e){var L=k.deletions;L===null?(k.deletions=[O],k.flags|=16):L.push(O)}}function s(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Mi(k,O),k.index=0,k.sibling=null,k}function f(k,O,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<O?(k.flags|=67108866,O):L):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,L,K){return O===null||O.tag!==6?(O=Oh(L,k.mode,K),O.return=k,O):(O=h(O,L),O.return=k,O)}function x(k,O,L,K){var ht=L.type;return ht===et?Q(k,O,L.props.children,K,L.key):O!==null&&(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Ar(ht)===O.type)?(O=h(O,L.props),Uo(O,L),O.return=k,O):(O=_u(L.type,L.key,L.props,null,k.mode,K),Uo(O,L),O.return=k,O)}function P(k,O,L,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Mh(L,k.mode,K),O.return=k,O):(O=h(O,L.children||[]),O.return=k,O)}function Q(k,O,L,K,ht){return O===null||O.tag!==7?(O=vr(L,k.mode,K,ht),O.return=k,O):(O=h(O,L),O.return=k,O)}function Y(k,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Oh(""+O,k.mode,L),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return L=_u(O.type,O.key,O.props,null,k.mode,L),Uo(L,O),L.return=k,L;case G:return O=Mh(O,k.mode,L),O.return=k,O;case S:return O=Ar(O),Y(k,O,L)}if(Ft(O)||V(O))return O=vr(O,k.mode,L,null),O.return=k,O;if(typeof O.then=="function")return Y(k,wu(O),L);if(O.$$typeof===dt)return Y(k,Tu(k,O),L);Ru(k,O)}return null}function j(k,O,L,K){var ht=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(k,O,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return L.key===ht?x(k,O,L,K):null;case G:return L.key===ht?P(k,O,L,K):null;case S:return L=Ar(L),j(k,O,L,K)}if(Ft(L)||V(L))return ht!==null?null:Q(k,O,L,K,null);if(typeof L.then=="function")return j(k,O,wu(L),K);if(L.$$typeof===dt)return j(k,O,Tu(k,L),K);Ru(k,L)}return null}function H(k,O,L,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(L)||null,E(O,k,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return k=k.get(K.key===null?L:K.key)||null,x(O,k,K,ht);case G:return k=k.get(K.key===null?L:K.key)||null,P(O,k,K,ht);case S:return K=Ar(K),H(k,O,L,K,ht)}if(Ft(K)||V(K))return k=k.get(L)||null,Q(O,k,K,ht,null);if(typeof K.then=="function")return H(k,O,L,wu(K),ht);if(K.$$typeof===dt)return H(k,O,L,Tu(O,K),ht);Ru(O,K)}return null}function at(k,O,L,K){for(var ht=null,qt=null,lt=O,Rt=O=0,Dt=null;lt!==null&&Rt<L.length;Rt++){lt.index>Rt?(Dt=lt,lt=null):Dt=lt.sibling;var Ht=j(k,lt,L[Rt],K);if(Ht===null){lt===null&&(lt=Dt);break}e&&lt&&Ht.alternate===null&&n(k,lt),O=f(Ht,O,Rt),qt===null?ht=Ht:qt.sibling=Ht,qt=Ht,lt=Dt}if(Rt===L.length)return s(k,lt),zt&&Vi(k,Rt),ht;if(lt===null){for(;Rt<L.length;Rt++)lt=Y(k,L[Rt],K),lt!==null&&(O=f(lt,O,Rt),qt===null?ht=lt:qt.sibling=lt,qt=lt);return zt&&Vi(k,Rt),ht}for(lt=o(lt);Rt<L.length;Rt++)Dt=H(lt,k,Rt,L[Rt],K),Dt!==null&&(e&&Dt.alternate!==null&&lt.delete(Dt.key===null?Rt:Dt.key),O=f(Dt,O,Rt),qt===null?ht=Dt:qt.sibling=Dt,qt=Dt);return e&&lt.forEach(function(zs){return n(k,zs)}),zt&&Vi(k,Rt),ht}function gt(k,O,L,K){if(L==null)throw Error(a(151));for(var ht=null,qt=null,lt=O,Rt=O=0,Dt=null,Ht=L.next();lt!==null&&!Ht.done;Rt++,Ht=L.next()){lt.index>Rt?(Dt=lt,lt=null):Dt=lt.sibling;var zs=j(k,lt,Ht.value,K);if(zs===null){lt===null&&(lt=Dt);break}e&&lt&&zs.alternate===null&&n(k,lt),O=f(zs,O,Rt),qt===null?ht=zs:qt.sibling=zs,qt=zs,lt=Dt}if(Ht.done)return s(k,lt),zt&&Vi(k,Rt),ht;if(lt===null){for(;!Ht.done;Rt++,Ht=L.next())Ht=Y(k,Ht.value,K),Ht!==null&&(O=f(Ht,O,Rt),qt===null?ht=Ht:qt.sibling=Ht,qt=Ht);return zt&&Vi(k,Rt),ht}for(lt=o(lt);!Ht.done;Rt++,Ht=L.next())Ht=H(lt,k,Rt,Ht.value,K),Ht!==null&&(e&&Ht.alternate!==null&&lt.delete(Ht.key===null?Rt:Ht.key),O=f(Ht,O,Rt),qt===null?ht=Ht:qt.sibling=Ht,qt=Ht);return e&&lt.forEach(function(ob){return n(k,ob)}),zt&&Vi(k,Rt),ht}function ee(k,O,L,K){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case B:t:{for(var ht=L.key;O!==null;){if(O.key===ht){if(ht=L.type,ht===et){if(O.tag===7){s(k,O.sibling),K=h(O,L.props.children),K.return=k,k=K;break t}}else if(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Ar(ht)===O.type){s(k,O.sibling),K=h(O,L.props),Uo(K,L),K.return=k,k=K;break t}s(k,O);break}else n(k,O);O=O.sibling}L.type===et?(K=vr(L.props.children,k.mode,K,L.key),K.return=k,k=K):(K=_u(L.type,L.key,L.props,null,k.mode,K),Uo(K,L),K.return=k,k=K)}return g(k);case G:t:{for(ht=L.key;O!==null;){if(O.key===ht)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){s(k,O.sibling),K=h(O,L.children||[]),K.return=k,k=K;break t}else{s(k,O);break}else n(k,O);O=O.sibling}K=Mh(L,k.mode,K),K.return=k,k=K}return g(k);case S:return L=Ar(L),ee(k,O,L,K)}if(Ft(L))return at(k,O,L,K);if(V(L)){if(ht=V(L),typeof ht!="function")throw Error(a(150));return L=ht.call(L),gt(k,O,L,K)}if(typeof L.then=="function")return ee(k,O,wu(L),K);if(L.$$typeof===dt)return ee(k,O,Tu(k,L),K);Ru(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(s(k,O.sibling),K=h(O,L),K.return=k,k=K):(s(k,O),K=Oh(L,k.mode,K),K.return=k,k=K),g(k)):s(k,O)}return function(k,O,L,K){try{ko=0;var ht=ee(k,O,L,K);return ya=null,ht}catch(lt){if(lt===pa||lt===Su)throw lt;var qt=mn(29,lt,null,k.mode);return qt.lanes=K,qt.return=k,qt}finally{}}}var Rr=Ng(!0),Dg=Ng(!1),_s=!1;function Gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Es(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=yu(e),mg(e,null,s),n}return pu(e,o,n,s),yu(e)}function Lo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}function Kh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Yh=!1;function Po(){if(Yh){var e=ga;if(e!==null)throw e}}function jo(e,n,s,o){Yh=!1;var h=e.updateQueue;_s=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,P=x.next;x.next=null,g===null?f=P:g.next=P,g=x;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=x))}if(f!==null){var Y=h.baseState;g=0,Q=P=x=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Nt&j)===j:(o&j)===j){j!==0&&j===ma&&(Yh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,gt=E;j=n;var ee=s;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){Y=at.call(ee,Y,j);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,j=typeof at=="function"?at.call(ee,Y,j):at,j==null)break t;Y=w({},Y,j);break t;case 2:_s=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=H,x=Y):Q=Q.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(x=Y),h.baseState=x,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),ws|=g,e.lanes=g,e.memoizedState=Y}}function Og(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Mg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Og(s[e],n)}var _a=M(null),Cu=M(0);function Vg(e,n){e=Gi,it(Cu,e),it(_a,n),Gi=e|n.baseLanes}function Xh(){it(Cu,Gi),it(_a,_a.current)}function $h(){Gi=Cu.current,X(_a),X(Cu)}var gn=M(null),Nn=null;function Ts(e){var n=e.alternate;it(ge,ge.current&1),it(gn,e),Nn===null&&(n===null||_a.current!==null||n.memoizedState!==null)&&(Nn=e)}function Jh(e){it(ge,ge.current),it(gn,e),Nn===null&&(Nn=e)}function zg(e){e.tag===22?(it(ge,ge.current),it(gn,e),Nn===null&&(Nn=e)):bs()}function bs(){it(ge,ge.current),it(gn,gn.current)}function pn(e){X(gn),Nn===e&&(Nn=null),X(ge)}var ge=M(0);function Iu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||sd(s)||rd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,At=null,Wt=null,Ae=null,xu=!1,va=!1,Cr=!1,Nu=0,Bo=0,Ea=null,JE=0;function he(){throw Error(a(321))}function Zh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!dn(e[s],n[s]))return!1;return!0}function Wh(e,n,s,o,h,f){return Ui=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?_p:gf,Cr=!1,f=s(o,h),Cr=!1,va&&(f=Ug(n,s,o,h)),kg(e),f}function kg(e){F.H=Fo;var n=Wt!==null&&Wt.next!==null;if(Ui=0,Ae=Wt=At=null,xu=!1,Bo=0,Ea=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Eu(e)&&(we=!0))}function Ug(e,n,s,o){At=e;var h=0;do{if(va&&(Ea=null),Bo=0,va=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Wt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=vp,f=n(s,o)}while(va);return f}function ZE(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?qo(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(At.flags|=1024),n}function tf(){var e=Nu!==0;return Nu=0,e}function ef(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function nf(e){if(xu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}xu=!1}Ui=0,Ae=Wt=At=null,va=!1,Bo=Nu=0,Ea=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if(Wt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Wt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var n=Bo;return Bo+=1,Ea===null&&(Ea=[]),e=Cg(Ea,e,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?_p:gf),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===dt)return qe(e)}throw Error(a(438,String(e)))}function sf(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Du(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=D;return n.index++,s}function Li(e,n){return typeof n=="function"?n(e):n}function Mu(e){var n=pe();return rf(n,Wt,e)}function rf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,x=null,P=n,Q=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Nt&Y)===Y:(Ui&Y)===Y){var j=P.revertLane;if(j===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===ma&&(Q=!0);else if((Ui&j)===j){P=P.next,j===ma&&(Q=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(E=x=Y,g=f):x=x.next=Y,At.lanes|=j,ws|=j;Y=P.action,Cr&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else j={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(E=x=j,g=f):x=x.next=j,At.lanes|=Y,ws|=Y;P=P.next}while(P!==null&&P!==n);if(x===null?g=f:x.next=E,!dn(f,e.memoizedState)&&(we=!0,Q&&(s=ga,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function af(e){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);dn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Lg(e,n,s){var o=At,h=pe(),f=zt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!dn((Wt||h).memoizedState,s);if(g&&(h.memoizedState=s,we=!0),h=h.queue,uf(Bg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Ta(9,{destroy:void 0},jg.bind(null,o,h,s,n),null),ne===null)throw Error(a(349));f||(Ui&127)!==0||Pg(o,n,s)}return s}function Pg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=Du(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function jg(e,n,s,o){n.value=s,n.getSnapshot=o,qg(n)&&Hg(e)}function Bg(e,n,s){return s(function(){qg(n)&&Hg(e)})}function qg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!dn(e,s)}catch{return!0}}function Hg(e){var n=_r(e,2);n!==null&&un(n,e,2)}function of(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),Cr){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function Fg(e,n,s,o){return e.baseState=s,rf(e,Wt,typeof o=="function"?o:Li)}function WE(e,n,s,o,h){if(ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Gg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Gg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=s(h,o),x=F.S;x!==null&&x(g,E),Qg(e,n,E)}catch(P){lf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,o),Qg(e,n,f)}catch(P){lf(e,n,P)}}function Qg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Kg(e,n,o)},function(o){return lf(e,n,o)}):Kg(e,n,s)}function Kg(e,n,s){n.status="fulfilled",n.value=s,Yg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Gg(e,s)))}function lf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Yg(n),n=n.next;while(n!==o)}e.action=null}function Yg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Xg(e,n){return n}function $g(e,n){if(zt){var s=ne.formState;if(s!==null){t:{var o=At;if(zt){if(ie){e:{for(var h=ie,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Dn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Dn(h.nextSibling),o=h.data==="F!";break t}}ps(o)}o=!1}o&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:n},s.queue=o,s=gp.bind(null,At,o),o.dispatch=s,o=of(!1),f=mf.bind(null,At,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=WE.bind(null,At,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Jg(e){var n=pe();return Zg(n,Wt,e)}function Zg(e,n,s){if(n=rf(e,n,Xg)[0],e=Mu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qo(n)}catch(g){throw g===pa?Su:g}else o=n;n=pe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(At.flags|=2048,Ta(9,{destroy:void 0},tT.bind(null,h,s),null)),[o,f,e]}function tT(e,n){e.action=n}function Wg(e){var n=pe(),s=Wt;if(s!==null)return Zg(n,s,e);pe(),n=n.memoizedState,s=pe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ta(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Du(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function tp(){return pe().memoizedState}function Vu(e,n,s,o){var h=en();At.flags|=e,h.memoizedState=Ta(1|n,{destroy:void 0},s,o===void 0?null:o)}function zu(e,n,s,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Wt!==null&&o!==null&&Zh(o,Wt.memoizedState.deps)?h.memoizedState=Ta(n,f,s,o):(At.flags|=e,h.memoizedState=Ta(1|n,f,s,o))}function ep(e,n){Vu(8390656,8,e,n)}function uf(e,n){zu(2048,8,e,n)}function eT(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Du(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function np(e){var n=pe().memoizedState;return eT({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function ip(e,n){return zu(4,2,e,n)}function sp(e,n){return zu(4,4,e,n)}function rp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ap(e,n,s){s=s!=null?s.concat([e]):null,zu(4,4,rp.bind(null,n,e),s)}function cf(){}function op(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Zh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function lp(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Zh(n,o[1]))return o[0];if(o=e(),Cr){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o}function hf(e,n,s){return s===void 0||(Ui&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=uy(),At.lanes|=e,ws|=e,s)}function up(e,n,s,o){return dn(s,n)?s:_a.current!==null?(e=hf(e,s,o),dn(e,n)||(we=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(Nt&261930)===0?(we=!0,e.memoizedState=s):(e=uy(),At.lanes|=e,ws|=e,n)}function cp(e,n,s,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,mf(e,!1,n,s);try{var x=h(),P=F.S;if(P!==null&&P(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=$E(x,o);Ho(e,n,Q,vn(e))}else Ho(e,n,o,vn(e))}catch(Y){Ho(e,n,{then:function(){},status:"rejected",reason:Y},vn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function nT(){}function ff(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=hp(e).queue;cp(e,h,n,ft,s===null?nT:function(){return fp(e),s(o)})}function hp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function fp(e){var n=hp(e);n.next===null&&(n=e.alternate.memoizedState),Ho(e,n.next.queue,{},vn())}function df(){return qe(al)}function dp(){return pe().memoizedState}function mp(){return pe().memoizedState}function iT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();e=vs(s);var o=Es(n,e,s);o!==null&&(un(o,n,s),Lo(o,n,s)),n={cache:Bh()},e.payload=n;return}n=n.return}}function sT(e,n,s){var o=vn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ku(e)?pp(n,s):(s=Nh(e,n,s,o),s!==null&&(un(s,e,o),yp(s,n,o)))}function gp(e,n,s){var o=vn();Ho(e,n,s,o)}function Ho(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ku(e))pp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,dn(E,g))return pu(e,n,h,0),ne===null&&gu(),!1}catch{}finally{}if(s=Nh(e,n,h,o),s!==null)return un(s,e,o),yp(s,n,o),!0}return!1}function mf(e,n,s,o){if(o={lane:2,revertLane:Qf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ku(e)){if(n)throw Error(a(479))}else n=Nh(e,s,o,2),n!==null&&un(n,e,2)}function ku(e){var n=e.alternate;return e===At||n!==null&&n===At}function pp(e,n){va=xu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function yp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}var Fo={readContext:qe,use:Ou,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Fo.useEffectEvent=he;var _p={readContext:qe,use:Ou,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:ep,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Vu(4194308,4,rp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Vu(4194308,4,e,n)},useInsertionEffect:function(e,n){Vu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var o=e();if(Cr){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=en();if(s!==void 0){var h=s(n);if(Cr){En(!0);try{s(n)}finally{En(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=sT.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=of(e);var n=e.queue,s=gp.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:cf,useDeferredValue:function(e,n){var s=en();return hf(s,e,n)},useTransition:function(){var e=of(!1);return e=cp.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=At,h=en();if(zt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ne===null)throw Error(a(349));(Nt&127)!==0||Pg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,ep(Bg.bind(null,o,f,e),[e]),o.flags|=2048,Ta(9,{destroy:void 0},jg.bind(null,o,f,s,n),null),s},useId:function(){var e=en(),n=ne.identifierPrefix;if(zt){var s=pi,o=gi;s=(o&~(1<<32-de(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Nu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=JE++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:df,useFormState:$g,useActionState:$g,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=mf.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:sf,useCacheRefresh:function(){return en().memoizedState=iT.bind(null,At)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((Qt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},gf={readContext:qe,use:Ou,useCallback:op,useContext:qe,useEffect:uf,useImperativeHandle:ap,useInsertionEffect:ip,useLayoutEffect:sp,useMemo:lp,useReducer:Mu,useRef:tp,useState:function(){return Mu(Li)},useDebugValue:cf,useDeferredValue:function(e,n){var s=pe();return up(s,Wt.memoizedState,e,n)},useTransition:function(){var e=Mu(Li)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Lg,useId:dp,useHostTransitionStatus:df,useFormState:Jg,useActionState:Jg,useOptimistic:function(e,n){var s=pe();return Fg(s,Wt,e,n)},useMemoCache:sf,useCacheRefresh:mp};gf.useEffectEvent=np;var vp={readContext:qe,use:Ou,useCallback:op,useContext:qe,useEffect:uf,useImperativeHandle:ap,useInsertionEffect:ip,useLayoutEffect:sp,useMemo:lp,useReducer:af,useRef:tp,useState:function(){return af(Li)},useDebugValue:cf,useDeferredValue:function(e,n){var s=pe();return Wt===null?hf(s,e,n):up(s,Wt.memoizedState,e,n)},useTransition:function(){var e=af(Li)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Lg,useId:dp,useHostTransitionStatus:df,useFormState:Wg,useActionState:Wg,useOptimistic:function(e,n){var s=pe();return Wt!==null?Fg(s,Wt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:sf,useCacheRefresh:mp};vp.useEffectEvent=np;function pf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var yf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=vn(),h=vs(o);h.payload=n,s!=null&&(h.callback=s),n=Es(e,h,o),n!==null&&(un(n,e,o),Lo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=vn(),h=vs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Es(e,h,o),n!==null&&(un(n,e,o),Lo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=vn(),o=vs(s);o.tag=2,n!=null&&(o.callback=n),n=Es(e,o,s),n!==null&&(un(n,e,s),Lo(n,e,s))}};function Ep(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!No(s,o)||!No(h,f):!0}function Tp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&yf.enqueueReplaceState(n,n.state,null)}function Ir(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function bp(e){mu(e)}function Sp(e){console.error(e)}function Ap(e){mu(e)}function Uu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function wp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _f(e,n,s){return s=vs(s),s.tag=3,s.payload={element:null},s.callback=function(){Uu(e,n)},s}function Rp(e){return e=vs(e),e.tag=3,e}function Cp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){wp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){wp(n,s,o),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function rT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&da(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return Nn===null?Xu():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Au?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Hf(e,o,h)),!1;case 22:return s.flags|=65536,o===Au?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Hf(e,o,h)),!1}throw Error(a(435,s.tag))}return Hf(e,o,h),Xu(),!1}if(zt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==kh&&(e=Error(a(422),{cause:o}),Mo(Rn(e,s)))):(o!==kh&&(n=Error(a(423),{cause:o}),Mo(Rn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Rn(o,s),h=_f(e.stateNode,o,h),Kh(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:o});if(f=Rn(f,s),Zo===null?Zo=[f]:Zo.push(f),fe!==4&&(fe=2),n===null)return!0;o=Rn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=_f(s.stateNode,o,e),Kh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Rp(h),Cp(h,e,s,o),Kh(s,h),!1}s=s.return}while(s!==null);return!1}var vf=Error(a(461)),we=!1;function He(e,n,s,o){n.child=e===null?Dg(n,null,s,o):Rr(n,e.child,s,o)}function Ip(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return br(n),o=Wh(e,n,s,g,f,h),E=tf(),e!==null&&!we?(ef(e,n,h),Pi(e,n,h)):(zt&&E&&Vh(n),n.flags|=1,He(e,n,o,h),n.child)}function xp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Dh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Np(e,n,f,o,h)):(e=_u(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Cf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:No,s(g,o)&&e.ref===n.ref)return Pi(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Np(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(No(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Cf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,Pi(e,n,h)}return Ef(e,n,s,o,h)}function Dp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Op(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(n,f!==null?f.cachePool:null),f!==null?Vg(n,f):Xh(),zg(n);else return o=n.lanes=536870912,Op(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(bu(n,f.cachePool),Vg(n,f),bs(),n.memoizedState=null):(e!==null&&bu(n,null),Xh(),bs());return He(e,n,h,s),n.child}function Go(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Op(e,n,s,o,h){var f=Hh();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&bu(n,null),Xh(),zg(n),e!==null&&da(e,n,o,!0),n.childLanes=h,null}function Lu(e,n){return n=ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Mp(e,n,s){return Rr(n,e.child,null,s),e=Lu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function aT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(zt){if(o.mode==="hidden")return e=Lu(n,o),n.lanes=536870912,Go(null,e);if(Jh(n),(e=ie)?(e=Gy(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=pg(e),s.return=n,n.child=s,Be=n,ie=null)):e=null,e===null)throw ps(n);return n.lanes=536870912,null}return Lu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Jh(n),h)if(n.flags&256)n.flags&=-257,n=Mp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||da(e,n,s,!1),h=(s&e.childLanes)!==0,we||h){if(o=ne,o!==null&&(g=ho(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,_r(e,g),un(o,e,g),vf;Xu(),n=Mp(e,n,s)}else e=f.treeContext,ie=Dn(g.nextSibling),Be=n,zt=!0,gs=null,xn=!1,e!==null&&vg(n,e),n=Lu(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Pu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Ef(e,n,s,o,h){return br(n),s=Wh(e,n,s,o,void 0,h),o=tf(),e!==null&&!we?(ef(e,n,h),Pi(e,n,h)):(zt&&o&&Vh(n),n.flags|=1,He(e,n,s,h),n.child)}function Vp(e,n,s,o,h,f){return br(n),n.updateQueue=null,s=Ug(n,o,s,h),kg(e),o=tf(),e!==null&&!we?(ef(e,n,f),Pi(e,n,f)):(zt&&o&&Vh(n),n.flags|=1,He(e,n,s,f),n.child)}function zp(e,n,s,o,h){if(br(n),n.stateNode===null){var f=ua,g=s.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=yf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Gh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?qe(g):ua,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(pf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&yf.enqueueReplaceState(f,f.state,null),jo(n,o,f,h),Po(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,x=Ir(s,E);f.props=x;var P=f.context,Q=s.contextType;g=ua,typeof Q=="object"&&Q!==null&&(g=qe(Q));var Y=s.getDerivedStateFromProps;Q=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Tp(n,f,o,g),_s=!1;var j=n.memoizedState;f.state=j,jo(n,o,f,h),Po(),P=n.memoizedState,E||j!==P||_s?(typeof Y=="function"&&(pf(n,s,Y,o),P=n.memoizedState),(x=_s||Ep(n,s,x,o,j,P,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Qh(e,n),g=n.memoizedProps,Q=Ir(s,g),f.props=Q,Y=n.pendingProps,j=f.context,P=s.contextType,x=ua,typeof P=="object"&&P!==null&&(x=qe(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==x)&&Tp(n,f,o,x),_s=!1,j=n.memoizedState,f.state=j,jo(n,o,f,h),Po();var H=n.memoizedState;g!==Y||j!==H||_s||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof E=="function"&&(pf(n,s,E,o),H=n.memoizedState),(Q=_s||Ep(n,s,Q,o,j,H,x)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=x,o=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Pu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Rr(n,e.child,null,h),n.child=Rr(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Pi(e,n,h),e}function kp(e,n,s,o){return Er(),n.flags|=256,He(e,n,s,o),n.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(e){return{baseLanes:e,cachePool:wg()}}function Sf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=_n),e}function Up(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?Ts(n):bs(),(e=ie)?(e=Gy(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=pg(e),s.return=n,n.child=s,Be=n,ie=null)):e=null,e===null)throw ps(n);return rd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(bs(),h=n.mode,E=ju({mode:"hidden",children:E},h),o=vr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=bf(s),o.childLanes=Sf(e,g,s),n.memoizedState=Tf,Go(null,o)):(Ts(n),Af(n,E))}var x=e.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=wf(e,n,s)):n.memoizedState!==null?(bs(),n.child=e.child,n.flags|=128,n=null):(bs(),E=o.fallback,h=n.mode,o=ju({mode:"visible",children:o.children},h),E=vr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Rr(n,e.child,null,s),o=n.child,o.memoizedState=bf(s),o.childLanes=Sf(e,g,s),n.memoizedState=Tf,n=Go(null,o));else if(Ts(n),rd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Mo({value:o,source:null,stack:null}),n=wf(e,n,s)}else if(we||da(e,n,s,!1),g=(s&e.childLanes)!==0,we||g){if(g=ne,g!==null&&(o=ho(g,s),o!==0&&o!==x.retryLane))throw x.retryLane=o,_r(e,o),un(g,e,o),vf;sd(E)||Xu(),n=wf(e,n,s)}else sd(E)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,ie=Dn(E.nextSibling),Be=n,zt=!0,gs=null,xn=!1,e!==null&&vg(n,e),n=Af(n,o.children),n.flags|=4096);return n}return h?(bs(),E=o.fallback,h=n.mode,x=e.child,P=x.sibling,o=Mi(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,P!==null?E=Mi(P,E):(E=vr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Go(null,o),o=n.child,E=e.child.memoizedState,E===null?E=bf(s):(h=E.cachePool,h!==null?(x=Se._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=wg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Sf(e,g,s),n.memoizedState=Tf,Go(e.child,o)):(Ts(n),s=e.child,e=s.sibling,s=Mi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Af(e,n){return n=ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ju(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function wf(e,n,s){return Rr(n,e.child,null,s),e=Af(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Lp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Ph(e.return,n,s)}function Rf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Pp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ge.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(ge,g),He(e,n,o,s),o=zt?Oo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lp(e,s,n);else if(e.tag===19)Lp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Iu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Rf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Iu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Rf(n,!0,s,null,f,o);break;case"together":Rf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ws|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(da(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Cf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function oT(e,n,s){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),ys(n,Se,e.memoizedState.cache),Er();break;case 27:case 5:tr(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Jh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ts(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Up(e,n,s):(Ts(n),e=Pi(e,n,s),e!==null?e.sibling:null);Ts(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(da(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Pp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(ge,ge.current),o)break;return null;case 22:return n.lanes=0,Dp(e,n,s,n.pendingProps);case 24:ys(n,Se,e.memoizedState.cache)}return Pi(e,n,s)}function jp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Cf(e,s)&&(n.flags&128)===0)return we=!1,oT(e,n,s);we=(e.flags&131072)!==0}else we=!1,zt&&(n.flags&1048576)!==0&&_g(n,Oo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ar(n.elementType),n.type=e,typeof e=="function")Dh(e)?(o=Ir(e,o),n.tag=1,n=zp(null,n,e,o,s)):(n.tag=0,n=Ef(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Pt){n.tag=11,n=Ip(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=xp(null,n,e,o,s);break t}}throw n=kt(e)||e,Error(a(306,n,""))}}return n;case 0:return Ef(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ir(o,n.pendingProps),zp(e,n,o,h,s);case 3:t:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Qh(e,n),jo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,ys(n,Se,o),o!==f.cache&&jh(n,[Se],s,!0),Po(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=kp(e,n,o,s);break t}else if(o!==h){h=Rn(Error(a(424)),n),Mo(h),n=kp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=Dn(e.firstChild),Be=n,zt=!0,gs=null,xn=!0,s=Dg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Er(),o===h){n=Pi(e,n,s);break t}He(e,n,o,s)}n=n.child}return n;case 26:return Pu(e,n),e===null?(s=Jy(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,e=n.pendingProps,o=nc(wt.current).createElement(s),o[Ee]=n,o[Ve]=e,Fe(o,s,e),Te(o),n.stateNode=o):n.memoizedState=Jy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return tr(n),e===null&&zt&&(o=n.stateNode=Yy(n.type,n.pendingProps,wt.current),Be=n,xn=!0,h=ie,Ns(n.type)?(ad=h,ie=Dn(o.firstChild)):ie=h),He(e,n,n.pendingProps.children,s),Pu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=ie)&&(o=UT(o,n.type,n.pendingProps,xn),o!==null?(n.stateNode=o,Be=n,ie=Dn(o.firstChild),xn=!1,h=!0):h=!1),h||ps(n)),tr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,ed(h,f)?o=null:g!==null&&ed(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Wh(e,n,ZE,null,null,s),al._currentValue=h),Pu(e,n),He(e,n,o,s),n.child;case 6:return e===null&&zt&&((e=s=ie)&&(s=LT(s,n.pendingProps,xn),s!==null?(n.stateNode=s,Be=n,ie=null,e=!0):e=!1),e||ps(n)),null;case 13:return Up(e,n,s);case 4:return xe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Rr(n,null,o,s):He(e,n,o,s),n.child;case 11:return Ip(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ys(n,n.type,o.value),He(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,br(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,s),n.child;case 14:return xp(e,n,n.type,n.pendingProps,s);case 15:return Np(e,n,n.type,n.pendingProps,s);case 19:return Pp(e,n,s);case 31:return aT(e,n,s);case 22:return Dp(e,n,s,n.pendingProps);case 24:return br(n),o=qe(Se),e===null?(h=Hh(),h===null&&(h=ne,f=Bh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Gh(n),ys(n,Se,h)):((e.lanes&s)!==0&&(Qh(e,n),jo(n,null,null,s),Po()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ys(n,Se,o)):(o=f.cache,ys(n,Se,o),o!==h.cache&&jh(n,[Se],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ji(e){e.flags|=4}function If(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(dy())e.flags|=8192;else throw wr=Au,Fh}else e.flags&=-16777217}function Bp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!n_(n))if(dy())e.flags|=8192;else throw wr=Au,Fh}function Bu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Kl():536870912,e.lanes|=n,wa|=n)}function Qo(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function lT(e,n,s){var o=n.pendingProps;switch(zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ki(Se),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(fa(n)?ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Uh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ji(n),f!==null?(se(n),Bp(n,f)):(se(n),If(n,h,null,o,s))):f?f!==e.memoizedState?(ji(n),se(n),Bp(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ji(n),se(n),If(n,h,e,o,s)),null;case 27:if(Fr(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=rt.current,fa(n)?Eg(n):(e=Yy(h,o,s),n.stateNode=e,ji(n))}return se(n),null;case 5:if(Fr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(f=rt.current,fa(n))Eg(n);else{var g=nc(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ji(n)}}return se(n),If(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,fa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Uy(e.nodeValue,s)),e||ps(n,!0)}else e=nc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return se(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=fa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else Er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else s=Uh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=fa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else Er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Uh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Bu(n,n.updateQueue),se(n),null);case 4:return ae(),e===null&&$f(n.stateNode.containerInfo),se(n),null;case 10:return ki(n.type),se(n),null;case 19:if(X(ge),o=n.memoizedState,o===null)return se(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Qo(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Iu(e),f!==null){for(n.flags|=128,Qo(o,!1),e=f.updateQueue,n.updateQueue=e,Bu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)gg(s,e),s=s.sibling;return it(ge,ge.current&1|2),zt&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>Qu&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Iu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Bu(n,e),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!zt)return se(n),null}else 2*We()-o.renderingStartTime>Qu&&s!==536870912&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,s=ge.current,it(ge,h?s&1|2:s&1),zt&&Vi(n,o.treeForkCount),e):(se(n),null);case 22:case 23:return pn(n),$h(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&Bu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&X(Sr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ki(Se),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function uT(e,n){switch(zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ki(Se),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Fr(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(a(340));Er()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Er()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(ge),null;case 4:return ae(),null;case 10:return ki(n.type),null;case 22:case 23:return pn(n),$h(),e!==null&&X(Sr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ki(Se),null;case 25:return null;default:return null}}function qp(e,n){switch(zh(n),n.tag){case 3:ki(Se),ae();break;case 26:case 27:case 5:Fr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:X(ge);break;case 10:ki(n.type);break;case 22:case 23:pn(n),$h(),e!==null&&X(Sr);break;case 24:ki(Se)}}function Ko(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Jt(n,n.return,E)}}function Ss(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var x=s,P=E;try{P()}catch(Q){Jt(h,x,Q)}}}o=o.next}while(o!==f)}}catch(Q){Jt(n,n.return,Q)}}function Hp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Mg(n,s)}catch(o){Jt(e,e.return,o)}}}function Fp(e,n,s){s.props=Ir(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Jt(e,n,o)}}function Yo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Jt(e,n,h)}}function yi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Jt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Jt(e,n,h)}else s.current=null}function Gp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Jt(e,e.return,h)}}function xf(e,n,s){try{var o=e.stateNode;DT(o,e.type,s,n),o[Ve]=n}catch(h){Jt(e,e.return,h)}}function Qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ns(e.type)||e.tag===4}function Nf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ns(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Df(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&Ns(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Df(e,n,s),e=e.sibling;e!==null;)Df(e,n,s),e=e.sibling}function qu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ns(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(qu(e,n,s),e=e.sibling;e!==null;)qu(e,n,s),e=e.sibling}function Kp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,s),n[Ee]=e,n[Ve]=s}catch(f){Jt(e,e.return,f)}}var Bi=!1,Re=!1,Of=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,ke=null;function cT(e,n){if(e=e.containerInfo,Wf=uc,e=ag(e),Ah(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,x=-1,P=0,Q=0,Y=e,j=null;e:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(x=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)j=Y,Y=H;for(;;){if(Y===e)break e;if(j===s&&++P===h&&(E=g),j===f&&++Q===o&&(x=g),(H=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=H}s=E===-1||x===-1?null:{start:E,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(td={focusedElem:e,selectionRange:s},uc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Ir(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Jt(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)id(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function Xp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(e,s),o&4&&Ko(5,s);break;case 1:if(Hi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Jt(s,s.return,g)}else{var h=Ir(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Jt(s,s.return,g)}}o&64&&Hp(s),o&512&&Yo(s,s.return);break;case 3:if(Hi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Mg(e,n)}catch(g){Jt(s,s.return,g)}}break;case 27:n===null&&o&4&&Kp(s);case 26:case 5:Hi(e,s),n===null&&o&4&&Gp(s),o&512&&Yo(s,s.return);break;case 12:Hi(e,s);break;case 31:Hi(e,s),o&4&&Zp(e,s);break;case 13:Hi(e,s),o&4&&Wp(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=vT.bind(null,s),PT(e,s))));break;case 22:if(o=s.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Bi;var f=Re;Bi=o,(Re=n)&&!f?Fi(e,s,(s.subtreeFlags&8772)!==0):Hi(e,s),Bi=h,Re=f}break;case 30:break;default:Hi(e,s)}}function $p(e){var n=e.alternate;n!==null&&(e.alternate=null,$p(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,rn=!1;function qi(e,n,s){for(s=s.child;s!==null;)Jp(e,n,s),s=s.sibling}function Jp(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(kn,s)}catch{}switch(s.tag){case 26:Re||yi(s,n),qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Re||yi(s,n);var o=le,h=rn;Ns(s.type)&&(le=s.stateNode,rn=!1),qi(e,n,s),il(s.stateNode),le=o,rn=h;break;case 5:Re||yi(s,n);case 6:if(o=le,h=rn,le=null,qi(e,n,s),le=o,rn=h,le!==null)if(rn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Jt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Jt(s,n,f)}break;case 18:le!==null&&(rn?(e=le,Hy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ma(e)):Hy(le,s.stateNode));break;case 4:o=le,h=rn,le=s.stateNode.containerInfo,rn=!0,qi(e,n,s),le=o,rn=h;break;case 0:case 11:case 14:case 15:Ss(2,s,n),Re||Ss(4,s,n),qi(e,n,s);break;case 1:Re||(yi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Fp(s,n,o)),qi(e,n,s);break;case 21:qi(e,n,s);break;case 22:Re=(o=Re)||s.memoizedState!==null,qi(e,n,s),Re=o;break;default:qi(e,n,s)}}function Zp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(s){Jt(n,n.return,s)}}}function Wp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(s){Jt(n,n.return,s)}}function hT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Yp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Yp),n;default:throw Error(a(435,e.tag))}}function Hu(e,n){var s=hT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=ET.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ns(E.type)){le=E.stateNode,rn=!1;break t}break;case 5:le=E.stateNode,rn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(le===null)throw Error(a(160));Jp(f,g,h),le=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ty(n,e),n=n.sibling}var Qn=null;function ty(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Ss(3,e,e.return),Ko(3,e),Ss(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(Re||s===null||yi(s,s.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Qn;if(an(n,e),on(e),o&512&&(Re||s===null||yi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,s),f[Ee]=e,Te(f),o=f;break t;case"link":var g=t_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;case"meta":if(g=t_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else e_(h,e.type,e.stateNode);else e.stateNode=Wy(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?e_(h,e.type,e.stateNode):Wy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&xf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(Re||s===null||yi(s,s.return)),s!==null&&o&4&&xf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(Re||s===null||yi(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Jt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,xf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Of=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Jt(e,e.return,at)}}break;case 3:if(rc=null,h=Qn,Qn=ic(n.containerInfo),an(n,e),Qn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(at){Jt(e,e.return,at)}Of&&(Of=!1,ey(e));break;case 4:o=Qn,Qn=ic(e.stateNode.containerInfo),an(n,e),on(e),Qn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gu=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 22:h=e.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,P=Bi,Q=Re;if(Bi=P||h,Re=Q||x,an(n,e),Re=Q,Bi=P,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||x||Bi||Re||xr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){x=s=n;try{if(f=x.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=x.stateNode;var Y=x.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Jt(x,x.return,at)}}}else if(n.tag===6){if(s===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(at){Jt(x,x.return,at)}}}else if(n.tag===18){if(s===null){x=n;try{var H=x.stateNode;h?Fy(H,!0):Fy(x.stateNode,!1)}catch(at){Jt(x,x.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Hu(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Qp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Nf(e);qu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(sn(g,""),s.flags&=-33);var E=Nf(e);qu(e,E,g);break;case 3:case 4:var x=s.stateNode.containerInfo,P=Nf(e);Df(e,P,x);break;default:throw Error(a(161))}}catch(Q){Jt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xp(e,n.alternate,n),n=n.sibling}function xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),xr(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Fp(n,n.return,s),xr(n);break;case 27:il(n.stateNode);case 26:case 5:yi(n,n.return),xr(n);break;case 22:n.memoizedState===null&&xr(n);break;case 30:xr(n);break;default:xr(n)}e=e.sibling}}function Fi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,s),Ko(4,f);break;case 1:if(Fi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Jt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Og(x[h],E)}catch(P){Jt(o,o.return,P)}}s&&g&64&&Hp(f),Yo(f,f.return);break;case 27:Kp(f);case 26:case 5:Fi(h,f,s),s&&o===null&&g&4&&Gp(f),Yo(f,f.return);break;case 12:Fi(h,f,s);break;case 31:Fi(h,f,s),s&&g&4&&Zp(h,f);break;case 13:Fi(h,f,s),s&&g&4&&Wp(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,s),Yo(f,f.return);break;case 30:break;default:Fi(h,f,s)}n=n.sibling}}function Mf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Vo(s))}function Vf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e))}function Kn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ny(e,n,s,o),n=n.sibling}function ny(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,s,o),h&2048&&Ko(9,n);break;case 1:Kn(e,n,s,o);break;case 3:Kn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e)));break;case 12:if(h&2048){Kn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Jt(n,n.return,x)}}else Kn(e,n,s,o);break;case 31:Kn(e,n,s,o);break;case 13:Kn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,s,o):Xo(e,n):f._visibility&2?Kn(e,n,s,o):(f._visibility|=2,ba(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Mf(g,n);break;case 24:Kn(e,n,s,o),h&2048&&Vf(n.alternate,n);break;default:Kn(e,n,s,o)}}function ba(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,x=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:ba(f,g,E,x,h),Ko(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?ba(f,g,E,x,h):Xo(f,g):(Q._visibility|=2,ba(f,g,E,x,h)),h&&P&2048&&Mf(g.alternate,g);break;case 24:ba(f,g,E,x,h),h&&P&2048&&Vf(g.alternate,g);break;default:ba(f,g,E,x,h)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Xo(s,o),h&2048&&Mf(o.alternate,o);break;case 24:Xo(s,o),h&2048&&Vf(o.alternate,o);break;default:Xo(s,o)}n=n.sibling}}var $o=8192;function Sa(e,n,s){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)iy(e,n,s),e=e.sibling}function iy(e,n,s){switch(e.tag){case 26:Sa(e,n,s),e.flags&$o&&e.memoizedState!==null&&JT(s,Qn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,s);break;case 3:case 4:var o=Qn;Qn=ic(e.stateNode.containerInfo),Sa(e,n,s),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=$o,$o=16777216,Sa(e,n,s),$o=o):Sa(e,n,s));break;default:Sa(e,n,s)}}function sy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,ay(o,e)}sy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ry(e),e=e.sibling}function ry(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fu(e)):Jo(e);break;default:Jo(e)}}function Fu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,ay(o,e)}sy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),Fu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Fu(n));break;default:Fu(n)}e=e.sibling}}function ay(e,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:Ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Vo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ke=o;else t:for(s=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if($p(o),o===s){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var fT={getCacheForType:function(e){var n=qe(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Se).controller.signal}},dT=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ne=null,It=null,Nt=0,$t=0,yn=null,As=!1,Aa=!1,zf=!1,Gi=0,fe=0,ws=0,Nr=0,kf=0,_n=0,wa=0,Zo=null,ln=null,Uf=!1,Gu=0,oy=0,Qu=1/0,Ku=null,Rs=null,De=0,Cs=null,Ra=null,Qi=0,Lf=0,Pf=null,ly=null,Wo=0,jf=null;function vn(){return(Qt&2)!==0&&Nt!==0?Nt&-Nt:F.T!==null?Qf():Yl()}function uy(){if(_n===0)if((Nt&536870912)===0||zt){var e=ir;ir<<=1,(ir&3932160)===0&&(ir=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function un(e,n,s){(e===ne&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),Is(e,Nt,_n,!1)),sr(e,s),((Qt&2)===0||e!==ne)&&(e===ne&&((Qt&2)===0&&(Nr|=s),fe===4&&Is(e,Nt,_n,!1)),_i(e))}function cy(e,n,s){if((Qt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Un(e,n),h=o?pT(e,n):qf(e,n,!0),f=o;do{if(h===0){Aa&&!o&&Is(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!mT(s)){h=qf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Zo;var x=E.current.memoizedState.isDehydrated;if(x&&(Ca(E,g).flags|=256),g=qf(E,g,!1),g!==2){if(zf&&!x){E.errorRecoveryDisabledLanes|=f,Nr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ca(e,0),Is(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Is(o,n,_n,!As);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Gu+300-We(),10<h)){if(Is(o,n,_n,!As),ti(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=By(hy.bind(null,o,s,ln,Ku,Uf,n,_n,Nr,wa,As,f,"Throttled",-0,0),h);break t}hy(o,s,ln,Ku,Uf,n,_n,Nr,wa,As,f,null,-0,0)}}break}while(!0);_i(e)}function hy(e,n,s,o,h,f,g,E,x,P,Q,Y,j,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},iy(n,f,Y);var at=(f&62914560)===f?Gu-We():(f&4194048)===f?oy-We():0;if(at=ZT(Y,at),at!==null){Qi=f,e.cancelPendingCommit=at(vy.bind(null,e,n,f,s,o,h,g,E,x,Q,Y,null,j,H)),Is(e,f,g,!P);return}}vy(e,n,f,s,o,h,g,E,x)}function mT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Is(e,n,s,o){n&=~kf,n&=~Nr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&rr(e,s,n)}function Yu(){return(Qt&6)===0?(tl(0),!1):!0}function Bf(){if(It!==null){if($t===0)var e=It.return;else e=It,zi=Tr=null,nf(e),ya=null,ko=0,e=It;for(;e!==null;)qp(e.alternate,e),e=e.return;It=null}}function Ca(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,VT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Qi=0,Bf(),ne=e,It=s=Mi(e.current,null),Nt=n,$t=0,yn=null,As=!1,Aa=Un(e,n),zf=!1,wa=_n=kf=Nr=ws=fe=0,ln=Zo=null,Uf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,gu(),s}function fy(e,n){At=null,F.H=Fo,n===pa||n===Su?(n=Ig(),$t=3):n===Fh?(n=Ig(),$t=4):$t=n===vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,It===null&&(fe=1,Uu(e,Rn(n,e.current)))}function dy(){var e=gn.current;return e===null?!0:(Nt&4194048)===Nt?Nn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Nn:!1}function my(){var e=F.H;return F.H=Fo,e===null?Fo:e}function gy(){var e=F.A;return F.A=fT,e}function Xu(){fe=4,As||(Nt&4194048)!==Nt&&gn.current!==null||(Aa=!0),(ws&134217727)===0&&(Nr&134217727)===0||ne===null||Is(ne,Nt,_n,!1)}function qf(e,n,s){var o=Qt;Qt|=2;var h=my(),f=gy();(ne!==e||Nt!==n)&&(Ku=null,Ca(e,n)),n=!1;var g=fe;t:do try{if($t!==0&&It!==null){var E=It,x=yn;switch($t){case 8:Bf(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var P=$t;if($t=0,yn=null,Ia(e,E,x,P),s&&Aa){g=0;break t}break;default:P=$t,$t=0,yn=null,Ia(e,E,x,P)}}gT(),g=fe;break}catch(Q){fy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,zi=Tr=null,Qt=o,F.H=h,F.A=f,It===null&&(ne=null,Nt=0,gu()),g}function gT(){for(;It!==null;)py(It)}function pT(e,n){var s=Qt;Qt|=2;var o=my(),h=gy();ne!==e||Nt!==n?(Ku=null,Qu=We()+500,Ca(e,n)):Aa=Un(e,n);t:do try{if($t!==0&&It!==null){n=It;var f=yn;e:switch($t){case 1:$t=0,yn=null,Ia(e,n,f,1);break;case 2:case 9:if(Rg(f)){$t=0,yn=null,yy(n);break}n=function(){$t!==2&&$t!==9||ne!==e||($t=7),_i(e)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Rg(f)?($t=0,yn=null,yy(n)):($t=0,yn=null,Ia(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?n_(g):E.stateNode.complete){$t=0,yn=null;var x=E.sibling;if(x!==null)It=x;else{var P=E.return;P!==null?(It=P,$u(P)):It=null}break e}}$t=0,yn=null,Ia(e,n,f,5);break;case 6:$t=0,yn=null,Ia(e,n,f,6);break;case 8:Bf(),fe=6;break t;default:throw Error(a(462))}}yT();break}catch(Q){fy(e,Q)}while(!0);return zi=Tr=null,F.H=o,F.A=h,Qt=s,It!==null?0:(ne=null,Nt=0,gu(),fe)}function yT(){for(;It!==null&&!yh();)py(It)}function py(e){var n=jp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?$u(e):It=n}function yy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Vp(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Vp(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:nf(n);default:qp(s,n),n=It=gg(n,Gi),n=jp(s,n,Gi)}e.memoizedProps=e.pendingProps,n===null?$u(e):It=n}function Ia(e,n,s,o){zi=Tr=null,nf(n),ya=null,ko=0;var h=n.return;try{if(rT(e,h,n,s,Nt)){fe=1,Uu(e,Rn(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;fe=1,Uu(e,Rn(s,e.current)),It=null;return}n.flags&32768?(zt||o===1?e=!0:Aa||(Nt&536870912)!==0?e=!1:(As=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),_y(n,e)):$u(n)}function $u(e){var n=e;do{if((n.flags&32768)!==0){_y(n,As);return}e=n.return;var s=lT(n.alternate,n,Gi);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);fe===0&&(fe=5)}function _y(e,n){do{var s=uT(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);fe=6,It=null}function vy(e,n,s,o,h,f,g,E,x){e.cancelPendingCommit=null;do Ju();while(De!==0);if((Qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=xh,Eh(e,s,f,g,E,x),e===ne&&(It=ne=null,Nt=0),Ra=n,Cs=e,Qi=s,Lf=f,Pf=h,ly=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,TT(ss,function(){return Ay(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=tt.p,tt.p=2,g=Qt,Qt|=4;try{cT(e,n,s)}finally{Qt=g,tt.p=h,F.T=o}}De=1,Ey(),Ty(),by()}}function Ey(){if(De===1){De=0;var e=Cs,n=Ra,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=tt.p;tt.p=2;var h=Qt;Qt|=4;try{ty(n,e);var f=td,g=ag(e.containerInfo),E=f.focusedElem,x=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&rg(E.ownerDocument.documentElement,E)){if(x!==null&&Ah(E)){var P=x.start,Q=x.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var H=j.getSelection(),at=E.textContent.length,gt=Math.min(x.start,at),ee=x.end===void 0?gt:Math.min(x.end,at);!H.extend&&gt>ee&&(g=ee,ee=gt,gt=g);var k=sg(E,gt),O=sg(E,ee);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var L=Y.createRange();L.setStart(k.node,k.offset),H.removeAllRanges(),gt>ee?(H.addRange(L),H.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),H.addRange(L))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}uc=!!Wf,td=Wf=null}finally{Qt=h,tt.p=o,F.T=s}}e.current=n,De=2}}function Ty(){if(De===2){De=0;var e=Cs,n=Ra,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=tt.p;tt.p=2;var h=Qt;Qt|=4;try{Xp(e,n.alternate,n)}finally{Qt=h,tt.p=o,F.T=s}}De=3}}function by(){if(De===4||De===3){De=0,Bl();var e=Cs,n=Ra,s=Qi,o=ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Ra=Cs=null,Sy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rs=null),xi(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=tt.p,tt.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,tt.p=h}}(Qi&3)!==0&&Ju(),_i(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===jf?Wo++:(Wo=0,jf=e):Wo=0,tl(0)}}function Sy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Vo(n)))}function Ju(){return Ey(),Ty(),by(),Ay()}function Ay(){if(De!==5)return!1;var e=Cs,n=Lf;Lf=0;var s=xi(Qi),o=F.T,h=tt.p;try{tt.p=32>s?32:s,F.T=null,s=Pf,Pf=null;var f=Cs,g=Qi;if(De=0,Ra=Cs=null,Qi=0,(Qt&6)!==0)throw Error(a(331));var E=Qt;if(Qt|=4,ry(f.current),ny(f,f.current,g,s),Qt=E,tl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{tt.p=h,F.T=o,Sy(e,n)}}function wy(e,n,s){n=Rn(s,n),n=_f(e.stateNode,n,2),e=Es(e,n,2),e!==null&&(sr(e,2),_i(e))}function Jt(e,n,s){if(e.tag===3)wy(e,e,s);else for(;n!==null;){if(n.tag===3){wy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){e=Rn(s,e),s=Rp(2),o=Es(n,s,2),o!==null&&(Cp(s,o,n,e),sr(o,2),_i(o));break}}n=n.return}}function Hf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new dT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(zf=!0,h.add(s),e=_T.bind(null,e,n,s),n.then(e,e))}function _T(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ne===e&&(Nt&s)===s&&(fe===4||fe===3&&(Nt&62914560)===Nt&&300>We()-Gu?(Qt&2)===0&&Ca(e,0):kf|=s,wa===Nt&&(wa=0)),_i(e)}function Ry(e,n){n===0&&(n=Kl()),e=_r(e,n),e!==null&&(sr(e,n),_i(e))}function vT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ry(e,s)}function ET(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Ry(e,s)}function TT(e,n){return Ne(e,n)}var Zu=null,xa=null,Ff=!1,Wu=!1,Gf=!1,xs=0;function _i(e){e!==xa&&e.next===null&&(xa===null?Zu=xa=e:xa=xa.next=e),Wu=!0,Ff||(Ff=!0,ST())}function tl(e,n){if(!Gf&&Wu){Gf=!0;do for(var s=!1,o=Zu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ny(o,f))}else f=Nt,f=ti(o,o===ne?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Un(o,f)||(s=!0,Ny(o,f));o=o.next}while(s);Gf=!1}}function bT(){Cy()}function Cy(){Wu=Ff=!1;var e=0;xs!==0&&MT()&&(e=xs);for(var n=We(),s=null,o=Zu;o!==null;){var h=o.next,f=Iy(o,n);f===0?(o.next=null,s===null?Zu=h:s.next=h,h===null&&(xa=s)):(s=o,(e!==0||(f&3)!==0)&&(Wu=!0)),o=h}De!==0&&De!==5||tl(e),xs!==0&&(xs=0)}function Iy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,x=h[g];x===-1?((E&s)===0||(E&o)!==0)&&(h[g]=vh(E,n)):x<=n&&(e.expiredLanes|=E),f&=~E}if(n=ne,s=Nt,s=ti(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&is(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Un(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&is(o),xi(s)){case 2:case 8:s=uo;break;case 32:s=ss;break;case 268435456:s=ql;break;default:s=ss}return o=xy.bind(null,e),s=Ne(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&is(o),e.callbackPriority=2,e.callbackNode=null,2}function xy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ju()&&e.callbackNode!==s)return null;var o=Nt;return o=ti(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(cy(e,o,n),Iy(e,We()),e.callbackNode!=null&&e.callbackNode===s?xy.bind(null,e):null)}function Ny(e,n){if(Ju())return null;cy(e,n,!0)}function ST(){zT(function(){(Qt&6)!==0?Ne(lo,bT):Cy()})}function Qf(){if(xs===0){var e=ma;e===0&&(e=Zn,Zn<<=1,(Zn&261888)===0&&(Zn=256)),xs=e}return xs}function Dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wr(""+e)}function Oy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function AT(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Dy((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?Dy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xs!==0){var x=g?Oy(h,g):new FormData(h);ff(s,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=g?Oy(h,g):new FormData(h),ff(s,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var Kf=0;Kf<Ih.length;Kf++){var Yf=Ih[Kf],wT=Yf.toLowerCase(),RT=Yf[0].toUpperCase()+Yf.slice(1);Gn(wT,"on"+RT)}Gn(ug,"onAnimationEnd"),Gn(cg,"onAnimationIteration"),Gn(hg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(qE,"onTransitionRun"),Gn(HE,"onTransitionStart"),Gn(FE,"onTransitionCancel"),Gn(fg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function My(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],x=E.instance,P=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(Q){mu(Q)}h.currentTarget=null,f=x}else for(g=0;g<o.length;g++){if(E=o[g],x=E.instance,P=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(Q){mu(Q)}h.currentTarget=null,f=x}}}}function xt(e,n){var s=n[Yr];s===void 0&&(s=n[Yr]=new Set);var o=e+"__bubble";s.has(o)||(Vy(n,e,2,!1),s.add(o))}function Xf(e,n,s){var o=0;n&&(o|=4),Vy(s,e,o,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function $f(e){if(!e[tc]){e[tc]=!0,fo.forEach(function(s){s!=="selectionchange"&&(CT.has(s)||Xf(s,!1,e),Xf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tc]||(n[tc]=!0,Xf("selectionchange",!1,n))}}function Vy(e,n,s,o){switch(u_(n)){case 2:var h=eb;break;case 8:h=nb;break;default:h=hd}s=h.bind(null,n,s,e),h=void 0,!cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Jf(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=si(E),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){o=f=g;continue t}E=E.parentNode}}o=o.return}cs(function(){var P=f,Q=bn(s),Y=[];t:{var j=dg.get(e);if(j!==void 0){var H=hi,at=e;switch(e){case"keypress":if(fr(s)===0)break t;case"keydown":case"keyup":H=hu;break;case"focusin":at="focus",H=mr;break;case"focusout":at="blur",H=mr;break;case"beforeblur":case"afterblur":H=mr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case ug:case cg:case hg:H=su;break;case fg:H=b;break;case"scroll":case"scrollend":H=wo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Oi;break;case"toggle":case"beforetoggle":H=St}var gt=(n&4)!==0,ee=!gt&&(e==="scroll"||e==="scrollend"),k=gt?j!==null?j+"Capture":null:j;gt=[];for(var O=P,L;O!==null;){var K=O;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||k===null||(K=Bn(O,k),K!=null&&gt.push(nl(O,K,L))),ee)break;O=O.return}0<gt.length&&(j=new H(j,at,null,s,Q),Y.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==bo&&(at=s.relatedTarget||s.fromElement)&&(si(at)||at[ni]))break t;if((H||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(at=s.relatedTarget||s.toElement,H=P,at=at?si(at):null,at!==null&&(ee=c(at),gt=at.tag,at!==ee||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(H=null,at=P),H!==at)){if(gt=Ro,K="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Oi,K="onPointerLeave",k="onPointerEnter",O="pointer"),ee=H==null?j:hn(H),L=at==null?j:hn(at),j=new gt(K,O+"leave",H,s,Q),j.target=ee,j.relatedTarget=L,K=null,si(Q)===P&&(gt=new gt(k,O+"enter",at,s,Q),gt.target=L,gt.relatedTarget=ee,K=gt),ee=K,H&&at)e:{for(gt=IT,k=H,O=at,L=0,K=k;K;K=gt(K))L++;K=0;for(var ht=O;ht;ht=gt(ht))K++;for(;0<L-K;)k=gt(k),L--;for(;0<K-L;)O=gt(O),K--;for(;L--;){if(k===O||O!==null&&k===O.alternate){gt=k;break e}k=gt(k),O=gt(O)}gt=null}else gt=null;H!==null&&zy(Y,j,H,gt,!1),at!==null&&ee!==null&&zy(Y,ee,at,gt,!0)}}t:{if(j=P?hn(P):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var qt=Zm;else if($m(j))if(Wm)qt=PE;else{qt=UE;var lt=kE}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&Zr(P.elementType)&&(qt=Zm):qt=LE;if(qt&&(qt=qt(e,P))){Jm(Y,qt,s,Q);break t}lt&&lt(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&vo(j,"number",j.value)}switch(lt=P?hn(P):window,e){case"focusin":($m(lt)||lt.contentEditable==="true")&&(aa=lt,wh=P,Do=null);break;case"focusout":Do=wh=aa=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,og(Y,s,Q);break;case"selectionchange":if(BE)break;case"keydown":case"keyup":og(Y,s,Q)}var Rt;if(Gt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else ra?gr(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(mi&&s.locale!=="ko"&&(ra||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&ra&&(Rt=Ao()):(ci=Q,So="value"in ci?ci.value:ci.textContent,ra=!0)),lt=ec(P,Dt),0<lt.length&&(Dt=new di(Dt,e,null,s,Q),Y.push({event:Dt,listeners:lt}),Rt?Dt.data=Rt:(Rt=sa(s),Rt!==null&&(Dt.data=Rt)))),(Rt=An?OE(e,s):ME(e,s))&&(Dt=ec(P,"onBeforeInput"),0<Dt.length&&(lt=new di("onBeforeInput","beforeinput",null,s,Q),Y.push({event:lt,listeners:Dt}),lt.data=Rt)),AT(Y,e,P,s,Q)}My(Y,n)})}function nl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ec(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,s),h!=null&&o.unshift(nl(e,h,f)),h=Bn(e,n),h!=null&&o.push(nl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function IT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,x=E.alternate,P=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||P===null||(x=P,h?(P=Bn(s,f),P!=null&&g.unshift(nl(s,P,x))):h||(P=Bn(s,f),P!=null&&g.push(nl(s,P,x)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var xT=/\r\n?/g,NT=/\u0000|\uFFFD/g;function ky(e){return(typeof e=="string"?e:""+e).replace(xT,`
`).replace(NT,"")}function Uy(e,n){return n=ky(n),ky(e)===n}function te(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,s,o);break;case"style":To(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Wr(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Wr(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=jn);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Wr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),$r(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$r(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=eu.get(s)||s,$r(e,s,o))}}function Zf(e,n,s,o,h,f){switch(s){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):$r(e,s,o)}}}function Fe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,f,g,s,null)}}h&&te(e,n,"srcSet",s.srcSet,s,null),o&&te(e,n,"src",s.src,s,null);return;case"input":xt("invalid",e);var E=f=g=h=null,x=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":x=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:te(e,n,o,Q,s,null)}}Zl(e,f,E,x,P,g,h,!1);return;case"select":xt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:te(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?as(e,!!o,n,!1):s!=null&&as(e,!!o,s,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:te(e,n,g,E,s,null)}os(e,o,h,f);return;case"option":for(x in s)if(s.hasOwnProperty(x)&&(o=s[x],o!=null))switch(x){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:te(e,n,x,o,s,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)xt(el[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,P,o,s,null)}return;default:if(Zr(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&Zf(e,n,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&te(e,n,E,o,s,null))}function DT(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,x=null,P=null,Q=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=Y;default:o.hasOwnProperty(H)||te(e,n,H,null,o,Y)}}for(var j in o){var H=o[j];if(Y=s[j],o.hasOwnProperty(j)&&(H!=null||Y!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&te(e,n,j,H,o,Y)}}Jr(e,g,E,x,P,Q,f,h);return;case"select":H=g=E=j=null;for(f in s)if(x=s[f],s.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":H=x;default:o.hasOwnProperty(f)||te(e,n,f,null,o,x)}for(h in o)if(f=o[h],x=s[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==x&&te(e,n,h,f,o,x)}n=E,s=g,o=H,j!=null?as(e,!!s,j,!1):!!o!=!!s&&(n!=null?as(e,!!s,n,!0):as(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&te(e,n,g,h,o,f)}Wl(e,j,H);return;case"option":for(var at in s)if(j=s[at],s.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:te(e,n,at,null,o,j)}for(x in o)if(j=o[x],H=s[x],o.hasOwnProperty(x)&&j!==H&&(j!=null||H!=null))switch(x){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:te(e,n,x,j,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)j=s[gt],s.hasOwnProperty(gt)&&j!=null&&!o.hasOwnProperty(gt)&&te(e,n,gt,null,o,j);for(P in o)if(j=o[P],H=s[P],o.hasOwnProperty(P)&&j!==H&&(j!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:te(e,n,P,j,o,H)}return;default:if(Zr(n)){for(var ee in s)j=s[ee],s.hasOwnProperty(ee)&&j!==void 0&&!o.hasOwnProperty(ee)&&Zf(e,n,ee,void 0,o,j);for(Q in o)j=o[Q],H=s[Q],!o.hasOwnProperty(Q)||j===H||j===void 0&&H===void 0||Zf(e,n,Q,j,o,H);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&te(e,n,k,null,o,j);for(Y in o)j=o[Y],H=s[Y],!o.hasOwnProperty(Y)||j===H||j==null&&H==null||te(e,n,Y,j,o,H)}function Ly(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Ly(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var x=s[o],P=x.startTime;if(P>E)break;var Q=x.transferSize,Y=x.initiatorType;Q&&Ly(Y)&&(x=x.responseEnd,g+=Q*(x<E?1:(E-P)/(x-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wf=null,td=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function Py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ed(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nd=null;function MT(){var e=window.event;return e&&e.type==="popstate"?e===nd?!1:(nd=e,!0):(nd=null,!1)}var By=typeof setTimeout=="function"?setTimeout:void 0,VT=typeof clearTimeout=="function"?clearTimeout:void 0,qy=typeof Promise=="function"?Promise:void 0,zT=typeof queueMicrotask=="function"?queueMicrotask:typeof qy<"u"?function(e){return qy.resolve(null).then(e).catch(kT)}:By;function kT(e){setTimeout(function(){throw e})}function Ns(e){return e==="head"}function Hy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ma(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")il(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,il(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&il(e.ownerDocument.body);s=h}while(s);Ma(n)}function Fy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function id(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":id(s),Xr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function UT(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function LT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Dn(e.nextSibling),e===null))return null;return e}function Gy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function sd(e){return e.data==="$?"||e.data==="$~"}function rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function PT(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Dn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ad=null;function Qy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Dn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Ky(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Yy(e,n,s){switch(n=nc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xr(e)}var On=new Map,Xy=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=tt.d;tt.d={f:jT,r:BT,D:qT,C:HT,L:FT,m:GT,X:KT,S:QT,M:YT};function jT(){var e=Ki.f(),n=Yu();return e||n}function BT(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?fp(n):Ki.r(e)}var Na=typeof document>"u"?null:document;function $y(e,n,s){var o=Na;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Xy.has(h)||(Xy.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function qT(e){Ki.D(e),$y("dns-prefetch",e,null)}function HT(e,n){Ki.C(e,n),$y("preconnect",e,n)}function FT(e,n,s){Ki.L(e,n,s);var o=Na;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Da(e);break;case"script":f=Oa(e)}On.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),On.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(rl(f))||(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function GT(e,n){Ki.m(e,n);var s=Na;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!On.has(f)&&(e=w({rel:"modulepreload",href:e},n),On.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(rl(f)))return}o=s.createElement("link"),Fe(o,"link",e),Te(o),s.head.appendChild(o)}}}function QT(e,n,s){Ki.S(e,n,s);var o=Na;if(o&&e){var h=ri(o).hoistableStyles,f=Da(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(sl(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=On.get(f))&&od(e,s);var x=g=o.createElement("link");Te(x),Fe(x,"link",e),x._p=new Promise(function(P,Q){x.onload=P,x.onerror=Q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function KT(e,n){Ki.X(e,n);var s=Na;if(s&&e){var o=ri(s).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=s.querySelector(rl(h)),f||(e=w({src:e,async:!0},n),(n=On.get(h))&&ld(e,n),f=s.createElement("script"),Te(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function YT(e,n){Ki.M(e,n);var s=Na;if(s&&e){var o=ri(s).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=s.querySelector(rl(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=On.get(h))&&ld(e,n),f=s.createElement("script"),Te(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Jy(e,n,s,o){var h=(h=wt.current)?ic(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Da(s.href),s=ri(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Da(s.href);var f=ri(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(sl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},On.set(e,s),f||XT(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oa(s),s=ri(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Da(e){return'href="'+nn(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function Zy(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function XT(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",s),Te(n),e.head.appendChild(n))}function Oa(e){return'[src="'+nn(e)+'"]'}function rl(e){return"script[async]"+e}function Wy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Fe(o,"style",h),sc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Da(s.href);var f=e.querySelector(sl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=Zy(s),(h=On.get(h))&&od(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Fe(f,"link",o),n.state.loading|=4,sc(f,s.precedence,e),n.instance=f;case"script":return f=Oa(s.src),(h=e.querySelector(rl(f)))?(n.instance=h,Te(h),h):(o=s,(h=On.get(f))&&(o=w({},s),ld(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,sc(o,s.precedence,e));return n.instance}function sc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ld(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var rc=null;function t_(e,n,s){if(rc===null){var o=new Map,h=rc=new Map;h.set(s,o)}else h=rc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ii]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function e_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function $T(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function n_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function JT(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Da(o.href),f=n.querySelector(sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ac.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Te(f);return}f=n.ownerDocument||n,o=Zy(o),(h=On.get(h))&&od(o,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Fe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ac.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var ud=0;function ZT(e,n){return e.stylesheets&&e.count===0&&lc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ud===0&&(ud=62500*OT());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ud?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function lc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,n.forEach(WT,e),oc=null,ac.call(e))}function WT(e,n){if(!(n.state.loading&4)){var s=oc.get(e);if(s)var o=s.get(null);else{s=new Map,oc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var al={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function tb(e,n,s,o,h,f,g,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function i_(e,n,s,o,h,f,g,E,x,P,Q,Y){return e=new tb(e,n,s,g,x,P,Q,Y,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=Bh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Gh(f),e}function s_(e){return e?(e=ua,e):ua}function r_(e,n,s,o,h,f){h=s_(h),o.context===null?o.context=h:o.pendingContext=h,o=vs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Es(e,o,n),s!==null&&(un(s,e,n),Lo(s,e,n))}function a_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function cd(e,n){a_(e,n),(e=e.alternate)&&a_(e,n)}function o_(e){if(e.tag===13||e.tag===31){var n=_r(e,67108864);n!==null&&un(n,e,67108864),cd(e,67108864)}}function l_(e){if(e.tag===13||e.tag===31){var n=vn();n=ar(n);var s=_r(e,n);s!==null&&un(s,e,n),cd(e,n)}}var uc=!0;function eb(e,n,s,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=2,hd(e,n,s,o)}finally{tt.p=f,F.T=h}}function nb(e,n,s,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=8,hd(e,n,s,o)}finally{tt.p=f,F.T=h}}function hd(e,n,s,o){if(uc){var h=fd(o);if(h===null)Jf(e,n,o,cc,s),c_(e,o);else if(sb(h,e,n,s,o))o.stopPropagation();else if(c_(e,o),n&4&&-1<ib.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var x=1<<31-de(g);E.entanglements[1]|=x,g&=~x}_i(f),(Qt&6)===0&&(Qu=We()+500,tl(0))}}break;case 31:case 13:E=_r(f,2),E!==null&&un(E,f,2),Yu(),cd(f,2)}if(f=fd(o),f===null&&Jf(e,n,o,cc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Jf(e,n,o,null,s)}}function fd(e){return e=bn(e),dd(e)}var cc=null;function dd(e){if(cc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cc=e,null}function u_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nr()){case lo:return 2;case uo:return 8;case ss:case _h:return 32;case ql:return 268435456;default:return 32}default:return 32}}var md=!1,Ds=null,Os=null,Ms=null,ol=new Map,ll=new Map,Vs=[],ib="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c_(e,n){switch(e){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ul(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&o_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function sb(e,n,s,o,h){switch(n){case"focusin":return Ds=ul(Ds,e,n,s,o,h),!0;case"dragenter":return Os=ul(Os,e,n,s,o,h),!0;case"mouseover":return Ms=ul(Ms,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ol.set(f,ul(ol.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ll.set(f,ul(ll.get(f)||null,e,n,s,o,h)),!0}return!1}function h_(e){var n=si(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Ln(e.priority,function(){l_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Ln(e.priority,function(){l_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=fd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);bo=o,s.target.dispatchEvent(o),bo=null}else return n=Tn(s),n!==null&&o_(n),e.blockedOn=s,!1;n.shift()}return!0}function f_(e,n,s){hc(e)&&s.delete(n)}function rb(){md=!1,Ds!==null&&hc(Ds)&&(Ds=null),Os!==null&&hc(Os)&&(Os=null),Ms!==null&&hc(Ms)&&(Ms=null),ol.forEach(f_),ll.forEach(f_)}function fc(e,n){e.blockedOn===n&&(e.blockedOn=null,md||(md=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rb)))}var dc=null;function d_(e){dc!==e&&(dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(dd(o||s)===null)continue;break}var f=Tn(s);f!==null&&(e.splice(n,3),n-=3,ff(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ma(e){function n(x){return fc(x,e)}Ds!==null&&fc(Ds,e),Os!==null&&fc(Os,e),Ms!==null&&fc(Ms,e),ol.forEach(n),ll.forEach(n);for(var s=0;s<Vs.length;s++){var o=Vs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vs.length&&(s=Vs[0],s.blockedOn===null);)h_(s),s.blockedOn===null&&Vs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Ve]||null;if(typeof f=="function")g||d_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(dd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),d_(s)}}}function m_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function gd(e){this._internalRoot=e}mc.prototype.render=gd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=vn();r_(s,o,e,n,null,null)},mc.prototype.unmount=gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;r_(e.current,2,null,e,null,null),Yu(),n[ni]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Vs.length&&n!==0&&n<Vs[s].priority;s++);Vs.splice(s,0,e),s===0&&h_(e)}};var g_=t.version;if(g_!=="19.2.1")throw Error(a(527,g_,"19.2.1"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var ab={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{kn=gc.inject(ab),Pe=gc}catch{}}return hl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=bp,f=Sp,g=Ap;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=i_(e,1,!1,null,null,s,o,null,h,f,g,m_),e[ni]=n.current,$f(e),new gd(n)},hl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=bp,g=Sp,E=Ap,x=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),n=i_(e,1,!0,n,s??null,o,h,x,f,g,E,m_),n.context=s_(null),s=n.current,o=vn(),o=ar(o),h=vs(o),h.callback=null,Es(s,h,o),s=o,n.current.lanes=s,sr(n,s),_i(n),e[ni]=n.current,$f(e),new mc(n)},hl.version="19.2.1",hl}var w_;function yb(){if(w_)return _d.exports;w_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_d.exports=pb(),_d.exports}var _b=yb();const vb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Eb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),R_=r=>{const t=Eb(r);return t.charAt(0).toUpperCase()+t.slice(1)},tv=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),Tb=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var bb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Sb=Ct.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Ct.createElement("svg",{ref:y,...bb,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:tv("lucide",l),...!c&&!Tb(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,T])=>Ct.createElement(_,T)),...Array.isArray(c)?c:[c]]));const Bt=(r,t)=>{const i=Ct.forwardRef(({className:a,...l},c)=>Ct.createElement(Sb,{ref:c,iconNode:t,className:tv(`lucide-${vb(R_(r))}`,`lucide-${r}`,a),...l}));return i.displayName=R_(r),i};const Ab=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],wb=Bt("baby",Ab);const Rb=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],om=Bt("brain",Rb);const Cb=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],Ib=Bt("calendar-range",Cb);const xb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ev=Bt("calendar",xb);const Nb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Db=Bt("circle-alert",Nb);const Ob=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mb=Bt("circle-check-big",Ob);const Vb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zb=Bt("clock",Vb);const kb=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],nv=Bt("cloud",kb);const Ub=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Lb=Bt("credit-card",Ub);const Pb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jb=Bt("download",Pb);const Bb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],iv=Bt("file-text",Bb);const qb=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Hb=Bt("funnel",qb);const Fb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],sv=Bt("grid-3x3",Fb);const Gb=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Qb=Bt("hard-drive",Gb);const Kb=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Yb=Bt("heart",Kb);const Xb=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],$b=Bt("house",Xb);const Jb=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Zb=Bt("key",Jb);const Wb=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],tS=Bt("message-circle",Wb);const eS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],rv=Bt("pencil",eS);const nS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],av=Bt("plus",nS);const iS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sS=Bt("save",iS);const rS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aS=Bt("search",rS);const oS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lS=Bt("settings",oS);const uS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],cS=Bt("smile",uS);const hS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],fS=Bt("sparkles",hS);const dS=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],mS=Bt("tag",dS);const gS=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]],ov=Bt("text-align-justify",gS);const pS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lm=Bt("trash-2",pS);const yS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_S=Bt("upload",yS);const vS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lv=Bt("user",vS);const ES=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uv=Bt("users",ES);const TS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vd=Bt("x",TS);const bS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],SS=Bt("zap",bS),AS=()=>{};var C_={};const cv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},wS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,T=c>>2,w=(c&3)<<4|p>>4;let z=(p&15)<<2|_>>6,B=_&63;y||(B=64,d||(z=64)),a.push(i[T],i[w],i[z],i[B])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(cv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):wS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||w==null)throw new RS;const z=c<<2|p>>4;if(a.push(z),_!==64){const B=p<<4&240|_>>2;if(a.push(B),w!==64){const G=_<<6&192|w;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class RS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CS=function(r){const t=cv(r);return hv.encodeByteArray(t,!0)},Oc=function(r){return CS(r).replace(/\./g,"")},fv=function(r){try{return hv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function IS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const xS=()=>IS().__FIREBASE_DEFAULTS__,NS=()=>{if(typeof process>"u"||typeof C_>"u")return;const r=C_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},DS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&fv(r[1]);return t&&JSON.parse(t)},Wc=()=>{try{return AS()||xS()||NS()||DS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},dv=r=>Wc()?.emulatorHosts?.[r],OS=r=>{const t=dv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},mv=()=>Wc()?.config,gv=r=>Wc()?.[`_${r}`];class MS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Za(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pv(r){return(await fetch(r,{credentials:"include"})).ok}function VS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Oc(JSON.stringify(i)),Oc(JSON.stringify(d)),""].join(".")}const pl={};function zS(){const r={prod:[],emulator:[]};for(const t of Object.keys(pl))pl[t]?r.emulator.push(t):r.prod.push(t);return r}function kS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let I_=!1;function yv(r,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||pl[r]===t||pl[r]||I_)return;pl[r]=t;function i(z){return`__firebase__banner__${z}`}const a="__firebase__banner",c=zS().prod.length>0;function d(){const z=document.getElementById(a);z&&z.remove()}function p(z){z.style.display="flex",z.style.background="#7faaf0",z.style.position="fixed",z.style.bottom="5px",z.style.left="5px",z.style.padding=".5em",z.style.borderRadius="5px",z.style.alignItems="center"}function y(z,B){z.setAttribute("width","24"),z.setAttribute("id",B),z.setAttribute("height","24"),z.setAttribute("viewBox","0 0 24 24"),z.setAttribute("fill","none"),z.style.marginLeft="-6px"}function _(){const z=document.createElement("span");return z.style.cursor="pointer",z.style.marginLeft="16px",z.style.fontSize="24px",z.innerHTML=" &times;",z.onclick=()=>{I_=!0,d()},z}function T(z,B){z.setAttribute("id",B),z.innerText="Learn more",z.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",z.setAttribute("target","__blank"),z.style.paddingLeft="5px",z.style.textDecoration="underline"}function w(){const z=kS(a),B=i("text"),G=document.getElementById(B)||document.createElement("span"),et=i("learnmore"),W=document.getElementById(et)||document.createElement("a"),ot=i("preprendIcon"),yt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(z.created){const dt=z.element;p(dt),T(W,et);const Pt=_();y(yt,ot),dt.append(yt,G,W,Pt),document.body.appendChild(dt)}c?(G.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function US(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function LS(){const r=Wc()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function BS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qS(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function HS(){return!LS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FS(){try{return typeof indexedDB=="object"}catch{return!1}}function GS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const QS="FirebaseError";class ns extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=QS,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?KS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ns(l,p,a)}}function KS(r,t){return r.replace(YS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const YS=/\{\$([^}]+)}/g;function XS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(x_(c)&&x_(d)){if(!zr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function x_(r){return r!==null&&typeof r=="object"}function Ol(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function $S(r,t){const i=new JS(r,t);return i.subscribe.bind(i)}class JS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");ZS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=bd),l.error===void 0&&(l.error=bd),l.complete===void 0&&(l.complete=bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function bd(){}function zn(r){return r&&r._delegate?r._delegate:r}class kr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Dr="[DEFAULT]";class WS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new MS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eA(t))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Dr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Dr){return this.instances.has(t)}getOptions(t=Dr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:tA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Dr){return this.component?this.component.multipleInstances?t:Dr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tA(r){return r===Dr?void 0:r}function eA(r){return r.instantiationMode==="EAGER"}class nA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new WS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const iA={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},sA=Ot.INFO,rA={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},aA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=rA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class um{constructor(t){this.name=t,this._logLevel=sA,this._logHandler=aA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const oA=(r,t)=>t.some(i=>r instanceof i);let N_,D_;function lA(){return N_||(N_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uA(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _v=new WeakMap,zd=new WeakMap,vv=new WeakMap,Sd=new WeakMap,cm=new WeakMap;function cA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(qs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&_v.set(i,r)}).catch(()=>{}),cm.set(t,r),t}function hA(r){if(zd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});zd.set(r,t)}let kd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return zd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||vv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function fA(r){kd=r(kd)}function dA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ad(this),t,...i);return vv.set(a,t.sort?t.sort():[t]),qs(a)}:uA().includes(r)?function(...t){return r.apply(Ad(this),t),qs(_v.get(this))}:function(...t){return qs(r.apply(Ad(this),t))}}function mA(r){return typeof r=="function"?dA(r):(r instanceof IDBTransaction&&hA(r),oA(r,lA())?new Proxy(r,kd):r)}function qs(r){if(r instanceof IDBRequest)return cA(r);if(Sd.has(r))return Sd.get(r);const t=mA(r);return t!==r&&(Sd.set(r,t),cm.set(t,r)),t}const Ad=r=>cm.get(r);function gA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=qs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(qs(d.result),y.oldVersion,y.newVersion,qs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const pA=["get","getKey","getAll","getAllKeys","count"],yA=["put","add","delete","clear"],wd=new Map;function O_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(wd.get(t))return wd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=yA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||pA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return wd.set(t,c),c}fA(r=>({...r,get:(t,i,a)=>O_(t,i)||r.get(t,i,a),has:(t,i)=>!!O_(t,i)||r.has(t,i)}));class _A{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(vA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function vA(r){return r.getComponent()?.type==="VERSION"}const Ud="@firebase/app",M_="0.14.6";const Ji=new um("@firebase/app"),EA="@firebase/app-compat",TA="@firebase/analytics-compat",bA="@firebase/analytics",SA="@firebase/app-check-compat",AA="@firebase/app-check",wA="@firebase/auth",RA="@firebase/auth-compat",CA="@firebase/database",IA="@firebase/data-connect",xA="@firebase/database-compat",NA="@firebase/functions",DA="@firebase/functions-compat",OA="@firebase/installations",MA="@firebase/installations-compat",VA="@firebase/messaging",zA="@firebase/messaging-compat",kA="@firebase/performance",UA="@firebase/performance-compat",LA="@firebase/remote-config",PA="@firebase/remote-config-compat",jA="@firebase/storage",BA="@firebase/storage-compat",qA="@firebase/firestore",HA="@firebase/ai",FA="@firebase/firestore-compat",GA="firebase",QA="12.6.0";const Ld="[DEFAULT]",KA={[Ud]:"fire-core",[EA]:"fire-core-compat",[bA]:"fire-analytics",[TA]:"fire-analytics-compat",[AA]:"fire-app-check",[SA]:"fire-app-check-compat",[wA]:"fire-auth",[RA]:"fire-auth-compat",[CA]:"fire-rtdb",[IA]:"fire-data-connect",[xA]:"fire-rtdb-compat",[NA]:"fire-fn",[DA]:"fire-fn-compat",[OA]:"fire-iid",[MA]:"fire-iid-compat",[VA]:"fire-fcm",[zA]:"fire-fcm-compat",[kA]:"fire-perf",[UA]:"fire-perf-compat",[LA]:"fire-rc",[PA]:"fire-rc-compat",[jA]:"fire-gcs",[BA]:"fire-gcs-compat",[qA]:"fire-fst",[FA]:"fire-fst-compat",[HA]:"fire-vertex","fire-js":"fire-js",[GA]:"fire-js-all"};const Mc=new Map,YA=new Map,Pd=new Map;function V_(r,t){try{r.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ga(r){const t=r.name;if(Pd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,r);for(const i of Mc.values())V_(i,r);for(const i of YA.values())V_(i,r);return!0}function hm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Yn(r){return r==null?!1:r.settings!==void 0}const XA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Dl("app","Firebase",XA);class $A{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const Wa=QA;function Ev(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Ld,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Hs.create("bad-app-name",{appName:String(l)});if(i||(i=mv()),!i)throw Hs.create("no-options");const c=Mc.get(l);if(c){if(zr(i,c.options)&&zr(a,c.config))return c;throw Hs.create("duplicate-app",{appName:l})}const d=new nA(l);for(const y of Pd.values())d.addComponent(y);const p=new $A(i,a,d);return Mc.set(l,p),p}function Tv(r=Ld){const t=Mc.get(r);if(!t&&r===Ld&&mv())return Ev();if(!t)throw Hs.create("no-app",{appName:r});return t}function Fs(r,t,i){let a=KA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Ga(new kr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const JA="firebase-heartbeat-database",ZA=1,bl="firebase-heartbeat-store";let Rd=null;function bv(){return Rd||(Rd=gA(JA,ZA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(bl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Hs.create("idb-open",{originalErrorMessage:r.message})})),Rd}async function WA(r){try{const i=(await bv()).transaction(bl),a=await i.objectStore(bl).get(Sv(r));return await i.done,a}catch(t){if(t instanceof ns)Ji.warn(t.message);else{const i=Hs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function z_(r,t){try{const a=(await bv()).transaction(bl,"readwrite");await a.objectStore(bl).put(t,Sv(r)),await a.done}catch(i){if(i instanceof ns)Ji.warn(i.message);else{const a=Hs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function Sv(r){return`${r.name}!${r.options.appId}`}const t2=1024,e2=30;class n2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new s2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=k_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>e2){const l=r2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=k_(),{heartbeatsToSend:i,unsentEntries:a}=i2(this._heartbeatsCache.heartbeats),l=Oc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function k_(){return new Date().toISOString().substring(0,10)}function i2(r,t=t2){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),U_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),U_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class s2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FS()?GS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await WA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function U_(r){return Oc(JSON.stringify({version:2,heartbeats:r})).length}function r2(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function a2(r){Ga(new kr("platform-logger",t=>new _A(t),"PRIVATE")),Ga(new kr("heartbeat",t=>new n2(t),"PRIVATE")),Fs(Ud,M_,r),Fs(Ud,M_,"esm2020"),Fs("fire-js","")}a2("");var o2="firebase",l2="12.6.0";Fs(o2,l2,"app");function Av(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u2=Av,wv=new Dl("auth","Firebase",Av());const Vc=new um("@firebase/auth");function c2(r,...t){Vc.logLevel<=Ot.WARN&&Vc.warn(`Auth (${Wa}): ${r}`,...t)}function bc(r,...t){Vc.logLevel<=Ot.ERROR&&Vc.error(`Auth (${Wa}): ${r}`,...t)}function Zi(r,...t){throw fm(r,...t)}function Ti(r,...t){return fm(r,...t)}function Rv(r,t,i){const a={...u2(),[t]:i};return new Dl("auth","Firebase",a).create(t,{appName:r.name})}function Gs(r){return Rv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return wv.create(r,...t)}function _t(r,t,...i){if(!r)throw fm(t,...i)}function Yi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw bc(t),new Error(t)}function Wi(r,t){r||Yi(t)}function jd(){return typeof self<"u"&&self.location?.href||""}function h2(){return L_()==="http:"||L_()==="https:"}function L_(){return typeof self<"u"&&self.location?.protocol||null}function f2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h2()||jS()||"connection"in navigator)?navigator.onLine:!0}function d2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ml{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=US()||BS()}get(){return f2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dm(r,t){Wi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Cv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const m2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const g2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p2=new Ml(3e4,6e4);function th(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function to(r,t,i,a,l={}){return Iv(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ol({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return PS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Za(r.emulatorConfig.host)&&(_.credentials="include"),Cv.fetch()(await Nv(r,r.config.apiHost,i,p),_)})}async function Iv(r,t,i){r._canInitEmulator=!1;const a={...m2,...t};try{const l=new y2(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw pc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw pc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw pc(r,"user-disabled",d);const T=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Rv(r,T,_);Zi(r,T)}}catch(l){if(l instanceof ns)throw l;Zi(r,"network-request-failed",{message:String(l)})}}async function xv(r,t,i,a,l={}){const c=await to(r,t,i,a,l);return"mfaPendingCredential"in c&&Zi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Nv(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?dm(r.config,l):`${r.config.apiScheme}://${l}`;return g2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class y2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ti(this.auth,"network-request-failed")),p2.get())})}}function pc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ti(r,t,a);return l.customData._tokenResponse=i,l}async function _2(r,t){return to(r,"POST","/v1/accounts:delete",t)}async function zc(r,t){return to(r,"POST","/v1/accounts:lookup",t)}function yl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function v2(r,t=!1){const i=zn(r),a=await i.getIdToken(t),l=mm(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:yl(Cd(l.auth_time)),issuedAtTime:yl(Cd(l.iat)),expirationTime:yl(Cd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Cd(r){return Number(r)*1e3}function mm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=fv(i);return l?JSON.parse(l):(bc("Failed to decode base64 JWT payload"),null)}catch(l){return bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function P_(r){const t=mm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Sl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ns&&E2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function E2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class T2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kc(r){const t=r.auth,i=await r.getIdToken(),a=await Sl(r,zc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Dv(l.providerUserInfo):[],d=S2(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Bd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,T)}async function b2(r){const t=zn(r);await kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function S2(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Dv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function A2(r,t){const i=await Iv(r,{},async()=>{const a=Ol({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Nv(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&Za(r.emulatorConfig.host)&&(y.credentials="include"),Cv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function w2(r,t){return to(r,"POST","/v2/accounts:revokeToken",th(r,t))}class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):P_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=P_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await A2(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Pa;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function ks(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new T2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Bd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Sl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return v2(this,t)}reload(){return b2(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Gs(this.auth));const t=await this.getIdToken();return await Sl(this,_2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:w,emailVerified:z,isAnonymous:B,providerData:G,stsTokenManager:et}=i;_t(w&&et,t,"internal-error");const W=Pa.fromJSON(this.name,et);_t(typeof w=="string",t,"internal-error"),ks(a,t.name),ks(l,t.name),_t(typeof z=="boolean",t,"internal-error"),_t(typeof B=="boolean",t,"internal-error"),ks(c,t.name),ks(d,t.name),ks(p,t.name),ks(y,t.name),ks(_,t.name),ks(T,t.name);const ot=new Xn({uid:w,auth:t,email:l,emailVerified:z,displayName:a,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:T});return G&&Array.isArray(G)&&(ot.providerData=G.map(yt=>({...yt}))),y&&(ot._redirectEventId=y),ot}static async _fromIdTokenResponse(t,i,a=!1){const l=new Pa;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await kc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Dv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Pa;p.updateFromIdToken(a);const y=new Xn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Bd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const j_=new Map;function Xi(r){Wi(r instanceof Function,"Expected a class definition");let t=j_.get(r);return t?(Wi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,j_.set(r,t),t)}class Ov{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Ov.type="NONE";const B_=Ov;function Sc(r,t,i){return`firebase:${r}:${t}:${i}`}class ja{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Sc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Sc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await zc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new ja(Xi(B_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Xi(B_);const d=Sc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const T=await _._get(d);if(T){let w;if(typeof T=="string"){const z=await zc(t,{idToken:T}).catch(()=>{});if(!z)break;w=await Xn._fromGetAccountInfoResponse(t,z,T)}else w=Xn._fromJSON(t,T);_!==c&&(p=w),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new ja(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ja(c,t,a))}}function q_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Lv(t))return"Blackberry";if(Pv(t))return"Webos";if(Vv(t))return"Safari";if((t.includes("chrome/")||zv(t))&&!t.includes("edge/"))return"Chrome";if(Uv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Mv(r=Ze()){return/firefox\//i.test(r)}function Vv(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zv(r=Ze()){return/crios\//i.test(r)}function kv(r=Ze()){return/iemobile/i.test(r)}function Uv(r=Ze()){return/android/i.test(r)}function Lv(r=Ze()){return/blackberry/i.test(r)}function Pv(r=Ze()){return/webos/i.test(r)}function gm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function R2(r=Ze()){return gm(r)&&!!window.navigator?.standalone}function C2(){return qS()&&document.documentMode===10}function jv(r=Ze()){return gm(r)||Uv(r)||Pv(r)||Lv(r)||/windows phone/i.test(r)||kv(r)}function Bv(r,t=[]){let i;switch(r){case"Browser":i=q_(Ze());break;case"Worker":i=`${q_(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Wa}/${a}`}class I2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function x2(r,t={}){return to(r,"GET","/v2/passwordPolicy",th(r,t))}const N2=6;class D2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??N2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class O2{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new I2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ja.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await zc(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=d2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Gs(this));const i=t?zn(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await x2(this),i=new D2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Dl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await w2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Bv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&c2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function eh(r){return zn(r)}class H_{constructor(t){this.auth=t,this.observer=null,this.addObserver=$S(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M2(r){pm=r}function V2(r){return pm.loadJS(r)}function z2(){return pm.gapiScript}function k2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function U2(r,t){const i=hm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(zr(c,t??{}))return l;Zi(l,"already-initialized")}return i.initialize({options:t})}function L2(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function P2(r,t,i){const a=eh(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=qv(t),{host:d,port:p}=j2(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(zr(_,a.config.emulator)&&zr(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,Za(d)?(pv(`${c}//${d}${y}`),yv("Auth",!0)):B2()}function qv(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function j2(r){const t=qv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:F_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:F_(d)}}}function F_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function B2(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Hv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function Ba(r,t){return xv(r,"POST","/v1/accounts:signInWithIdp",th(r,t))}const q2="http://localhost";class Ur extends Hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ur(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Zi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Ur(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ba(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ba(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ba(t,i)}buildRequest(){const t={requestUri:q2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ol(i)}return t}}class Fv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Vl extends Fv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Us extends Vl{constructor(){super("facebook.com")}static credential(t){return Ur._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Us.credential(t.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";class Ls extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ur._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ls.credential(i,a)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";class Ps extends Vl{constructor(){super("github.com")}static credential(t){return Ur._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";class js extends Vl{constructor(){super("twitter.com")}static credential(t,i){return Ur._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return js.credential(i,a)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";async function H2(r,t){return xv(r,"POST","/v1/accounts:signUp",th(r,t))}class Ks{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=G_(a);return new Ks({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=G_(a);return new Ks({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function G_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function F2(r){if(Yn(r.app))return Promise.reject(Gs(r));const t=eh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ks({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await H2(t,{returnSecureToken:!0}),a=await Ks._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Uc extends ns{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Uc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Uc(t,i,a,l)}}function Gv(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Uc._fromErrorAndOperation(r,c,t,a):c})}async function G2(r,t,i=!1){const a=await Sl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Ks._forOperation(r,"link",a)}async function Q2(r,t,i=!1){const{auth:a}=r;if(Yn(a.app))return Promise.reject(Gs(a));const l="reauthenticate";try{const c=await Sl(r,Gv(a,l,t,r),i);_t(c.idToken,a,"internal-error");const d=mm(c.idToken);_t(d,a,"internal-error");const{sub:p}=d;return _t(r.uid===p,a,"user-mismatch"),Ks._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zi(a,"user-mismatch"),c}}async function K2(r,t,i=!1){if(Yn(r.app))return Promise.reject(Gs(r));const a="signIn",l=await Gv(r,a,t),c=await Ks._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function Y2(r,t,i,a){return zn(r).onIdTokenChanged(t,i,a)}function X2(r,t,i){return zn(r).beforeAuthStateChanged(t,i)}function $2(r,t,i,a){return zn(r).onAuthStateChanged(t,i,a)}const Lc="__sak";class Qv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const J2=1e3,Z2=10;class Kv extends Qv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);C2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Z2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},J2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Kv.type="LOCAL";const W2=Kv;class Yv extends Qv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Yv.type="SESSION";const Xv=Yv;function tw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new nh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await tw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];function ym(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class ew{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=ym("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const z=w;if(z.data.eventId===_)switch(z.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(z.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function bi(){return window}function nw(r){bi().location.href=r}function $v(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function iw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sw(){return navigator?.serviceWorker?.controller||null}function rw(){return $v()?self:null}const Jv="firebaseLocalStorageDb",aw=1,Pc="firebaseLocalStorage",Zv="fbase_key";class zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ih(r,t){return r.transaction([Pc],t?"readwrite":"readonly").objectStore(Pc)}function ow(){const r=indexedDB.deleteDatabase(Jv);return new zl(r).toPromise()}function qd(){const r=indexedDB.open(Jv,aw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Pc,{keyPath:Zv})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Pc)?t(a):(a.close(),await ow(),t(await qd()))})})}async function Q_(r,t,i){const a=ih(r,!0).put({[Zv]:t,value:i});return new zl(a).toPromise()}async function lw(r,t){const i=ih(r,!1).get(t),a=await new zl(i).toPromise();return a===void 0?null:a.value}function K_(r,t){const i=ih(r,!0).delete(t);return new zl(i).toPromise()}const uw=800,cw=3;class Wv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>cw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $v()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(rw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iw(),!this.activeServiceWorker)return;this.sender=new ew(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await qd();return await Q_(t,Lc,"1"),await K_(t,Lc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Q_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>lw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>K_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ih(l,!1).getAll();return new zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wv.type="LOCAL";const hw=Wv;new Ml(3e4,6e4);function fw(r,t){return t?Xi(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class _m extends Hv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ba(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ba(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function dw(r){return K2(r.auth,new _m(r),r.bypassAuthState)}function mw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),Q2(i,new _m(r),r.bypassAuthState)}async function gw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),G2(i,new _m(r),r.bypassAuthState)}class t1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dw;case"linkViaPopup":case"linkViaRedirect":return gw;case"reauthViaPopup":case"reauthViaRedirect":return mw;default:Zi(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pw=new Ml(2e3,1e4);class La extends t1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pw.get())};t()}}La.currentPopupAction=null;const yw="pendingRedirect",Ac=new Map;class _w extends t1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Ac.get(this.auth._key());if(!t){try{const a=await vw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Ac.set(this.auth._key(),t)}return this.bypassAuthState||Ac.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vw(r,t){const i=bw(t),a=Tw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Ew(r,t){Ac.set(r._key(),t)}function Tw(r){return Xi(r._redirectPersistence)}function bw(r){return Sc(yw,r.config.apiKey,r.name)}async function Sw(r,t,i=!1){if(Yn(r.app))return Promise.reject(Gs(r));const a=eh(r),l=fw(a,t),d=await new _w(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Aw=600*1e3;class ww{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Rw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!e1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ti(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Aw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y_(t))}saveEventToCache(t){this.cachedEventUids.add(Y_(t)),this.lastProcessedEventTime=Date.now()}}function Y_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function e1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Rw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e1(r);default:return!1}}async function Cw(r,t={}){return to(r,"GET","/v1/projects",t)}const Iw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xw=/^https?/;async function Nw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Cw(r);for(const i of t)try{if(Dw(i))return}catch{}Zi(r,"unauthorized-domain")}function Dw(r){const t=jd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!xw.test(i))return!1;if(Iw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Ow=new Ml(3e4,6e4);function X_(){const r=bi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Mw(r){return new Promise((t,i)=>{function a(){X_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{X_(),i(Ti(r,"network-request-failed"))},timeout:Ow.get()})}if(bi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(bi().gapi?.load)a();else{const l=k2("iframefcb");return bi()[l]=()=>{gapi.load?a():i(Ti(r,"network-request-failed"))},V2(`${z2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw wc=null,t})}let wc=null;function Vw(r){return wc=wc||Mw(r),wc}const zw=new Ml(5e3,15e3),kw="__/auth/iframe",Uw="emulator/auth/iframe",Lw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jw(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?dm(t,Uw):`https://${r.config.authDomain}/${kw}`,a={apiKey:t.apiKey,appName:r.name,v:Wa},l=Pw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ol(a).slice(1)}`}async function Bw(r){const t=await Vw(r),i=bi().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:jw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ti(r,"network-request-failed"),p=bi().setTimeout(()=>{c(d)},zw.get());function y(){bi().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const qw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hw=500,Fw=600,Gw="_blank",Qw="http://localhost";class $_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kw(r,t,i,a=Hw,l=Fw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...qw,width:a.toString(),height:l.toString(),top:c,left:d},_=Ze().toLowerCase();i&&(p=zv(_)?Gw:i),Mv(_)&&(t=t||Qw,y.scrollbars="yes");const T=Object.entries(y).reduce((z,[B,G])=>`${z}${B}=${G},`,"");if(R2(_)&&p!=="_self")return Yw(t||"",p),new $_(null);const w=window.open(t||"",p,T);_t(w,r,"popup-blocked");try{w.focus()}catch{}return new $_(w)}function Yw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Xw="__/auth/handler",$w="emulator/auth/handler",Jw=encodeURIComponent("fac");async function J_(r,t,i,a,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Wa,eventId:l};if(t instanceof Fv){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",XS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,w]of Object.entries({}))d[T]=w}if(t instanceof Vl){const T=t.getScopes().filter(w=>w!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await r._getAppCheckToken(),_=y?`#${Jw}=${encodeURIComponent(y)}`:"";return`${Zw(r)}?${Ol(p).slice(1)}${_}`}function Zw({config:r}){return r.emulator?dm(r,$w):`https://${r.authDomain}/${Xw}`}const Id="webStorageSupport";class Ww{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xv,this._completeRedirectFn=Sw,this._overrideRedirectResult=Ew}async _openPopup(t,i,a,l){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await J_(t,i,a,jd(),l);return Kw(t,c,ym())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await J_(t,i,a,jd(),l);return nw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Bw(t),a=new ww(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Id,{type:Id},l=>{const c=l?.[0]?.[Id];c!==void 0&&i(!!c),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Nw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return jv()||Vv()||gm()}}const tR=Ww;var Z_="@firebase/auth",W_="1.11.1";class eR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iR(r){Ga(new kr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bv(r)},_=new O2(a,l,c,y);return L2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ga(new kr("auth-internal",t=>{const i=eh(t.getProvider("auth").getImmediate());return(a=>new eR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(Z_,W_,nR(r)),Fs(Z_,W_,"esm2020")}const sR=300,rR=gv("authIdTokenMaxAge")||sR;let t0=null;const aR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>rR)return;const l=i?.token;t0!==l&&(t0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function oR(r=Tv()){const t=hm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=U2(r,{popupRedirectResolver:tR,persistence:[hw,W2,Xv]}),a=gv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=aR(c.toString());X2(i,d,()=>d(i.currentUser)),Y2(i,p=>d(p))}}const l=dv("auth");return l&&P2(i,`http://${l}`),i}function lR(){return document.getElementsByTagName("head")?.[0]??document}M2({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ti("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",lR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iR("Browser");var e0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,n1;(function(){var r;function t(C,S){function R(){}R.prototype=S.prototype,C.F=S.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(D,N,V){for(var I=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)I[kt-2]=arguments[kt];return S.prototype[N].apply(D,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,R){R||(R=0);const D=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)D[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;N<16;++N)D[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=C.g[0],R=C.g[1],N=C.g[2];let V=C.g[3],I;I=S+(V^R&(N^V))+D[0]+3614090360&4294967295,S=R+(I<<7&4294967295|I>>>25),I=V+(N^S&(R^N))+D[1]+3905402710&4294967295,V=S+(I<<12&4294967295|I>>>20),I=N+(R^V&(S^R))+D[2]+606105819&4294967295,N=V+(I<<17&4294967295|I>>>15),I=R+(S^N&(V^S))+D[3]+3250441966&4294967295,R=N+(I<<22&4294967295|I>>>10),I=S+(V^R&(N^V))+D[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=V+(N^S&(R^N))+D[5]+1200080426&4294967295,V=S+(I<<12&4294967295|I>>>20),I=N+(R^V&(S^R))+D[6]+2821735955&4294967295,N=V+(I<<17&4294967295|I>>>15),I=R+(S^N&(V^S))+D[7]+4249261313&4294967295,R=N+(I<<22&4294967295|I>>>10),I=S+(V^R&(N^V))+D[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=V+(N^S&(R^N))+D[9]+2336552879&4294967295,V=S+(I<<12&4294967295|I>>>20),I=N+(R^V&(S^R))+D[10]+4294925233&4294967295,N=V+(I<<17&4294967295|I>>>15),I=R+(S^N&(V^S))+D[11]+2304563134&4294967295,R=N+(I<<22&4294967295|I>>>10),I=S+(V^R&(N^V))+D[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=V+(N^S&(R^N))+D[13]+4254626195&4294967295,V=S+(I<<12&4294967295|I>>>20),I=N+(R^V&(S^R))+D[14]+2792965006&4294967295,N=V+(I<<17&4294967295|I>>>15),I=R+(S^N&(V^S))+D[15]+1236535329&4294967295,R=N+(I<<22&4294967295|I>>>10),I=S+(N^V&(R^N))+D[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=V+(R^N&(S^R))+D[6]+3225465664&4294967295,V=S+(I<<9&4294967295|I>>>23),I=N+(S^R&(V^S))+D[11]+643717713&4294967295,N=V+(I<<14&4294967295|I>>>18),I=R+(V^S&(N^V))+D[0]+3921069994&4294967295,R=N+(I<<20&4294967295|I>>>12),I=S+(N^V&(R^N))+D[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=V+(R^N&(S^R))+D[10]+38016083&4294967295,V=S+(I<<9&4294967295|I>>>23),I=N+(S^R&(V^S))+D[15]+3634488961&4294967295,N=V+(I<<14&4294967295|I>>>18),I=R+(V^S&(N^V))+D[4]+3889429448&4294967295,R=N+(I<<20&4294967295|I>>>12),I=S+(N^V&(R^N))+D[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=V+(R^N&(S^R))+D[14]+3275163606&4294967295,V=S+(I<<9&4294967295|I>>>23),I=N+(S^R&(V^S))+D[3]+4107603335&4294967295,N=V+(I<<14&4294967295|I>>>18),I=R+(V^S&(N^V))+D[8]+1163531501&4294967295,R=N+(I<<20&4294967295|I>>>12),I=S+(N^V&(R^N))+D[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=V+(R^N&(S^R))+D[2]+4243563512&4294967295,V=S+(I<<9&4294967295|I>>>23),I=N+(S^R&(V^S))+D[7]+1735328473&4294967295,N=V+(I<<14&4294967295|I>>>18),I=R+(V^S&(N^V))+D[12]+2368359562&4294967295,R=N+(I<<20&4294967295|I>>>12),I=S+(R^N^V)+D[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=V+(S^R^N)+D[8]+2272392833&4294967295,V=S+(I<<11&4294967295|I>>>21),I=N+(V^S^R)+D[11]+1839030562&4294967295,N=V+(I<<16&4294967295|I>>>16),I=R+(N^V^S)+D[14]+4259657740&4294967295,R=N+(I<<23&4294967295|I>>>9),I=S+(R^N^V)+D[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=V+(S^R^N)+D[4]+1272893353&4294967295,V=S+(I<<11&4294967295|I>>>21),I=N+(V^S^R)+D[7]+4139469664&4294967295,N=V+(I<<16&4294967295|I>>>16),I=R+(N^V^S)+D[10]+3200236656&4294967295,R=N+(I<<23&4294967295|I>>>9),I=S+(R^N^V)+D[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=V+(S^R^N)+D[0]+3936430074&4294967295,V=S+(I<<11&4294967295|I>>>21),I=N+(V^S^R)+D[3]+3572445317&4294967295,N=V+(I<<16&4294967295|I>>>16),I=R+(N^V^S)+D[6]+76029189&4294967295,R=N+(I<<23&4294967295|I>>>9),I=S+(R^N^V)+D[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=V+(S^R^N)+D[12]+3873151461&4294967295,V=S+(I<<11&4294967295|I>>>21),I=N+(V^S^R)+D[15]+530742520&4294967295,N=V+(I<<16&4294967295|I>>>16),I=R+(N^V^S)+D[2]+3299628645&4294967295,R=N+(I<<23&4294967295|I>>>9),I=S+(N^(R|~V))+D[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=V+(R^(S|~N))+D[7]+1126891415&4294967295,V=S+(I<<10&4294967295|I>>>22),I=N+(S^(V|~R))+D[14]+2878612391&4294967295,N=V+(I<<15&4294967295|I>>>17),I=R+(V^(N|~S))+D[5]+4237533241&4294967295,R=N+(I<<21&4294967295|I>>>11),I=S+(N^(R|~V))+D[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=V+(R^(S|~N))+D[3]+2399980690&4294967295,V=S+(I<<10&4294967295|I>>>22),I=N+(S^(V|~R))+D[10]+4293915773&4294967295,N=V+(I<<15&4294967295|I>>>17),I=R+(V^(N|~S))+D[1]+2240044497&4294967295,R=N+(I<<21&4294967295|I>>>11),I=S+(N^(R|~V))+D[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=V+(R^(S|~N))+D[15]+4264355552&4294967295,V=S+(I<<10&4294967295|I>>>22),I=N+(S^(V|~R))+D[6]+2734768916&4294967295,N=V+(I<<15&4294967295|I>>>17),I=R+(V^(N|~S))+D[13]+1309151649&4294967295,R=N+(I<<21&4294967295|I>>>11),I=S+(N^(R|~V))+D[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=V+(R^(S|~N))+D[11]+3174756917&4294967295,V=S+(I<<10&4294967295|I>>>22),I=N+(S^(V|~R))+D[2]+718787259&4294967295,N=V+(I<<15&4294967295|I>>>17),I=R+(V^(N|~S))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+V&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const R=S-this.blockSize,D=this.C;let N=this.h,V=0;for(;V<S;){if(N==0)for(;V<=R;)l(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<S;)if(D[N++]=C.charCodeAt(V++),N==this.blockSize){l(this,D),N=0;break}}else for(;V<S;)if(D[N++]=C[V++],N==this.blockSize){l(this,D),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,R=0;R<4;++R)for(let D=0;D<32;D+=8)C[S++]=this.g[R]>>>D&255;return C};function c(C,S){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=S(C)}function d(C,S){this.h=S;const R=[];let D=!0;for(let N=C.length-1;N>=0;N--){const V=C[N]|0;D&&V==S||(R[N]=V,D=!1)}this.g=R}var p={};function y(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return W(_(-C));const S=[];let R=1;for(let D=0;C>=R;D++)S[D]=C/R|0,R*=4294967296;return new d(S,0)}function T(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return W(T(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(S,8));let D=w;for(let V=0;V<C.length;V+=8){var N=Math.min(8,C.length-V);const I=parseInt(C.substring(V,V+N),S);N<8?(N=_(Math.pow(S,N)),D=D.j(N).add(_(I))):(D=D.j(R),D=D.add(_(I)))}return D}var w=y(0),z=y(1),B=y(16777216);r=d.prototype,r.m=function(){if(et(this))return-W(this).m();let C=0,S=1;for(let R=0;R<this.g.length;R++){const D=this.i(R);C+=(D>=0?D:4294967296+D)*S,S*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(G(this))return"0";if(et(this))return"-"+W(this).toString(C);const S=_(Math.pow(C,6));var R=this;let D="";for(;;){const N=Pt(R,S).g;R=ot(R,N.j(S));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,G(R))return V+D;for(;V.length<6;)V="0"+V;D=V+D}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function G(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function et(C){return C.h==-1}r.l=function(C){return C=ot(this,C),et(C)?-1:G(C)?0:1};function W(C){const S=C.g.length,R=[];for(let D=0;D<S;D++)R[D]=~C.g[D];return new d(R,~C.h).add(z)}r.abs=function(){return et(this)?W(this):this},r.add=function(C){const S=Math.max(this.g.length,C.g.length),R=[];let D=0;for(let N=0;N<=S;N++){let V=D+(this.i(N)&65535)+(C.i(N)&65535),I=(V>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);D=I>>>16,V&=65535,I&=65535,R[N]=I<<16|V}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ot(C,S){return C.add(W(S))}r.j=function(C){if(G(this)||G(C))return w;if(et(this))return et(C)?W(this).j(W(C)):W(W(this).j(C));if(et(C))return W(this.j(W(C)));if(this.l(B)<0&&C.l(B)<0)return _(this.m()*C.m());const S=this.g.length+C.g.length,R=[];for(var D=0;D<2*S;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(let N=0;N<C.g.length;N++){const V=this.i(D)>>>16,I=this.i(D)&65535,kt=C.i(N)>>>16,Ft=C.i(N)&65535;R[2*D+2*N]+=I*Ft,yt(R,2*D+2*N),R[2*D+2*N+1]+=V*Ft,yt(R,2*D+2*N+1),R[2*D+2*N+1]+=I*kt,yt(R,2*D+2*N+1),R[2*D+2*N+2]+=V*kt,yt(R,2*D+2*N+2)}for(C=0;C<S;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=S;C<2*S;C++)R[C]=0;return new d(R,0)};function yt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function dt(C,S){this.g=C,this.h=S}function Pt(C,S){if(G(S))throw Error("division by zero");if(G(C))return new dt(w,w);if(et(C))return S=Pt(W(C),S),new dt(W(S.g),W(S.h));if(et(S))return S=Pt(C,W(S)),new dt(W(S.g),S.h);if(C.g.length>30){if(et(C)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var R=z,D=S;D.l(C)<=0;)R=J(R),D=J(D);var N=ut(R,1),V=ut(D,1);for(D=ut(D,2),R=ut(R,2);!G(D);){var I=V.add(D);I.l(C)<=0&&(N=N.add(R),V=I),D=ut(D,1),R=ut(R,1)}return S=ot(C,N.j(S)),new dt(N,S)}for(N=w;C.l(S)>=0;){for(R=Math.max(1,Math.floor(C.m()/S.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),V=_(R),I=V.j(S);et(I)||I.l(C)>0;)R-=D,V=_(R),I=V.j(S);G(V)&&(V=z),N=N.add(V),C=ot(C,I)}return new dt(N,C)}r.B=function(C){return Pt(this,C).h},r.and=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let D=0;D<S;D++)R[D]=this.i(D)&C.i(D);return new d(R,this.h&C.h)},r.or=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let D=0;D<S;D++)R[D]=this.i(D)|C.i(D);return new d(R,this.h|C.h)},r.xor=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let D=0;D<S;D++)R[D]=this.i(D)^C.i(D);return new d(R,this.h^C.h)};function J(C){const S=C.g.length+1,R=[];for(let D=0;D<S;D++)R[D]=C.i(D)<<1|C.i(D-1)>>>31;return new d(R,C.h)}function ut(C,S){const R=S>>5;S%=32;const D=C.g.length-R,N=[];for(let V=0;V<D;V++)N[V]=S>0?C.i(V+R)>>>S|C.i(V+R+1)<<32-S:C.i(V+R);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,n1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Qs=d}).apply(typeof e0<"u"?e0:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var i1,fl,s1,Rc,Hd,r1,a1,o1;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break t;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,q){for(var nt=Array(arguments.length-2),St=2;St<arguments.length;St++)nt[St-2]=arguments[St];return m.prototype[U].apply(b,nt)}}var z=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function G(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let nt=0;nt<q;nt++)u[v+nt]=U[nt]}else u.push(U)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ot(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,v){const b=dt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var dt=new et(()=>new Pt,u=>u.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ut=!1,C=new yt,S=()=>{const u=Promise.resolve(void 0);J=()=>{u.then(R)}};function R(){for(var u;u=ot();){try{u.h.call(u.g)}catch(v){W(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ut=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function kt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(kt,N),kt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&kt.Z.h.call(this)},kt.prototype.h=function(){kt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ft="closure_listenable_"+(Math.random()*1e6|0),F=0;function tt(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++F,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Yt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,b,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const nt=wt(u,m,b,U);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new tt(m,this.src,q,!!b,U),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(b,U,1),q&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,b){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return U}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),xe={};function ae(u,m,v,b,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],v,b,U);return null}return v=oo(v),u&&u[Ft]?u.J(m,v,p(b)?!!b.capture:!1,U):tr(u,m,v,!1,b,U)}function tr(u,m,v,b,U,q){if(!m)throw Error("Invalid event type");const nt=p(U)?!!U.capture:!!U;let St=er(u);if(St||(u[Ut]=St=new rt(u)),v=St.add(m,v,b,nt,q),v.proxy)return v;if(b=Fr(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)V||(U=nt),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Fr(){function u(v){return m.call(u.src,u.listener,v)}const m=ro;return u}function Gr(u,m,v,b,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Gr(u,m[q],v,b,U);else b=p(b)?!!b.capture:!!b,v=oo(v),u&&u[Ft]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=wt(m,v,b,U),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=er(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,b,U)),(v=u>-1?m[u]:null)&&Qr(v))}function Qr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ft])vt(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Jn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=er(m))?(vt(v,u),v.h==0&&(v.src=null,m[Ut]=null)):ft(u)}}}function Jn(u){return u in xe?xe[u]:xe[u]="on"+u}function ro(u,m){if(u.da)u=!0;else{m=new kt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Qr(u),u=v.call(b,m)}return u}function er(u){return u=u[Ut],u instanceof rt?u:null}var ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function oo(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function _e(){D.call(this),this.i=new rt(this),this.M=this,this.G=null}w(_e,D),_e.prototype[Ft]=!0,_e.prototype.removeEventListener=function(u,m,v,b){Gr(this,u,m,v,b)};function Ne(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(b,u),it(m,U)}U=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],U=is(q,b,!0,m)&&U;if(q=m.g=u,U=is(q,b,!0,m)&&U,U=is(q,b,!1,m)&&U,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],U=is(q,b,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ft(v[b]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},_e.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function is(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const St=nt.listener,me=nt.ha||nt.src;nt.fa&&vt(u.i,nt),U=St.call(me,b)!==!1&&U}}return U&&!b.defaultPrevented}function yh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Bl(u){u.g=yh(()=>{u.g=null,u.i&&(u.i=!1,Bl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends D{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Bl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(u){D.call(this),this.h=u,this.g={}}w(nr,D);var lo=[];function uo(u){jt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Qr(m)},u),u.g={}}nr.prototype.N=function(){nr.Z.N.call(this),uo(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=d.JSON.stringify,_h=d.JSON.parse,ql=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Hl(){}function Fl(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}w(Pe,N);function En(){N.call(this,"c")}w(En,N);var de={},Gl=null;function Kr(){return Gl=Gl||new _e}de.Ia="serverreachability";function Ql(u){N.call(this,de.Ia,u)}w(Ql,N);function Zn(u){const m=Kr();Ne(m,new Ql(m))}de.STAT_EVENT="statevent";function ir(u,m){N.call(this,de.STAT_EVENT,u),this.stat=m}w(ir,N);function ve(u){const m=Kr();Ne(m,new ir(m,u))}de.Ja="timingevent";function Wn(u,m){N.call(this,de.Ja,u),this.size=m}w(Wn,N);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function vh(u,m,v,b,U,q){u.info(function(){if(u.g)if(q){var nt="",St=q.split("&");for(let Gt=0;Gt<St.length;Gt++){var me=St[Gt].split("=");if(me.length>1){const oe=me[0];me=me[1];const An=oe.split("_");nt=An.length>=2&&An[1]=="type"?nt+(oe+"="+me+"&"):nt+(oe+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+nt})}function Kl(u,m,v,b,U,q,nt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+nt})}function ei(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Eh(u,v)+(b?" "+b:"")})}function sr(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Eh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let nt=1;nt<b.length;nt++)b[nt]=""}}}}return ss(q)}catch{return m}}var rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function ar(){}w(ar,Hl),ar.prototype.g=function(){return new XMLHttpRequest},ho=new ar;function xi(u){return encodeURIComponent(String(u))}function Yl(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Ln(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var Ee={},Ve={};function ni(u,m,v){u.M=1,u.A=or(be(m)),u.u=v,u.R=!0,Yr(u,null)}function Yr(u,m){u.F=Date.now(),ii(u),u.B=be(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Zr(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Pn,u.g=uu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(lo[0]=U.toString()),U=lo);for(let q=0;q<U.length;q++){const nt=ae(v,U[q],b||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Zn(),vh(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const St=qn(this.g),me=this.g.ya(),Gt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||St!=4||me==7||(me==8||Gt<=0?Zn(3):Zn(2)),si(this);var m=this.g.ca();this.X=m;var v=Th(this);if(this.o=m==200,Kl(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var q=b;break e}}q=null}if(u=q)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,ve(12),hn(this),Tn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=$l(this,v),oe==Ve){St==4&&(this.m=4,ve(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,ve(15),ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,oe,null),ri(this,oe);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Co(nt),nt.P=!0,ve(11))}}else ei(this.i,this.l,v,null),ri(this,v);St==4&&hn(this),this.o&&!this.K&&(St==4?ru(this.j,this):(this.o=!1,ii(this)))}else Di(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),hn(this),Tn(this)}}}catch{}finally{}};function Th(u){if(!Xl(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const b=m.length,U=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Xl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function $l(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Ve:(v=Number(m.substring(v,b)),isNaN(v)?Ee:(b+=1,b+v>m.length?Ve:(m=m.slice(b,b+v),u.C=b+v,m)))}Ln.prototype.cancel=function(){this.K=!0,hn(this)};function ii(u){u.T=Date.now()+u.H,Xr(u,u.H)}function Xr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(_(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(sr(this.i,this.B),this.M!=2&&(Zn(),ve(17)),hn(this),this.m=2,Tn(this)):Xr(this,this.T-u)};function Tn(u){u.j.I==0||u.K||ru(u.j,u)}function hn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,uo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||oi(v.h,u))){if(!u.L&&oi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ia(v),fs(v);else break t;mr(v),ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ti(_(v.Va,v),6e3));ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else di(v,11)}else if((u.L||v.g==u)&&ia(v),!I(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Gt=U[m];const oe=Gt[0];if(!(oe<=v.K))if(v.K=oe,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const An=Gt[3];An!=null&&(v.ka=An,v.j.info("VER="+v.ka));const mi=Gt[4];mi!=null&&(v.za=mi,v.j.info("SVER="+v.za));const Hn=Gt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(b=1.5*Hn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Fn=u.g;if(Fn){const gr=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var q=b.h;q.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(go(q,q.h),q.h=null))}if(b.G){const sa=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(b.wa=sa,Xt(b.J,b.G,sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var nt=u;if(b.na=lu(b,b.L?b.ba:null,b.W),nt.L){po(b.h,nt);var St=nt,me=b.O;me&&(St.H=me),St.D&&(si(St),ii(St)),b.g=nt}else iu(b);v.i.length>0&&fi(v)}else Gt[0]!="stop"&&Gt[0]!="close"||di(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?di(v,7):wo(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}Zn(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function go(u,m){u.g?u.g.add(m):u.h=m}function po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var Jl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $r(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,q=null;b>=0?(U=u[v].substring(0,b),q=u[v].substring(b+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.u),this.h=u.h,_o(this,eu(u.i)),this.m=u.m):u&&(m=String(u).match(Jl))?(this.l=!1,ze(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),rs(this,m[4]),this.h=li(m[5]||"",!0),_o(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(lr(m,Jr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(lr(m,Jr,!0),"@"),u.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(lr(v,v.charAt(0)=="/"?vo:Zl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",lr(v,Wl)),u.join("")},fn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?ze(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)rs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let nt=0;nt<U.length;){const St=U[nt++];St=="."?b&&nt==U.length&&q.push(""):St==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&nt==U.length&&q.push("")):(q.push(St),b=!0)}b=q.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?_o(m,eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new fn(u)}function ze(u,m,v){u.j=v?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _o(u,m,v){m instanceof os?(u.i=m,Wr(u.i,u.l)):(v||(m=lr(m,as)),u.i=new os(m,u.l))}function Xt(u,m,v){u.i.set(m,v)}function or(u){return Xt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function lr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Jr=/[#\/\?@]/g,Zl=/[#\?:]/g,vo=/[#\?]/g,as=/[#\?@]/g,Wl=/#/g;function os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&$r(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=os.prototype,r.add=function(u,m){sn(this),this.i=null,u=ls(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function tu(u,m){sn(u),m=ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return sn(u),m=ls(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function To(u,m){sn(u);let v=[];if(typeof m=="string")Eo(u,m)&&(v=v.concat(u.g.get(ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=ls(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=To(this,u),u.length>0?String(u[0]):m):m};function Zr(u,m,v){tu(u,m),v.length>0&&(u.i=null,u.g.set(ls(u,m),B(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=xi(v);v=To(this,v);for(let q=0;q<v.length;q++){let nt=U;v[q]!==""&&(nt+="="+xi(v[q])),u.push(nt)}}return this.i=u.join("&")};function eu(u){const m=new os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Wr(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(tu(this,b),Zr(this,U,v))},u)),u.j=m}function jn(u,m){const v=new Un;if(d.Image){const b=new Image;b.onload=T(bn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(bn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(bn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(bn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function bo(u,m){const v=new Un,b=new AbortController,U=setTimeout(()=>{b.abort(),bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(U),q.ok?bn(v,"TestPingServer: ok",!0,m):bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),bn(v,"TestPingServer: error",!1,m)})}function bn(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function us(){this.g=new ql}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}w(ui,Hl),ui.prototype.g=function(){return new ur(this.i,this.h)};function ur(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ur,_e),r=ur.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cs(this):Bn(this),this.readyState==3&&ta(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,cs(this))},r.Na=function(u){this.g&&(this.response=u,cs(this))},r.ga=function(){this.g&&cs(this)};function cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return jt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function cr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Sn(v),typeof u=="string"?v!=null&&xi(v):Xt(u,m,v))}function Zt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Zt,_e);var ci=/^https?$/i,So=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=z(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){hr(this,q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(So,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){hr(this,q)}};function hr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ao(u),Ni(u)}function Ao(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?fr(this):this.Xa())},r.Xa=function(){fr(this)};function fr(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),qn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let nt=String(u.D).match(Jl)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),b=!ci.test(nt?nt.toLowerCase():"")}v=b}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var U=qn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ao(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),_h(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(I(u[b]))continue;var v=Yl(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Yt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function hs(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(u&&u.concurrentRequestLimit),this.Ba=new us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=hs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){ve(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=lu(this,null,this.W),fi(this)};function wo(u){if(ea(u),u.I==3){var m=u.V++,v=be(u.J);if(Xt(v,"SID",u.M),Xt(v,"RID",m),Xt(v,"TYPE","terminate"),dr(u,v),m=new Ln(u,u.j,m),m.M=2,m.A=or(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=uu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}ou(u)}function fs(u){u.g&&(Co(u),u.g.cancel(),u.g=null)}function ea(u){fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;J||S(),ut||(J(),ut=!0),C.add(m,u),u.D=0}}function na(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(_(u.Ea,u,m),au(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Ln(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=nu(this,U,m),v=be(this.J),Xt(v,"RID",u),Xt(v,"CVER",22),this.G&&Xt(v,"X-HTTP-Session-Id",this.G),dr(this,v),q&&(this.R?m="headers="+xi(Sn(q))+"&"+m:this.u&&cr(v,this.u,q)),go(this.h,U),this.Ra&&Xt(v,"TYPE","init"),this.S?(Xt(v,"$req",m),Xt(v,"SID","null"),U.U=!0,ni(U,v,null)):ni(U,v,m),this.I=2}}else this.I==3&&(u?Ro(this,u):this.i.length==0||mo(this.h)||Ro(this))};function Ro(u,m){var v;m?v=m.l:v=u.V++;const b=be(u.J);Xt(b,"SID",u.M),Xt(b,"RID",v),Xt(b,"AID",u.K),dr(u,b),u.u&&u.o&&cr(b,u.u,u.o),v=new Ln(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=nu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),go(u.h,v),ni(v,b,m)}function dr(u,m){u.H&&jt(u.H,function(v,b){Xt(m,b,v)}),u.l&&jt({},function(v,b){Xt(m,b,v)})}function nu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let St=-1;for(;;){const me=["count="+v];St==-1?v>0?(St=U[0].g,me.push("ofs="+St)):St=0:me.push("ofs="+St);let Gt=!0;for(let oe=0;oe<v;oe++){var q=U[oe].g;const An=U[oe].map;if(q-=St,q<0)St=Math.max(0,U[oe].g-100),Gt=!1;else try{q="req"+q+"_"||"";try{var nt=An instanceof Map?An:Object.entries(An);for(const[mi,Hn]of nt){let Fn=Hn;p(Hn)&&(Fn=ss(Hn)),me.push(q+mi+"="+encodeURIComponent(Fn))}}catch(mi){throw me.push(q+"type="+encodeURIComponent("_badmap")),mi}}catch{b&&b(An)}}if(Gt){nt=me.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;J||S(),ut||(J(),ut=!0),C.add(m,u),u.A=0}}function mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(_(u.Da,u),au(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),fs(this),su(this))};function Co(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function su(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Xt(m,"RID","rpc"),Xt(m,"SID",u.M),Xt(m,"AID",u.K),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xt(m,"TO",u.ia),Xt(m,"TYPE","xmlhttp"),dr(u,m),u.u&&u.o&&cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=or(be(m)),v.u=null,v.R=!0,Yr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,fs(this),mr(this),ve(19))};function ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ru(u,m){var v=null;if(u.g==m){ia(u),Co(u),u.g=null;var b=2}else if(oi(u.h,m))v=m.G,po(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=Kr(),Ne(b,new Wn(b,v)),fi(u)}else iu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&na(u,m)||b==2&&mr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function au(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const U=!b;b=new fn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(b,"https"),or(b),U?jn(b.toString(),v):bo(b.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),ou(u),ea(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function ou(u){if(u.I=0,u.ja=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ja,m),G(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function lu(u,m,v){var b=v instanceof fn?be(v):new fn(v);if(b.g!="")m&&(b.g=m+"."+b.g),rs(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new fn(null);b&&ze(q,b),m&&(q.g=m),U&&rs(q,U),v&&(q.h=v),b=q}return v=u.G,m=u.wa,v&&m&&Xt(b,v,m),Xt(b,"VER",u.ka),dr(u,b),b}function uu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new ui({ab:v})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}r=cu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ds(){}ds.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){_e.call(this),this.g=new hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}w(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){wo(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ss(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&fi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,tn.Z.N.call(this)};function hu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(hu,Pe);function fu(){En.call(this),this.status=1}w(fu,En);function Oi(u){this.g=u}w(Oi,cu),Oi.prototype.ra=function(){Ne(this.g,"a")},Oi.prototype.qa=function(u){Ne(this.g,new hu(u))},Oi.prototype.pa=function(u){Ne(this.g,new fu)},Oi.prototype.oa=function(){Ne(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,o1=function(){return new ds},a1=function(){return Kr()},r1=de,Hd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Rc=rr,co.COMPLETE="complete",s1=co,Fl.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,fl=Fl,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,i1=Zt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const n0="@firebase/firestore",i0="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let eo="12.3.0";const Lr=new um("@firebase/firestore");function Va(){return Lr.logLevel}function st(r,...t){if(Lr.logLevel<=Ot.DEBUG){const i=t.map(vm);Lr.debug(`Firestore (${eo}): ${r}`,...i)}}function ts(r,...t){if(Lr.logLevel<=Ot.ERROR){const i=t.map(vm);Lr.error(`Firestore (${eo}): ${r}`,...i)}}function Qa(r,...t){if(Lr.logLevel<=Ot.WARN){const i=t.map(vm);Lr.warn(`Firestore (${eo}): ${r}`,...i)}}function vm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,l1(r,a,i)}function l1(r,t,i){let a=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ts(a),new Error(a)}function Kt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||l1(t,l,a)}function bt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ns{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class u1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class cR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class hR{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Mr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Mr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Kt(typeof a.accessToken=="string",31837,{l:a}),new u1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class fR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new fR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Kt(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new s0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Em{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=gR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function Fd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return xd(l)===xd(c)?Mt(l,c):xd(l)?1:-1}return Mt(r.length,t.length)}const pR=55296,yR=57343;function xd(r){const t=r.charCodeAt(0);return t>=pR&&t<=yR}function Ka(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const r0="__name__";class vi{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=vi.isNumericId(t),l=vi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Fd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qs.fromString(t.substring(4,t.length-2))}}class ue extends vi{construct(t,i,a){return new ue(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const _R=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends vi{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return _R.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r0}static keyField(){return new Qe([r0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ue.fromString(t))}static fromName(t){return new mt(ue.fromString(t).popFirst(5))}static empty(){return new mt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ue(t.slice()))}}function vR(r,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function ER(r,t,i,a){if(t===!0&&a===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function a0(r){if(!mt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function c1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Tm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function qa(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Tm(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function kl(r,t){if(!c1(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(Z.INVALID_ARGUMENT,i);return!0}const o0=-62135596800,l0=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*l0);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<o0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l0}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(kl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-o0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ie("string",re._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new re(0,0))}static max(){return new Et(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Al=-1;function TR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new Ys(l,mt.empty(),t)}function bR(r){return new Ys(r.readTime,r.key,Al)}class Ys{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ys(Et.min(),mt.empty(),Al)}static max(){return new Ys(Et.max(),mt.empty(),Al)}}function SR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const AR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function no(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==AR)throw r;st("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((T=>{d[_]=T,++p,p===c&&a(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function RR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function io(r){return r.name==="IndexedDbTransactionError"}class sh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sh.ce=-1;const bm=-1;function rh(r){return r==null}function jc(r){return r===0&&1/r==-1/0}function CR(r){return typeof r=="number"&&Number.isInteger(r)&&!jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const h1="";function IR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=u0(t)),t=xR(r.get(i),t);return u0(t)}function xR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case h1:i+="";break;default:i+=c}}return i}function u0(r){return r+h1+""}function c0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function jr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function f1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(t){return new h0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class h0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new $n([])}unionWith(t){let i=new Me(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new $n(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class d1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new d1("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const NR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(r){if(Kt(!!r,39018),typeof r=="string"){let t=0;const i=NR.exec(r);if(Kt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $s(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const m1="server_timestamp",g1="__type__",p1="__previous_value__",y1="__local_write_time__";function Sm(r){return(r?.mapValue?.fields||{})[g1]?.stringValue===m1}function ah(r){const t=r.mapValue.fields[p1];return Sm(t)?ah(t):t}function wl(r){const t=Xs(r.mapValue.fields[y1].timestampValue);return new re(t.seconds,t.nanos)}class DR{constructor(t,i,a,l,c,d,p,y,_,T){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T}}const Bc="(default)";class Rl{constructor(t,i){this.projectId=t,this.database=i||Bc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===Bc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}const _1="__type__",OR="__max__",vc={mapValue:{}},v1="__vector__",qc="value";function Js(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sm(r)?4:VR(r)?9007199254740991:MR(r)?10:11:pt(28295,{value:r})}function Ci(r,t){if(r===t)return!0;const i=Js(r);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return wl(r).isEqual(wl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Xs(l.timestampValue),p=Xs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return $s(l.bytesValue).isEqual($s(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),p=ye(c.doubleValue);return d===p?jc(d)===jc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Ka(r.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(c0(d)!==c0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ci(d[y],p[y])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function Cl(r,t){return(r.values||[]).find((i=>Ci(i,t)))!==void 0}function Ya(r,t){if(r===t)return 0;const i=Js(r),a=Js(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return f0(r.timestampValue,t.timestampValue);case 4:return f0(wl(r),wl(t));case 5:return Fd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=$s(c),y=$s(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const T=Mt(p[_],y[_]);if(T!==0)return T}return Mt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(ye(c.latitude),ye(d.latitude));return p!==0?p:Mt(ye(c.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return d0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[qc]?.arrayValue,T=y[qc]?.arrayValue,w=Mt(_?.values?.length||0,T?.values?.length||0);return w!==0?w:d0(_,T)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===vc.mapValue&&d===vc.mapValue)return 0;if(c===vc.mapValue)return 1;if(d===vc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let w=0;w<y.length&&w<T.length;++w){const z=Fd(y[w],T[w]);if(z!==0)return z;const B=Ya(p[y[w]],_[T[w]]);if(B!==0)return B}return Mt(y.length,T.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function f0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=Xs(r),a=Xs(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function d0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ya(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function Xa(r){return Gd(r)}function Gd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Xs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return $s(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Gd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Gd(i.fields[d])}`;return l+"}"})(r.mapValue):pt(61005,{value:r})}function Cc(r){switch(Js(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ah(r);return t?16+Cc(t):16;case 5:return 2*r.stringValue.length;case 6:return $s(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Cc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return jr(a.fields,((c,d)=>{l+=c.length+Cc(d)})),l})(r.mapValue);default:throw pt(13486,{value:r})}}function Qd(r){return!!r&&"integerValue"in r}function Am(r){return!!r&&"arrayValue"in r}function m0(r){return!!r&&"nullValue"in r}function g0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ic(r){return!!r&&"mapValue"in r}function MR(r){return(r?.mapValue?.fields||{})[_1]?.stringValue===v1}function _l(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return jr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=_l(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=_l(r.arrayValue.values[i]);return t}return{...r}}function VR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===OR}class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Ic(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=_l(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=_l(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Ic(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Ic(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){jr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Mn(_l(this.value))}}function E1(r){const t=[];return jr(r.fields,((i,a)=>{const l=new Qe([i]);if(Ic(a)){const c=E1(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new $n(t)}class Je{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,Et.min(),Et.min(),Et.min(),Mn.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,Et.min(),Et.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,Et.min(),Et.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hc{constructor(t,i){this.position=t,this.inclusive=i}}function p0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=Ya(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function y0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],t.position[i]))return!1;return!0}class Fc{constructor(t,i="asc"){this.field=t,this.dir=i}}function zR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class T1{}class Oe extends T1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new UR(t,i,a):i==="array-contains"?new jR(t,a):i==="in"?new BR(t,a):i==="not-in"?new qR(t,a):i==="array-contains-any"?new HR(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new LR(t,a):new PR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ya(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison(Ya(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends T1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ii(t,i)}matches(t){return b1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function b1(r){return r.op==="and"}function S1(r){return kR(r)&&b1(r)}function kR(r){for(const t of r.filters)if(t instanceof Ii)return!1;return!0}function Kd(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+Xa(r.value);if(S1(r))return r.filters.map((t=>Kd(t))).join(",");{const t=r.filters.map((i=>Kd(i))).join(",");return`${r.op}(${t})`}}function A1(r,t){return r instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(r,t):r instanceof Ii?(function(a,l){return l instanceof Ii&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&A1(d,l.filters[p])),!0):!1})(r,t):void pt(19439)}function w1(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Xa(i.value)}`})(r):r instanceof Ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(w1).join(" ,")+"}"})(r):"Filter"}class UR extends Oe{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class LR extends Oe{constructor(t,i){super(t,"in",i),this.keys=R1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class PR extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=R1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function R1(r,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class jR extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Am(i)&&Cl(i.arrayValue,this.value)}}class BR extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Cl(this.value.arrayValue,i)}}class qR extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Cl(this.value.arrayValue,i)}}class HR extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Am(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Cl(this.value.arrayValue,a)))}}class FR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function _0(r,t=null,i=[],a=[],l=null,c=null,d=null){return new FR(r,t,i,a,l,c,d)}function wm(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Kd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),rh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Xa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Xa(a))).join(",")),t.Te=i}return t.Te}function Rm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!zR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!A1(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!y0(r.startAt,t.startAt)&&y0(r.endAt,t.endAt)}function Yd(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class oh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GR(r,t,i,a,l,c,d,p){return new oh(r,t,i,a,l,c,d,p)}function Cm(r){return new oh(r)}function v0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function QR(r){return r.collectionGroup!==null}function vl(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Fc(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Fc(Qe.keyField(),a))}return t.Ie}function Si(r){const t=bt(r);return t.Ee||(t.Ee=KR(t,vl(r))),t.Ee}function KR(r,t){if(r.limitType==="F")return _0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Fc(l.field,c)}));const i=r.endAt?new Hc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Hc(r.startAt.position,r.startAt.inclusive):null;return _0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Xd(r,t,i){return new oh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function lh(r,t){return Rm(Si(r),Si(t))&&r.limitType===t.limitType}function C1(r){return`${wm(Si(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>w1(l))).join(", ")}]`),rh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Xa(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Xa(l))).join(",")),`Target(${a})`})(Si(r))}; limitType=${r.limitType})`}function uh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of vl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=p0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,vl(a),l)||a.endAt&&!(function(d,p,y){const _=p0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,vl(a),l))})(r,t)}function YR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function I1(r){return(t,i)=>{let a=!1;for(const l of vl(r)){const c=XR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function XR(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Ya(y,_):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:r.dir})}}class Br{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){jr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return f1(this.inner)}size(){return this.innerSize}}const $R=new ce(mt.comparator);function es(){return $R}const x1=new ce(mt.comparator);function dl(...r){let t=x1;for(const i of r)t=t.insert(i.key,i);return t}function N1(r){let t=x1;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Or(){return El()}function D1(){return El()}function El(){return new Br((r=>r.toString()),((r,t)=>r.isEqual(t)))}const JR=new ce(mt.comparator),ZR=new Me(mt.comparator);function Vt(...r){let t=ZR;for(const i of r)t=t.add(i);return t}const WR=new Me(Mt);function tC(){return WR}function Im(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(t)?"-0":t}}function O1(r){return{integerValue:""+r}}function eC(r,t){return CR(t)?O1(t):Im(r,t)}class ch{constructor(){this._=void 0}}function nC(r,t,i){return r instanceof Gc?(function(l,c){const d={fields:{[g1]:{stringValue:m1},[y1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Sm(c)&&(c=ah(c)),c&&(d.fields[p1]=c),{mapValue:d}})(i,t):r instanceof Il?V1(r,t):r instanceof xl?z1(r,t):(function(l,c){const d=M1(l,c),p=E0(d)+E0(l.Ae);return Qd(d)&&Qd(l.Ae)?O1(p):Im(l.serializer,p)})(r,t)}function iC(r,t,i){return r instanceof Il?V1(r,t):r instanceof xl?z1(r,t):i}function M1(r,t){return r instanceof Qc?(function(a){return Qd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Gc extends ch{}class Il extends ch{constructor(t){super(),this.elements=t}}function V1(r,t){const i=k1(t);for(const a of r.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class xl extends ch{constructor(t){super(),this.elements=t}}function z1(r,t){let i=k1(t);for(const a of r.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class Qc extends ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function E0(r){return ye(r.integerValue||r.doubleValue)}function k1(r){return Am(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function sC(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Il&&l instanceof Il||a instanceof xl&&l instanceof xl?Ka(a.elements,l.elements,Ci):a instanceof Qc&&l instanceof Qc?Ci(a.Ae,l.Ae):a instanceof Gc&&l instanceof Gc})(r.transform,t.transform)}class rC{constructor(t,i){this.version=t,this.transformResults=i}}class $i{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new $i}static exists(t){return new $i(void 0,t)}static updateTime(t){return new $i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class hh{}function U1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new P1(r.key,$i.none()):new Ul(r.key,r.data,$i.none());{const i=r.data,a=Mn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new qr(r.key,a,new $n(l.toArray()),$i.none())}}function aC(r,t,i){r instanceof Ul?(function(l,c,d){const p=l.value.clone(),y=b0(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof qr?(function(l,c,d){if(!xc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=b0(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(L1(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Tl(r,t,i,a){return r instanceof Ul?(function(c,d,p,y){if(!xc(c.precondition,d))return p;const _=c.value.clone(),T=S0(c.fieldTransforms,y,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof qr?(function(c,d,p,y){if(!xc(c.precondition,d))return p;const _=S0(c.fieldTransforms,y,d),T=d.data;return T.setAll(L1(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,p){return xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function oC(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=M1(a.transform,l||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(a.field,c))}return i||null}function T0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ka(a,l,((c,d)=>sC(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ul extends hh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class qr extends hh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function L1(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function b0(r,t,i){const a=new Map;Kt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,iC(d,p,i[l]))}return a}function S0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,nC(c,d,t))}return a}class P1 extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lC extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uC{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&aC(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Tl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Tl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=D1();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=U1(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,((i,a)=>T0(i,a)))&&Ka(this.baseMutations,t.baseMutations,((i,a)=>T0(i,a)))}}class xm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Kt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return JR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new xm(t,i,a,l)}}class cC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hC{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,Lt;function fC(r){switch(r){case Z.OK:return pt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function j1(r){if(r===void 0)return ts("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ce.OK:return Z.OK;case Ce.CANCELLED:return Z.CANCELLED;case Ce.UNKNOWN:return Z.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return Z.INTERNAL;case Ce.UNAVAILABLE:return Z.UNAVAILABLE;case Ce.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ce.NOT_FOUND:return Z.NOT_FOUND;case Ce.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ce.ABORTED:return Z.ABORTED;case Ce.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ce.DATA_LOSS:return Z.DATA_LOSS;default:return pt(39323,{code:r})}}(Lt=Ce||(Ce={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function dC(){return new TextEncoder}const mC=new Qs([4294967295,4294967295],0);function A0(r){const t=dC().encode(r),i=new n1;return i.update(t),new Uint8Array(i.digest())}function w0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qs([i,a],0),new Qs([l,c],0)]}class Nm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ml(`Invalid padding: ${i}`);if(a<0)throw new ml(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new ml(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Qs.fromNumber(a)));return l.compare(mC)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=A0(t),[a,l]=w0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Nm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=A0(t),[a,l]=w0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ll.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new fh(Et.min(),l,new ce(Mt),es(),Vt())}}class Ll{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ll(a,i,Vt(),Vt(),Vt())}}class Nc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class B1{constructor(t,i){this.targetId=t,this.Ce=i}}class q1{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class R0{constructor(){this.ve=0,this.Fe=C0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pt(38017,{changeType:c})}})),new Ll(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=C0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gC{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.Je=Ec(),this.He=Ec(),this.Ye=new ce(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Yd(c))if(a===0){const d=new mt(c.path);this.et(i,d,Je.newNoDocument(d,Et.min()))}else Kt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=$s(a).toUint8Array()}catch(y){if(y instanceof d1)return Qa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Nm(d,l,c)}catch(y){return Qa(y instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Yd(p.target)){const y=new mt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Vt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new fh(t,i,this.Ye,this.je,a);return this.je=es(),this.Je=Ec(),this.He=Ec(),this.Ye=new ce(Mt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new R0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new R0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ec(){return new ce(mt.comparator)}function C0(){return new ce(mt.comparator)}const pC={asc:"ASCENDING",desc:"DESCENDING"},yC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_C={and:"AND",or:"OR"};class vC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function $d(r,t){return r.useProto3Json||rh(t)?t:{value:t}}function Kc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function H1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function EC(r,t){return Kc(r,t.toTimestamp())}function Ai(r){return Kt(!!r,49232),Et.fromTimestamp((function(i){const a=Xs(i);return new re(a.seconds,a.nanos)})(r))}function Dm(r,t){return Jd(r,t).canonicalString()}function Jd(r,t){const i=(function(l){return new ue(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function F1(r){const t=ue.fromString(r);return Kt(X1(t),10190,{key:t.toString()}),t}function Zd(r,t){return Dm(r.databaseId,t.path)}function Nd(r,t){const i=F1(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(Q1(i))}function G1(r,t){return Dm(r.databaseId,t)}function TC(r){const t=F1(r);return t.length===4?ue.emptyPath():Q1(t)}function Wd(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Q1(r){return Kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function I0(r,t,i){return{name:Zd(r,t),fields:i.value.mapValue.fields}}function bC(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(Kt(T===void 0||typeof T=="string",58123),Ke.fromBase64String(T||"")):(Kt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ke.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const T=_.code===void 0?Z.UNKNOWN:j1(_.code);return new ct(T,_.message||"")})(d);i=new q1(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Nd(r,a.document.name),c=Ai(a.document.updateTime),d=a.document.createTime?Ai(a.document.createTime):Et.min(),p=new Mn({mapValue:{fields:a.document.fields}}),y=Je.newFoundDocument(l,c,d,p),_=a.targetIds||[],T=a.removedTargetIds||[];i=new Nc(_,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Nd(r,a.document),c=a.readTime?Ai(a.readTime):Et.min(),d=Je.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Nc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Nd(r,a.document),c=a.removedTargetIds||[];i=new Nc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new hC(l,c),p=a.targetId;i=new B1(p,d)}}return i}function SC(r,t){let i;if(t instanceof Ul)i={update:I0(r,t.key,t.value)};else if(t instanceof P1)i={delete:Zd(r,t.key)};else if(t instanceof qr)i={update:I0(r,t.key,t.data),updateMask:OC(t.fieldMask)};else{if(!(t instanceof lC))return pt(16599,{Vt:t.type});i={verify:Zd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Qc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:EC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function AC(r,t){return r&&r.length>0?(Kt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ai(l.updateTime):Ai(c);return d.isEqual(Et.min())&&(d=Ai(c)),new rC(d,l.transformResults||[])})(i,t)))):[]}function wC(r,t){return{documents:[G1(r,t.path)]}}function RC(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=G1(r,l);const c=(function(_){if(_.length!==0)return Y1(Ii.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(z){return{field:ka(z.field),direction:xC(z.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=$d(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function CC(r){let t=TC(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Kt(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(w){const z=K1(w);return z instanceof Ii&&S1(z)?z.getFilters():[z]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((z=>(function(G){return new Fc(Ua(G.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(z)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let z;return z=typeof w=="object"?w.value:w,rh(z)?null:z})(i.limit));let y=null;i.startAt&&(y=(function(w){const z=!!w.before,B=w.values||[];return new Hc(B,z)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const z=!w.before,B=w.values||[];return new Hc(B,z)})(i.endAt)),GR(t,l,d,c,p,"F",y,_)}function IC(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function K1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ua(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ua(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(Ua(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ii.create(i.compositeFilter.filters.map((a=>K1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function xC(r){return pC[r]}function NC(r){return yC[r]}function DC(r){return _C[r]}function ka(r){return{fieldPath:r.canonicalString()}}function Ua(r){return Qe.fromServerFormat(r.fieldPath)}function Y1(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(g0(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NAN"}};if(m0(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(g0(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NAN"}};if(m0(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(i.field),op:NC(i.op),value:i.value}}})(r):r instanceof Ii?(function(i){const a=i.getFilters().map((l=>Y1(l)));return a.length===1?a[0]:{compositeFilter:{op:DC(i.op),filters:a}}})(r):pt(54877,{filter:r})}function OC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function X1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Bs{constructor(t,i,a,l,c=Et.min(),d=Et.min(),p=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Bs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class MC{constructor(t){this.yt=t}}function VC(r){const t=CC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xd(t,t.limit,"L"):t}class zC{constructor(){this.Cn=new kC}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Ys.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Ys.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class kC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(ue.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(ue.comparator)).toArray()}}const x0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$1=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn($1,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class $a{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $a(0)}static cr(){return new $a(-1)}}const N0="LruGarbageCollector",UC=1048576;function D0([r,t],[i,a]){const l=Mt(r,i);return l===0?Mt(t,a):l}class LC{constructor(t){this.Ir=t,this.buffer=new Me(D0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();D0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class PC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(N0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){io(i)?st(N0,"Ignoring IndexedDB error during garbage collection: ",i):await no(i)}await this.Vr(3e5)}))}}class jC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(sh.ce);const a=new LC(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(x0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),Va()<=Ot.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function BC(r,t){return new jC(r,t)}class qC{constructor(){this.changes=new Br((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class HC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class FC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Tl(a.mutation,l,$n.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Or();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=dl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Or();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=es();const d=El(),p=(function(){return El()})();return i.forEach(((y,_)=>{const T=a.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof qr)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Tl(T.mutation,_,T.mutation.getFieldMask(),re.now())):d.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>p.set(_,new HC(T,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=El();let l=new ce(((d,p)=>d-p)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let T=a.get(y)||$n.empty();T=p.applyToLocalView(_,T),a.set(y,T);const w=(l.get(p.batchId)||Vt()).add(y);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,T=y.value,w=D1();T.forEach((z=>{if(!c.has(z)){const B=U1(i.get(z),a.get(z));B!==null&&w.set(z,B),c=c.add(z)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):QR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Or());let p=Al,y=c;return d.next((_=>$.forEach(_,((T,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(t,T).next((z=>{y=y.insert(T,z)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Vt()))).next((T=>({batchId:p,changes:N1(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let l=dl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=dl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(y=>{const _=(function(w,z){return new oh(z,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((T=>{T.forEach(((w,z)=>{d=d.insert(w,z)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Je.newInvalidDocument(T)))}));let p=dl();return d.forEach(((y,_)=>{const T=c.get(y);T!==void 0&&Tl(T.mutation,_,$n.empty(),re.now()),uh(i,_)&&(p=p.insert(y,_))})),p}))}}class GC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ai(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:VC(l.bundledQuery),readTime:Ai(l.readTime)}})(i)),$.resolve()}}class QC{constructor(){this.overlays=new ce(mt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Or();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Or(),c=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ce(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let T=c.get(_.largestBatchId);T===null&&(T=Or(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=Or(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>p.set(_,T))),!(p.size()>=l)););return $.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new cC(i,a));let c=this.qr.get(i);c===void 0&&(c=Vt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class KC{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Om{constructor(){this.Qr=new Me(Ue.$r),this.Ur=new Me(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ue(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ue(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new mt(new ue([])),a=new Ue(i,t),l=new Ue(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new ue([])),a=new Ue(i,t),l=new Ue(i,t+1);let c=Vt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ue(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ue{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}class YC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Ue.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new uC(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ue(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?bm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Mt);return i.forEach((l=>{const c=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new mt(c),0);let p=new Me(Mt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Ue(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ue(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class XC{constructor(t){this.ri=t,this.docs=(function(){return new ce(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=es();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=es();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||SR(bR(T),a)<=0||(l.has(T.key)||uh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){pt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new $C(this)}getSize(t){return $.resolve(this.size)}}class $C extends qC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class JC{constructor(t){this.persistence=t,this.si=new Br((i=>wm(i)),Rm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Om,this.targetCount=0,this.ai=$a.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new $a(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class J1{constructor(t,i){this.ui={},this.overlays={},this.ci=new sh(0),this.li=!1,this.li=!0,this.hi=new KC,this.referenceDelegate=t(this),this.Pi=new JC(this),this.indexManager=new zC,this.remoteDocumentCache=(function(l){return new XC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new MC(i),this.Ii=new GC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new QC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new YC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new ZC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class ZC extends wR{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.Ri=new Om,this.Vi=null}static mi(t){return new Mm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=mt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Yc{constructor(t,i){this.persistence=t,this.pi=new Br((a=>IR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=BC(this,i)}static mi(t,i){return new Yc(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Cc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Vm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vm(t,i.fromCache,a,l)}}class WC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class tI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HS()?8:RR(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new WC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Va()<=Ot.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Va()<=Ot.DEBUG&&st("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Va()<=Ot.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):$.resolve())}ys(t,i){if(v0(i))return $.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Xd(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,Xd(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return v0(i)||l.isEqual(Et.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(Va()<=Ot.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(i)),this.vs(t,d,i,TR(l,Al)).next((p=>p)))}))}Ds(t,i){let a=new Me(I1(t));return i.forEach(((l,c)=>{uh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Va()<=Ot.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",za(i)),this.ps.getDocumentsMatchingQuery(t,i,Ys.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const zm="LocalStore",eI=3e8;class nI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ce(Mt),this.xs=new Br((c=>wm(c)),Rm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new FC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function iI(r,t,i,a){return new nI(r,t,i,a)}async function Z1(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Vt();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of c){p.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function sI(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,T){const w=_.batch,z=w.keys();let B=$.resolve();return z.forEach((G=>{B=B.next((()=>T.getEntry(y,G))).next((et=>{const W=_.docVersions.get(G);Kt(W!==null,48541),et.version.compareTo(W)<0&&(w.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),T.addEntry(et)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(y,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Vt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function W1(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function rI(r,t){const i=bt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((T,w)=>{const z=l.get(w);if(!z)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,w))));let B=z.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?B=B.withResumeToken(Ke.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,a)),l=l.insert(w,B),(function(et,W,ot){return et.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=eI?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(z,B,T)&&p.push(i.Pi.updateTargetData(c,B))}));let y=es(),_=Vt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(aI(c,d,t.documentUpdates).next((T=>{y=T.ks,_=T.qs}))),!a.isEqual(Et.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(T)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function aI(r,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=es();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Et.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):st(zm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function oI(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function lI(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Bs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function tm(r,t,i){const a=bt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!io(d))throw d;st(zm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function O0(r,t,i){const a=bt(r);let l=Et.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,T){const w=bt(y),z=w.xs.get(T);return z!==void 0?$.resolve(w.Ms.get(z)):w.Pi.getTargetData(_,T)})(a,d,Si(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:Vt()))).next((p=>(uI(a,YR(t),p),{documents:p,Qs:c})))))}function uI(r,t,i){let a=r.Os.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class M0{constructor(){this.activeTargetIds=tC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cI{constructor(){this.Mo=new M0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new M0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class hI{Oo(t){}shutdown(){}}const V0="ConnectivityMonitor";class z0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(V0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(V0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tc=null;function em(){return Tc===null?Tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tc++,"0x"+Tc.toString(16)}const Dd="RestConnection",fI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Bc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=em(),p=this.zo(t,i.toUriEncodedString());st(Dd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),T=Za(_);return this.Jo(t,p,y,a,T).then((w=>(st(Dd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Qa(Dd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=fI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class mI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class gI extends dI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=em();return new Promise(((p,y)=>{const _=new i1;_.setWithCredentials(!0),_.listenOnce(s1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Rc.NO_ERROR:const w=_.getResponseJson();st(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Rc.TIMEOUT:st(Xe,`RPC '${t}' ${d} timed out`),y(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const z=_.getStatus();if(st(Xe,`RPC '${t}' ${d} failed with status:`,z,"response text:",_.getResponseText()),z>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const G=B?.error;if(G&&G.status&&G.message){const et=(function(ot){const yt=ot.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(yt)>=0?yt:Z.UNKNOWN})(G.status);y(new ct(et,G.message))}else y(new ct(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Xe,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);st(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",T,a,15)}))}T_(t,i,a){const l=em(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=o1(),p=a1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const T=c.join("");st(Xe,`Creating RPC '${t}' stream ${l}: ${T}`,y);const w=d.createWebChannel(T,y);this.I_(w);let z=!1,B=!1;const G=new mI({Yo:W=>{B?st(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(z||(st(Xe,`Opening RPC '${t}' stream ${l} transport.`),w.open(),z=!0),st(Xe,`RPC '${t}' stream ${l} sending:`,W),w.send(W))},Zo:()=>w.close()}),et=(W,ot,yt)=>{W.listen(ot,(dt=>{try{yt(dt)}catch(Pt){setTimeout((()=>{throw Pt}),0)}}))};return et(w,fl.EventType.OPEN,(()=>{B||(st(Xe,`RPC '${t}' stream ${l} transport opened.`),G.o_())})),et(w,fl.EventType.CLOSE,(()=>{B||(B=!0,st(Xe,`RPC '${t}' stream ${l} transport closed`),G.a_(),this.E_(w))})),et(w,fl.EventType.ERROR,(W=>{B||(B=!0,Qa(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),G.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),et(w,fl.EventType.MESSAGE,(W=>{if(!B){const ot=W.data[0];Kt(!!ot,16349);const yt=ot,dt=yt?.error||yt[0]?.error;if(dt){st(Xe,`RPC '${t}' stream ${l} received error:`,dt);const Pt=dt.status;let J=(function(S){const R=Ce[S];if(R!==void 0)return j1(R)})(Pt),ut=dt.message;J===void 0&&(J=Z.INTERNAL,ut="Unknown error status: "+Pt+" with message "+dt.message),B=!0,G.a_(new ct(J,ut)),w.close()}else st(Xe,`RPC '${t}' stream ${l} received:`,ot),G.u_(ot)}})),et(p,r1.STAT_EVENT,(W=>{W.stat===Hd.PROXY?st(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===Hd.NOPROXY&&st(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Od(){return typeof document<"u"?document:null}function dh(r){return new vC(r,!0)}class tE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const k0="PersistentStream";class eE{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ct(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(k0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(k0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pI extends eE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=bC(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Ai(d.readTime):Et.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Wd(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Yd(y)?{documents:wC(c,y)}:{query:RC(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=H1(c,d.resumeToken);const _=$d(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=Kc(c,d.snapshotVersion.toTimestamp());const _=$d(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=IC(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Wd(this.serializer),i.removeTarget=t,this.q_(i)}}class yI extends eE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=AC(t.writeResults,t.commitTime),a=Ai(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Wd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>SC(this.serializer,a)))};this.q_(i)}}class _I{}class vI extends _I{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Jd(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Jd(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class EI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pr="RemoteStore";class TI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Hr(this)&&(st(Pr,"Restarting streams for network reachability change."),await(async function(y){const _=bt(y);_.Ea.add(4),await Pl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await mh(_)})(this))}))})),this.Ra=new EI(a,l)}}async function mh(r){if(Hr(r))for(const t of r.da)await t(!0)}async function Pl(r){for(const t of r.da)await t(!1)}function nE(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Pm(i)?Lm(i):so(i).O_()&&Um(i,t))}function km(r,t){const i=bt(r),a=so(i);i.Ia.delete(t),a.O_()&&iE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Hr(i)&&i.Ra.set("Unknown"))}function Um(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}so(r).Y_(t)}function iE(r,t){r.Va.Ue(t),so(r).Z_(t)}function Lm(r){r.Va=new gC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),so(r).start(),r.Ra.ua()}function Pm(r){return Hr(r)&&!so(r).x_()&&r.Ia.size>0}function Hr(r){return bt(r).Ea.size===0}function sE(r){r.Va=void 0}async function bI(r){r.Ra.set("Online")}async function SI(r){r.Ia.forEach(((t,i)=>{Um(r,t)}))}async function AI(r,t){sE(r),Pm(r)?(r.Ra.ha(t),Lm(r)):r.Ra.set("Unknown")}async function wI(r,t,i){if(r.Ra.set("Online"),t instanceof q1&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){st(Pr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Xc(r,a)}else if(t instanceof Nc?r.Va.Ze(t):t instanceof B1?r.Va.st(t):r.Va.tt(t),!i.isEqual(Et.min()))try{const a=await W1(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(Ke.EMPTY_BYTE_STRING,T.snapshotVersion)),iE(c,y);const w=new Bs(T.target,y,_,T.sequenceNumber);Um(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){st(Pr,"Failed to raise snapshot:",a),await Xc(r,a)}}async function Xc(r,t,i){if(!io(t))throw t;r.Ea.add(1),await Pl(r),r.Ra.set("Offline"),i||(i=()=>W1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Pr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await mh(r)}))}function rE(r,t){return t().catch((i=>Xc(r,i,t)))}async function gh(r){const t=bt(r),i=Zs(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bm;for(;RI(t);)try{const l=await oI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,CI(t,l)}catch(l){await Xc(t,l)}aE(t)&&oE(t)}function RI(r){return Hr(r)&&r.Ta.length<10}function CI(r,t){r.Ta.push(t);const i=Zs(r);i.O_()&&i.X_&&i.ea(t.mutations)}function aE(r){return Hr(r)&&!Zs(r).x_()&&r.Ta.length>0}function oE(r){Zs(r).start()}async function II(r){Zs(r).ra()}async function xI(r){const t=Zs(r);for(const i of r.Ta)t.ea(i.mutations)}async function NI(r,t,i){const a=r.Ta.shift(),l=xm.from(a,t,i);await rE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await gh(r)}async function DI(r,t){t&&Zs(r).X_&&await(async function(a,l){if((function(d){return fC(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();Zs(a).B_(),await rE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await gh(a)}})(r,t),aE(r)&&oE(r)}async function U0(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),st(Pr,"RemoteStore received new credentials");const a=Hr(i);i.Ea.add(3),await Pl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await mh(i)}async function OI(r,t){const i=bt(r);t?(i.Ea.delete(2),await mh(i)):t||(i.Ea.add(2),await Pl(i),i.Ra.set("Unknown"))}function so(r){return r.ma||(r.ma=(function(i,a,l){const c=bt(i);return c.sa(),new pI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:bI.bind(null,r),t_:SI.bind(null,r),r_:AI.bind(null,r),H_:wI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Pm(r)?Lm(r):r.Ra.set("Unknown")):(await r.ma.stop(),sE(r))}))),r.ma}function Zs(r){return r.fa||(r.fa=(function(i,a,l){const c=bt(i);return c.sa(),new yI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:II.bind(null,r),r_:DI.bind(null,r),ta:xI.bind(null,r),na:NI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await gh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Pr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class jm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new jm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(r,t){if(ts("AsyncQueue",`${t}: ${r}`),io(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=dl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ha;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class L0{constructor(){this.ga=new ce(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ja{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ja(t,i,Ha.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class MI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class VI{constructor(){this.queries=P0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=bt(i),c=l.queries;l.queries=P0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function P0(){return new Br((r=>C1(r)),lh)}async function zI(r,t){const i=bt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new MI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Bm(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&qm(i)}async function kI(r,t){const i=bt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function UI(r,t){const i=bt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&qm(i)}function LI(r,t,i){const a=bt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function qm(r){r.Ca.forEach((t=>{t.next()}))}var nm,j0;(j0=nm||(nm={})).Ma="default",j0.Cache="cache";class PI{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ja(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==nm.Cache}}class lE{constructor(t){this.key=t}}class uE{constructor(t){this.key=t}}class jI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=I1(t),this.tu=new Ha(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new L0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,w)=>{const z=l.get(T),B=uh(this.query,w)?w:null,G=!!z&&this.mutatedKeys.has(z.key),et=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let W=!1;z&&B?z.data.isEqual(B.data)?G!==et&&(a.track({type:3,doc:B}),W=!0):this.su(z,B)||(a.track({type:2,doc:B}),W=!0,(y&&this.eu(B,y)>0||_&&this.eu(B,_)<0)&&(p=!0)):!z&&B?(a.track({type:0,doc:B}),W=!0):z&&!B&&(a.track({type:1,doc:z}),W=!0,(y||_)&&(p=!0)),W&&(B?(d=d.add(B),c=et?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,w)=>(function(B,G){const et=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:W})}};return et(B)-et(G)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Ja(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new uE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new lE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hm="SyncEngine";class BI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class qI{constructor(t){this.key=t,this.hu=!1}}class HI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Br((p=>C1(p)),lh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(mt.comparator),this.Au=new Map,this.Ru=new Om,this.Vu={},this.mu=new Map,this.fu=$a.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FI(r,t,i=!0){const a=gE(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await cE(a,t,i,!0),l}async function GI(r,t){const i=gE(r);await cE(i,t,!0,!1)}async function cE(r,t,i,a){const l=await lI(r.localStore,Si(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await QI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&nE(r.remoteStore,l),p}async function QI(r,t,i,a,l){r.pu=(w,z,B)=>(async function(et,W,ot,yt){let dt=W.view.ru(ot);dt.Cs&&(dt=await O0(et.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,dt))));const Pt=yt&&yt.targetChanges.get(W.targetId),J=yt&&yt.targetMismatches.get(W.targetId)!=null,ut=W.view.applyChanges(dt,et.isPrimaryClient,Pt,J);return q0(et,W.targetId,ut.au),ut.snapshot})(r,w,z,B);const c=await O0(r.localStore,t,!0),d=new jI(t,c.Qs),p=d.ru(c.documents),y=Ll.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);q0(r,i,_.au);const T=new BI(t,i,d);return r.Tu.set(t,T),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function KI(r,t,i){const a=bt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!lh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await tm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&km(a.remoteStore,l.targetId),im(a,l.targetId)})).catch(no)):(im(a,l.targetId),await tm(a.localStore,l.targetId,!0))}async function YI(r,t){const i=bt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),km(i.remoteStore,a.targetId))}async function XI(r,t,i){const a=nx(r);try{const l=await(function(d,p){const y=bt(d),_=re.now(),T=p.reduce(((B,G)=>B.add(G.key)),Vt());let w,z;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let G=es(),et=Vt();return y.Ns.getEntries(B,T).next((W=>{G=W,G.forEach(((ot,yt)=>{yt.isValidDocument()||(et=et.add(ot))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,G))).next((W=>{w=W;const ot=[];for(const yt of p){const dt=oC(yt,w.get(yt.key).overlayedDocument);dt!=null&&ot.push(new qr(yt.key,dt,E1(dt.value.mapValue),$i.exists(!0)))}return y.mutationQueue.addMutationBatch(B,_,ot,p)})).next((W=>{z=W;const ot=W.applyToLocalDocumentSet(w,et);return y.documentOverlayCache.saveOverlays(B,W.batchId,ot)}))})).then((()=>({batchId:z.batchId,changes:N1(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ce(Mt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await jl(a,l.changes),await gh(a.remoteStore)}catch(l){const c=Bm(l,"Failed to persist write");i.reject(c)}}async function hE(r,t){const i=bt(r);try{const a=await rI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Kt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Kt(d.hu,14607):l.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))})),await jl(i,a,t)}catch(a){await no(a)}}function B0(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=bt(d);y.onlineState=p;let _=!1;y.queries.forEach(((T,w)=>{for(const z of w.Sa)z.va(p)&&(_=!0)})),_&&qm(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function $I(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ce(mt.comparator);d=d.insert(c,Je.newNoDocument(c,Et.min()));const p=Vt().add(c),y=new fh(Et.min(),new Map,new ce(Mt),d,p);await hE(a,y),a.du=a.du.remove(c),a.Au.delete(t),Fm(a)}else await tm(a.localStore,t,!1).then((()=>im(a,t,i))).catch(no)}async function JI(r,t){const i=bt(r),a=t.batch.batchId;try{const l=await sI(i.localStore,t);dE(i,a,null),fE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await jl(i,l)}catch(l){await no(l)}}async function ZI(r,t,i){const a=bt(r);try{const l=await(function(d,p){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return y.mutationQueue.lookupMutationBatch(_,p).next((w=>(Kt(w!==null,37113),T=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,T,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>y.localDocuments.getDocuments(_,T)))}))})(a.localStore,t);dE(a,t,i),fE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await jl(a,l)}catch(l){await no(l)}}function fE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function dE(r,t,i){const a=bt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function im(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||mE(r,a)}))}function mE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(km(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Fm(r))}function q0(r,t,i){for(const a of i)a instanceof lE?(r.Ru.addReference(a.key,t),WI(r,a)):a instanceof uE?(st(Hm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||mE(r,a.key)):pt(19791,{wu:a})}function WI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(st(Hm,"New document in limbo: "+i),r.Eu.add(a),Fm(r))}function Fm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new mt(ue.fromString(t)),a=r.fu.next();r.Au.set(a,new qI(i)),r.du=r.du.insert(i,a),nE(r.remoteStore,new Bs(Si(Cm(i.path)),a,"TargetPurposeLimboResolution",sh.ce))}}async function jl(r,t,i){const a=bt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(_){l.push(_);const T=Vm.As(y.targetId,_);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const T=bt(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(_,(z=>$.forEach(z.Es,(B=>T.persistence.referenceDelegate.addReference(w,z.targetId,B))).next((()=>$.forEach(z.ds,(B=>T.persistence.referenceDelegate.removeReference(w,z.targetId,B)))))))))}catch(w){if(!io(w))throw w;st(zm,"Failed to update sequence numbers: "+w)}for(const w of _){const z=w.targetId;if(!w.fromCache){const B=T.Ms.get(z),G=B.snapshotVersion,et=B.withLastLimboFreeSnapshotVersion(G);T.Ms=T.Ms.insert(z,et)}}})(a.localStore,c))}async function tx(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){st(Hm,"User change. New user:",t.toKey());const a=await Z1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ct(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await jl(i,a.Ls)}}function ex(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function gE(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=hE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ex.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$I.bind(null,t),t.Pu.H_=UI.bind(null,t.eventManager),t.Pu.yu=LI.bind(null,t.eventManager),t}function nx(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=JI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZI.bind(null,t),t}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return iI(this.persistence,new tI,t.initialUser,this.serializer)}Cu(t){return new J1(Mm.mi,this.serializer)}Du(t){return new cI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class ix extends $c{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Kt(this.persistence.referenceDelegate instanceof Yc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new PC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new J1((a=>Yc.mi(a,i)),this.serializer)}}class sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>B0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=tx.bind(null,this.syncEngine),await OI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new VI})()}createDatastore(t){const i=dh(t.databaseInfo.databaseId),a=(function(c){return new gI(c)})(t.databaseInfo);return(function(c,d,p,y){return new vI(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new TI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>B0(this.syncEngine,i,0)),(function(){return z0.v()?new z0:new hI})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,T){const w=new HI(l,c,d,p,y,_);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);st(Pr,"RemoteStore shutting down."),a.Ea.add(5),await Pl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sm.provider={build:()=>new sm};class sx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Ws="FirestoreClient";class rx{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Em.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(Ws,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(Ws,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Bm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Md(r,t){r.asyncQueue.verifyOperationInProgress(),st(Ws,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await Z1(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function H0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await ax(r);st(Ws,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>U0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>U0(t.remoteStore,l))),r._onlineComponents=t}async function ax(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Ws,"Using user provided OfflineComponentProvider");try{await Md(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Qa("Error using user provided cache. Falling back to memory cache: "+i),await Md(r,new $c)}}else st(Ws,"Using default OfflineComponentProvider"),await Md(r,new ix(void 0));return r._offlineComponents}async function pE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Ws,"Using user provided OnlineComponentProvider"),await H0(r,r._uninitializedComponentsProvider._online)):(st(Ws,"Using default OnlineComponentProvider"),await H0(r,new sm))),r._onlineComponents}function ox(r){return pE(r).then((t=>t.syncEngine))}async function F0(r){const t=await pE(r),i=t.eventManager;return i.onListen=FI.bind(null,t.syncEngine),i.onUnlisten=KI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=GI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=YI.bind(null,t.syncEngine),i}function yE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const G0=new Map;const _E="firestore.googleapis.com",Q0=!0;class K0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_E,this.ssl=Q0}else this.host=t.host,this.ssl=t.ssl??Q0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<UC)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ER("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gm{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new uR;switch(a.type){case"firstParty":return new dR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=G0.get(i);a&&(st("ComponentProvider","Removing Datastore"),G0.delete(i),a.terminate())})(this),Promise.resolve()}}function lx(r,t,i,a={}){r=qa(r,Gm);const l=Za(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(pv(`https://${p}`),yv("Firestore",!0)),c.host!==_E&&c.host!==p&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!zr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,T;if(typeof a.mockUserToken=="string")_=a.mockUserToken,T=$e.MOCK_USER;else{_=VS(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $e(w)}r._authCredentials=new cR(new u1(_,T))}}class ph{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ph(this.firestore,t,this._query)}}class Le{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(kl(i,Le._jsonSchema))return new Le(t,a||null,new mt(ue.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Ie("string",Le._jsonSchemaVersion),referencePath:Ie("string")};class Nl extends ph{constructor(t,i,a){super(t,i,Cm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new mt(t))}withConverter(t){return new Nl(this.firestore,t,this._path)}}function Y0(r,t,...i){if(r=zn(r),arguments.length===1&&(t=Em.newId()),vR("doc","path",t),r instanceof Gm){const a=ue.fromString(t,...i);return a0(a),new Le(r,null,new mt(a))}{if(!(r instanceof Le||r instanceof Nl))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ue.fromString(t,...i));return a0(a),new Le(r.firestore,r instanceof Nl?r.converter:null,new mt(a))}}const X0="AsyncQueue";class $0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tE(this,"async_queue_retry"),this._c=()=>{const a=Od();a&&st(X0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Od();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Od();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!io(t))throw t;st(X0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",J0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=jm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:J0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function J0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Z0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Jc extends Gm{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new $0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $0(t),this._firestoreClient=void 0,await t}}}function ux(r,t){const i=typeof r=="object"?r:Tv(),a=typeof r=="string"?r:Bc,l=hm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=OS("firestore");c&&lx(l,...c)}return l}function vE(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||cx(r),r._firestoreClient}function cx(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new DR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,yE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new rx(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(Ke.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Vn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(kl(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Ie("string",Vn._jsonSchemaVersion),bytes:Ie("string")};class Qm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class EE{constructor(t){this._methodName=t}}class wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(kl(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ie("string",wi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Ri{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(kl(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ri(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:Ie("string",Ri._jsonSchemaVersion),vectorValues:Ie("object")};const hx=/^__.*__$/;class fx{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new qr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ul(t,this.data,i,this.fieldTransforms)}}function TE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class Km{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Km({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Zc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(TE(this.Ac)&&hx.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class dx{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||dh(t)}Cc(t,i,a,l=!1){return new Km({Ac:t,methodName:i,Dc:a,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mx(r){const t=r._freezeSettings(),i=dh(r._databaseId);return new dx(r._databaseId,!!t.ignoreUndefinedProperties,i)}function gx(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);wE("Data must be an object, but it was:",d,a);const p=SE(a,d);let y,_;if(c.merge)y=new $n(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const z=px(t,w,i);if(!d.contains(z))throw new ct(Z.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);_x(T,z)||T.push(z)}y=new $n(T),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new fx(new Mn(p),y,_)}function bE(r,t){if(AE(r=zn(r)))return wE("Unsupported field value:",t,r),SE(r,t);if(r instanceof EE)return(function(a,l){if(!TE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=bE(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=zn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return eC(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:Kc(l.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Kc(l.serializer,c)}}if(a instanceof wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Vn)return{bytesValue:H1(l.serializer,a._byteString)};if(a instanceof Le){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ri)return(function(d,p){return{mapValue:{fields:{[_1]:{stringValue:v1},[qc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Im(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Tm(a)}`)})(r,t)}function SE(r,t){const i={};return f1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jr(r,((a,l)=>{const c=bE(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function AE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof wi||r instanceof Vn||r instanceof Le||r instanceof EE||r instanceof Ri)}function wE(r,t,i){if(!AE(i)||!c1(i)){const a=Tm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function px(r,t,i){if((t=zn(t))instanceof Qm)return t._internalPath;if(typeof t=="string")return RE(r,t);throw Zc("Field path arguments must be of type string or ",r,!1,void 0,i)}const yx=new RegExp("[~\\*/\\[\\]]");function RE(r,t,i){if(t.search(yx)>=0)throw Zc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Qm(...t.split("."))._internalPath}catch{throw Zc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Zc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ct(Z.INVALID_ARGUMENT,p+r+y)}function _x(r,t){return r.some((i=>i.isEqual(t)))}class CE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new vx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(IE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class vx extends CE{data(){return super.data()}}function IE(r,t){return typeof t=="string"?RE(r,t):t instanceof Qm?t._internalPath:t._delegate._internalPath}function Ex(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tx{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes($s(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return jr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[qc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Ri(i)}convertGeoPoint(t){return new wi(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ah(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const i=Xs(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ue.fromString(t);Kt(X1(a),9688,{name:t});const l=new Rl(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return l.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function bx(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class gl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vr extends CE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(IE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Vr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Vr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vr._jsonSchema={type:Ie("string",Vr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Dc extends Vr{data(t={}){return super.data(t)}}class Fa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new gl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Dc(this._firestore,this._userDataWriter,a.key,a,new gl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Dc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new gl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Dc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new gl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:Sx(p.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Em.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Sx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Ie("string",Fa._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class xE extends Tx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function Ax(r,t,i){r=qa(r,Le);const a=qa(r.firestore,Jc),l=bx(r.converter,t);return Rx(a,[gx(mx(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,$i.none())])}function wx(r,...t){r=zn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Z0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Z0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Le)d=qa(r.firestore,Jc),p=Cm(r._key.path),c={next:y=>{t[a]&&t[a](Cx(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=qa(r,ph);d=qa(y.firestore,Jc),p=y._query;const _=new xE(d);c={next:T=>{t[a]&&t[a](new Fa(d,_,y,T))},error:t[a+1],complete:t[a+2]},Ex(r._query)}return(function(_,T,w,z){const B=new sx(z),G=new PI(T,B,w);return _.asyncQueue.enqueueAndForget((async()=>zI(await F0(_),G))),()=>{B.Nu(),_.asyncQueue.enqueueAndForget((async()=>kI(await F0(_),G)))}})(vE(d),p,l,c)}function Rx(r,t){return(function(a,l){const c=new Mr;return a.asyncQueue.enqueueAndForget((async()=>XI(await ox(a),l,c))),c.promise})(vE(r),t)}function Cx(r,t,i){const a=i.docs.get(t._key),l=new xE(r);return new Vr(r,l,t._key,a,new gl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){eo=l})(Wa),Ga(new kr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Jc(new hR(a.getProvider("auth-internal")),new mR(d,a.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(_.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Fs(n0,i0,t),Fs(n0,i0,"esm2020")})();const Ym=()=>Math.random().toString(36).substr(2,9),Ei=r=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(r),Ix=[{class:"bg-blue-500",name:"Blu"},{class:"bg-emerald-500",name:"Smeraldo"},{class:"bg-purple-500",name:"Viola"},{class:"bg-rose-500",name:"Rosa"},{class:"bg-amber-500",name:"Ambra"},{class:"bg-indigo-500",name:"Indaco"},{class:"bg-zinc-600",name:"Neutro"}],rm={user:A.jsx(lv,{size:20}),baby:A.jsx(wb,{size:20}),users:A.jsx(uv,{size:20}),heart:A.jsx(Yb,{size:20}),brain:A.jsx(om,{size:20}),message:A.jsx(tS,{size:20}),zap:A.jsx(SS,{size:20}),file:A.jsx(iv,{size:20}),smile:A.jsx(cS,{size:20}),home:A.jsx($b,{size:20}),sparkles:A.jsx(fS,{size:20})},Xm=(r,t)=>rm[r]||t,NE=({selected:r,onSelect:t})=>A.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.keys(rm).map(i=>A.jsx("button",{onClick:()=>t(i),type:"button",className:`p-2 rounded-lg transition-all ${r===i?"bg-indigo-600 text-white shadow-md scale-110":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"}`,children:W0.cloneElement(rm[i],{size:18})},i))}),DE=({selected:r,onSelect:t})=>A.jsx("div",{className:"flex gap-2 items-center h-9 mt-2 flex-wrap",children:Ix.map(i=>A.jsx("button",{onClick:()=>t(i.class),title:i.name,className:`w-6 h-6 rounded-full ${i.class} ${r===i.class?"ring-2 ring-white scale-110 shadow-lg":"opacity-40 hover:opacity-100"} transition-all`},i.class))}),xx=(r,t)=>{const[i,a]=Ct.useState(null),[l,c]=Ct.useState(null),[d,p]=Ct.useState(()=>localStorage.getItem("psy_firebase_config")||""),[y,_]=Ct.useState(()=>localStorage.getItem("psy_sync_id")||"mio-studio"),[T,w]=Ct.useState("offline");return Ct.useEffect(()=>{localStorage.setItem("psy_sync_id",y)},[y]),Ct.useEffect(()=>{if(d)try{const B=JSON.parse(d),G=Ev(B),et=oR(G);a(et),c(ux(G)),F2(et).catch(W=>{console.error("Auth Error",W),w("error")})}catch(B){console.error("Config Error",B),w("error")}},[d]),Ct.useEffect(()=>{if(!i||!l||!y)return;const B=$2(i,G=>{if(G){w("connecting");const et=wx(Y0(l,"backups",y),W=>{if(W.exists()){const ot=W.data();JSON.stringify(ot)!==JSON.stringify(r)&&t(ot)}w("synced")},W=>{console.error("Sync Data Error",W),w("error")});return()=>et()}else w("offline")});return()=>B()},[i,l,y]),{setConfig:p,config:d,syncId:y,setSyncId:_,status:T,saveToCloud:async B=>{if(!(!i?.currentUser||!l||T!=="synced"))try{await Ax(Y0(l,"backups",y),B)}catch(G){console.error("Upload Error",G),w("error")}}}},Nx=({types:r,setTypes:t,firebaseHook:i,onExport:a,onImport:l})=>{const[c,d]=Ct.useState("types"),[p,y]=Ct.useState({name:"",price:60,color:"bg-blue-500",icon:"brain"}),[_,T]=Ct.useState(null),w=Ct.useRef(null),z=()=>{if(!p.name)return;const G=_?r.map(et=>et.id===_?{...p,id:_}:et):[...r,{...p,id:Ym()}];t(G),y({name:"",price:60,color:"bg-blue-500",icon:"brain"}),T(null)},B=G=>{G.target.files&&G.target.files[0]&&l(G.target.files[0])};return A.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in",children:[A.jsxs("div",{className:"flex gap-2 bg-zinc-800 p-1 rounded-xl border border-zinc-700",children:[A.jsx("button",{onClick:()=>d("types"),className:`flex-1 py-2 text-sm rounded-lg font-medium transition-all ${c==="types"?"bg-zinc-600 text-white shadow":"text-zinc-400 hover:text-zinc-200"}`,children:"Tipi Prestazioni"}),A.jsx("button",{onClick:()=>d("data"),className:`flex-1 py-2 text-sm rounded-lg font-medium transition-all ${c==="data"?"bg-indigo-600 text-white shadow":"text-zinc-400 hover:text-zinc-200"}`,children:"Gestione Dati"})]}),c==="types"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"bg-zinc-800 p-6 rounded-xl border border-zinc-700 shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("h3",{className:"text-lg font-bold text-zinc-200 flex items-center gap-2",children:[A.jsx(mS,{size:18})," ",_?"Modifica":"Nuova"]}),_&&A.jsx("button",{onClick:()=>{T(null),y({name:"",price:60,color:"bg-blue-500",icon:"brain"})},className:"text-xs text-zinc-400 underline",children:"Annulla"})]}),A.jsxs("div",{className:"grid gap-4",children:[A.jsx("input",{type:"text",className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 text-sm text-zinc-200 outline-none focus:border-indigo-500",placeholder:"Nome",value:p.name,onChange:G=>y({...p,name:G.target.value})}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(NE,{selected:p.icon,onSelect:G=>y({...p,icon:G})}),A.jsx(DE,{selected:p.color,onSelect:G=>y({...p,color:G})})]}),A.jsxs("div",{className:"relative",children:[A.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500 text-sm",children:""}),A.jsx("input",{type:"number",className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 pl-7 text-sm text-zinc-200",value:p.price,onChange:G=>y({...p,price:parseFloat(G.target.value)||0})})]}),A.jsx("button",{onClick:z,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white p-2 rounded-lg font-bold transition-colors",children:_?"Aggiorna":"Aggiungi"})]})]}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:r.map(G=>A.jsxs("div",{className:"bg-zinc-800 p-4 rounded-xl border border-zinc-700 flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:`w-8 h-8 rounded-full ${G.color} flex items-center justify-center text-white`,children:Xm(G.icon,A.jsx(om,{size:16}))}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-zinc-200 text-sm",children:G.name}),A.jsx("p",{className:"text-xs text-zinc-400 font-mono",children:Ei(G.price)})]})]}),A.jsxs("div",{className:"flex gap-1",children:[A.jsx("button",{onClick:()=>{T(G.id),y(G),window.scrollTo({top:0,behavior:"smooth"})},className:"p-2 text-zinc-500 hover:text-amber-400",children:A.jsx(rv,{size:16})}),A.jsx("button",{onClick:()=>{confirm("Eliminare?")&&t(r.filter(et=>et.id!==G.id))},className:"p-2 text-zinc-500 hover:text-red-400",children:A.jsx(lm,{size:16})})]})]},G.id))})]}),c==="data"&&A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-zinc-800 p-6 rounded-xl border border-zinc-700 shadow-lg space-y-4",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("h3",{className:"text-lg font-bold text-indigo-400 flex items-center gap-2",children:[A.jsx(nv,{size:20})," Cloud Sync (Firebase)"]}),A.jsxs("div",{className:`flex items-center gap-2 text-xs px-2 py-1 rounded-full border ${i.status==="synced"?"border-emerald-500/50 bg-emerald-500/10 text-emerald-400":"border-zinc-600 bg-zinc-900 text-zinc-400"}`,children:[A.jsx("div",{className:`w-2 h-2 rounded-full ${i.status==="synced"?"bg-emerald-500 animate-pulse":i.status==="error"?"bg-rose-500":"bg-zinc-500"}`}),i.status==="synced"?"Attivo":i.status==="error"?"Errore":"Offline"]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-xs text-zinc-400 font-bold block",children:"1. Configurazione JSON"}),A.jsx("textarea",{className:"w-full bg-zinc-900 border border-zinc-600 rounded p-3 text-xs text-zinc-300 font-mono h-20 outline-none focus:border-indigo-500 resize-none",placeholder:'Incolla qui il JSON di Firebase: { "apiKey": "...", ... }',value:i.config,onChange:G=>{i.setConfig(G.target.value),localStorage.setItem("psy_firebase_config",G.target.value)}})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-xs text-zinc-400 font-bold block",children:"2. ID Sincronizzazione (Segreto)"}),A.jsx("div",{className:"flex gap-2",children:A.jsxs("div",{className:"relative flex-1",children:[A.jsx(Zb,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500"}),A.jsx("input",{type:"text",className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 pl-9 text-sm text-white focus:border-indigo-500 outline-none",placeholder:"es. StudioRossi2025",value:i.syncId,onChange:G=>i.setSyncId(G.target.value)})]})}),A.jsx("p",{className:"text-[10px] text-zinc-500",children:"Usa lo stesso ID su tutti i tuoi dispositivi per condividere i dati."})]})]}),A.jsxs("div",{className:"bg-zinc-800 p-6 rounded-xl border border-zinc-700 shadow-lg space-y-4",children:[A.jsxs("h3",{className:"text-lg font-bold text-emerald-400 flex items-center gap-2",children:[A.jsx(Qb,{size:20})," Backup Locale"]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsxs("button",{onClick:a,className:"flex-1 bg-zinc-700 hover:bg-zinc-600 text-white p-3 rounded-lg flex items-center justify-center gap-2 transition-colors font-medium",children:[A.jsx(jb,{size:18})," Esporta Dati"]}),A.jsxs("button",{onClick:()=>w.current.click(),className:"flex-1 bg-zinc-700 hover:bg-zinc-600 text-white p-3 rounded-lg flex items-center justify-center gap-2 transition-colors font-medium",children:[A.jsx(_S,{size:18})," Importa Dati"]}),A.jsx("input",{type:"file",ref:w,onChange:B,className:"hidden",accept:".json"})]})]})]})]})},Dx=({patients:r,setPatients:t,sessions:i,isGrid:a,setIsGrid:l})=>{const[c,d]=Ct.useState({name:"",icon:"user",color:"bg-zinc-600",notes:""}),[p,y]=Ct.useState(null),[_,T]=Ct.useState(!1),[w,z]=Ct.useState(""),[B,G]=Ct.useState(""),[et,W]=Ct.useState(""),[ot,yt]=Ct.useState(!1),dt=()=>{c.name&&(p?(t(r.map(S=>S.id===p?{...S,...c}:S)),y(null)):t([...r,{id:Ym(),...c,createdAt:new Date().toISOString()}]),d({name:"",icon:"user",color:"bg-zinc-600",notes:""}),T(!1))},Pt=S=>{d({name:S.name,icon:S.icon||"user",color:S.color||"bg-zinc-600",notes:S.notes||""}),y(S.id),T(!0)},J=S=>{confirm("Cancellare tutto?")&&(t(r.filter(R=>R.id!==S)),p===S&&(y(null),T(!1)))},ut=S=>{const R=new Date,D=B?new Date(B):null;D&&D.setHours(0,0,0,0);const N=et?new Date(et):null;N&&N.setHours(23,59,59,999);let V=0,I=0,kt=0;return i.filter(Ft=>Ft.patientId===S).forEach(Ft=>{const F=new Date(Ft.date);let tt=!0;D&&F<D&&(tt=!1),N&&F>N&&(tt=!1),tt&&(F<=R&&(V+=Ft.price||0,kt++),I+=Ft.amountPaid||0)}),{balance:I-V,count:kt,revenue:I}},C=r.filter(S=>S.name.toLowerCase().includes(w.toLowerCase()));return A.jsxs("div",{className:"h-full flex flex-col gap-4 relative",children:[A.jsxs("div",{className:"shrink-0 flex gap-2",children:[A.jsxs("div",{className:"flex-1 bg-zinc-800 rounded-xl border border-zinc-700 flex items-center px-3",children:[A.jsx(aS,{size:18,className:"text-zinc-500"}),A.jsx("input",{className:"bg-transparent border-none p-3 w-full text-zinc-200 outline-none text-sm placeholder-zinc-500",placeholder:"Cerca...",value:w,onChange:S=>z(S.target.value)})]}),A.jsx("button",{onClick:()=>l(!a),className:`py-3 px-4 rounded-xl flex items-center justify-center border transition-all ${a?"bg-zinc-600 text-white border-zinc-500":"bg-zinc-800 text-zinc-400 border-zinc-700"}`,children:a?A.jsx(sv,{size:20}):A.jsx(ov,{size:20})}),A.jsx("button",{onClick:()=>{T(!_),y(null),d({name:"",icon:"user",color:"bg-zinc-600",notes:""})},className:`py-3 px-4 rounded-xl flex items-center justify-center transition-all shadow-lg ${_?"bg-zinc-700 text-zinc-300":"bg-emerald-600 text-white"}`,children:_?A.jsx(Vd,{size:20}):A.jsx(av,{size:20})}),A.jsx("button",{onClick:()=>yt(!ot),className:`py-3 px-4 rounded-xl flex items-center justify-center border transition-all ${ot||B?"bg-indigo-600 text-white border-indigo-500":"bg-zinc-800 text-zinc-400 border-zinc-700"}`,children:A.jsx(Hb,{size:20})})]}),(ot||B)&&A.jsxs("div",{className:"shrink-0 bg-zinc-800 p-4 rounded-xl border border-zinc-700 flex gap-2 items-center",children:[A.jsx(Ib,{size:14,className:"text-indigo-400"}),A.jsx("input",{type:"date",className:"bg-zinc-900 border border-zinc-600 rounded-lg p-2 text-xs text-white flex-1",value:B,onChange:S=>G(S.target.value)}),A.jsx("span",{className:"text-zinc-500",children:"-"}),A.jsx("input",{type:"date",className:"bg-zinc-900 border border-zinc-600 rounded-lg p-2 text-xs text-white flex-1",value:et,onChange:S=>W(S.target.value)}),(B||et)&&A.jsx("button",{onClick:()=>{G(""),W(""),yt(!1)},className:"text-zinc-500 hover:text-white ml-2",children:A.jsx(Vd,{size:16})})]}),_&&A.jsxs("div",{className:"shrink-0 bg-zinc-800 p-6 rounded-xl border border-zinc-700 shadow-lg animate-fade-in",children:[A.jsx("h3",{className:"text-lg font-bold mb-4 text-emerald-400",children:p?"Modifica":"Nuovo"}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("input",{type:"text",className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 text-sm text-zinc-200 outline-none focus:border-emerald-500",placeholder:"Nome",value:c.name,onChange:S=>d({...c,name:S.target.value})}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-xs text-zinc-400 mb-1 block",children:"Icona"}),A.jsx(NE,{selected:c.icon,onSelect:S=>d({...c,icon:S})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-xs text-zinc-400 mb-1 block",children:"Colore"}),A.jsx(DE,{selected:c.color,onSelect:S=>d({...c,color:S})})]})]}),A.jsx("textarea",{className:"w-full bg-zinc-900 border border-zinc-600 rounded p-2 text-sm text-zinc-200 h-20 resize-none",placeholder:"Note...",value:c.notes,onChange:S=>d({...c,notes:S.target.value})}),A.jsx("button",{onClick:dt,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white p-2 rounded-lg font-bold",children:p?"Aggiorna":"Salva"})]})]}),A.jsx("div",{className:`flex-1 overflow-y-auto pb-24 ${a?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 auto-rows-min":"space-y-3"}`,children:C.map(S=>{const R=ut(S.id);return A.jsxs("div",{className:`bg-zinc-800 p-4 rounded-xl border flex flex-col gap-3 transition-all shadow-sm ${p===S.id?"border-amber-500 ring-1 ring-amber-500/20":"border-zinc-700 hover:bg-zinc-750"}`,children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[A.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold border border-zinc-600 shrink-0 shadow-lg ${S.color||"bg-zinc-700"}`,children:Xm(S.icon,A.jsx(lv,{size:20}))}),A.jsxs("div",{className:"min-w-0",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("p",{className:"font-bold text-zinc-200 truncate",children:S.name}),S.notes&&A.jsx(iv,{size:14,className:"text-zinc-500 shrink-0"})]}),A.jsxs("p",{className:"text-[10px] text-zinc-400 truncate",children:["Dal ",new Date(S.createdAt).toLocaleDateString()]})]})]}),A.jsxs("div",{className:"flex gap-1",children:[A.jsx("button",{onClick:()=>Pt(S),className:"p-1.5 text-zinc-500 hover:text-amber-400 hover:bg-zinc-700 rounded-lg",children:A.jsx(rv,{size:16})}),A.jsx("button",{onClick:()=>J(S.id),className:"p-1.5 text-zinc-500 hover:text-red-400 hover:bg-zinc-700 rounded-lg",children:A.jsx(lm,{size:16})})]})]}),A.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-zinc-700/50",children:[A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"text-[10px] text-zinc-500 uppercase",children:"Sedute"}),A.jsx("p",{className:"font-bold text-zinc-200 text-sm",children:R.count})]}),A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"text-[10px] text-zinc-500 uppercase",children:"Incasso"}),A.jsx("p",{className:"font-bold text-emerald-400 text-sm",children:Ei(R.revenue)})]}),A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"text-[10px] text-zinc-500 uppercase",children:"Bilancio"}),A.jsx("p",{className:`font-bold text-sm ${R.balance<-.1?"text-rose-400":R.balance>.1?"text-emerald-400":"text-zinc-400"}`,children:Math.abs(R.balance)<.1?"OK":Ei(R.balance)})]})]})]},S.id)})})]})},Ox=({sessions:r,setSessions:t,patients:i,types:a,isGrid:l,setIsGrid:c})=>{const[d,p]=Ct.useState(!1),[y,_]=Ct.useState(null),[T,w]=Ct.useState({patientId:"",typeId:"",date:"",price:0,repeatCount:1,repeatWeeks:1,notes:"",amountPaid:0}),[z,B]=Ct.useState("upcoming"),G=(J,ut)=>{let C=0;const S=new Date(ut),R=new Date;return r.forEach(D=>{if(D.patientId===J&&D.id!==y?.id){const N=new Date(D.date);N<S&&N<=R&&(C+=(D.price||0)-(D.amountPaid||0))}}),C};Ct.useMemo(()=>{const J={},ut=new Date;return i.forEach(C=>J[C.id]=0),r.forEach(C=>{J[C.patientId]!==void 0&&(new Date(C.date)<=ut?J[C.patientId]+=(C.amountPaid||0)-(C.price||0):J[C.patientId]+=C.amountPaid||0)}),J},[r,i]);const et=J=>{const ut=a.find(C=>C.id===J);w({...T,typeId:J,price:ut?ut.price:0})},W=()=>{if(!T.patientId||!T.date||!T.typeId){alert("Per favore seleziona Paziente, Data e Tipo di prestazione.");return}const J=[],ut=new Date(T.date),C=Math.max(1,parseInt(T.repeatCount)||1),S=Math.max(1,parseInt(T.repeatWeeks)||1);for(let R=0;R<C;R++){const D=new Date(ut);D.setDate(ut.getDate()+R*S*7);const N=R===0&&parseFloat(T.amountPaid)||0,V=N>=T.price;J.push({id:y&&R===0?y.id:Ym(),patientId:T.patientId,typeId:T.typeId,date:D.toISOString(),price:T.price,amountPaid:N,isPaid:V,notes:T.notes})}if(y){let R=r.map(D=>D.id===y.id?J[0]:D);C>1&&(R=[...R,...J.slice(1)]),t(R)}else t([...r,...J]);ot()},ot=()=>{p(!1),_(null),w({patientId:"",typeId:"",date:"",price:0,repeatCount:1,repeatWeeks:1,notes:"",amountPaid:0})},yt=J=>{_(J),w({patientId:J.patientId,typeId:J.typeId,date:J.date,price:J.price,repeatCount:1,repeatWeeks:1,notes:J.notes||"",amountPaid:J.amountPaid||0}),p(!0)},dt=J=>{w({...T,amountPaid:J})},Pt=Ct.useMemo(()=>{let J=[...r];const ut=new Date().toISOString();return z==="upcoming"&&(J=J.filter(C=>C.date>=ut)),z==="past"&&(J=J.filter(C=>C.date<ut)),J.sort((C,S)=>new Date(C.date)-new Date(S.date))},[r,z]);return A.jsxs("div",{className:"h-full flex flex-col relative",children:[A.jsxs("div",{className:"flex justify-between items-center mb-2 sticky top-0 z-20 bg-zinc-900 py-2",children:[A.jsx("div",{className:"flex bg-zinc-800 p-1 rounded-lg border border-zinc-700",children:["upcoming","past","all"].map(J=>A.jsx("button",{onClick:()=>B(J),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${z===J?"bg-zinc-600 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,children:J==="upcoming"?"Future":J==="past"?"Passate":"Tutte"},J))}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>c(!l),className:`px-3 py-1.5 rounded-lg flex items-center justify-center border transition-all ${l?"bg-zinc-600 text-white border-zinc-500":"bg-zinc-800 text-zinc-400 border-zinc-700"}`,children:l?A.jsx(sv,{size:18}):A.jsx(ov,{size:18})}),A.jsxs("button",{onClick:()=>{_(null),w({patientId:"",typeId:"",date:new Date().toISOString(),price:0,repeatCount:1,repeatWeeks:1,notes:"",amountPaid:0}),p(!0)},className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-lg shadow-indigo-500/20 text-sm font-bold transition-all",children:[A.jsx(av,{size:18})," ",A.jsx("span",{className:"hidden sm:inline",children:"Nuova"})]})]})]}),A.jsxs("div",{className:`flex-1 overflow-y-auto pb-24 ${l?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 auto-rows-min":"space-y-3"}`,children:[Pt.length===0&&A.jsxs("div",{className:"text-center py-20 flex flex-col items-center opacity-50 col-span-full",children:[A.jsx(ev,{size:48,className:"mb-4 text-zinc-600"}),A.jsx("p",{className:"text-zinc-400",children:"Nessuna seduta trovata."})]}),Pt.map(J=>{const ut=i.find(tt=>tt.id===J.patientId),C=a.find(tt=>tt.id===J.typeId),S=new Date(J.date)<new Date,R=Xm(C?.icon,A.jsx(om,{size:20}));let D=0;r.forEach(tt=>{tt.patientId===J.patientId&&tt.id!==J.id&&new Date(tt.date)<new Date(J.date)&&new Date(tt.date)<=new Date&&(D+=(tt.price||0)-(tt.amountPaid||0))});const N=J.price+D,V=J.amountPaid||0;let I=J.price,kt="text-zinc-400",Ft="Da Saldare",F=!1;return J.isPaid?(I=V,kt="text-emerald-400",Ft="Saldato",F=!0):V>0?(I=N-V,kt="text-amber-400",Ft="Restante"):D<=-J.price?(I=0,kt="text-emerald-400",Ft="Compensato",F=!0):(I=Math.max(0,J.price+D),kt=S?"text-rose-400":"text-amber-400",Ft="Da Saldare"),A.jsxs("div",{onClick:()=>yt(J),className:`relative p-3 rounded-xl border transition-all cursor-pointer group ${l?"flex flex-col justify-between h-full":""} ${F?"bg-zinc-800/40 border-zinc-800 opacity-60 hover:opacity-100":S?"bg-rose-900/10 border-rose-900/30 hover:border-rose-500/50":"bg-zinc-800 border-zinc-700 hover:border-indigo-500/50 hover:shadow-lg"}`,children:[A.jsxs("div",{className:`flex gap-3 ${l?"flex-col items-start":"justify-between items-center"}`,children:[A.jsxs("div",{className:"flex gap-3 items-center overflow-hidden w-full",children:[A.jsxs("div",{className:`flex flex-col items-center justify-center w-12 h-12 rounded-xl border shrink-0 ${F?"bg-zinc-800 border-zinc-700 text-zinc-500":S?"bg-rose-950/30 border-rose-900/50 text-rose-400":"bg-indigo-950/30 border-indigo-900/50 text-indigo-400"}`,children:[A.jsx("span",{className:"text-[10px] uppercase font-bold leading-none",children:new Date(J.date).toLocaleDateString("it-IT",{weekday:"short"})}),A.jsx("span",{className:"text-lg font-bold leading-none mt-0.5",children:new Date(J.date).getDate()})]}),A.jsxs("div",{className:"min-w-0 flex-1",children:[A.jsx("h4",{className:`font-bold text-sm truncate ${F?"text-zinc-400":"text-zinc-200"}`,children:ut?.name||"Sconosciuto"}),A.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[!l&&A.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded text-white font-medium shadow-sm flex items-center gap-1 truncate ${C?.color||"bg-zinc-600"}`,children:C?.name||"Generico"}),A.jsxs("span",{className:"text-[10px] flex items-center gap-1 text-zinc-400 bg-zinc-900/50 px-1.5 rounded border border-zinc-700 whitespace-nowrap",children:[A.jsx(zb,{size:10})," ",new Date(J.date).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})]})]})]})]}),!l&&A.jsxs("div",{className:"text-right shrink-0",children:[A.jsx("div",{className:`font-mono font-bold text-lg ${kt}`,children:Ei(I)}),A.jsx("div",{className:"mt-0.5 text-[9px] font-bold uppercase tracking-wider text-zinc-500 opacity-80",children:Ft})]})]}),l&&A.jsxs("div",{className:"mt-auto pt-2 border-t border-zinc-700/50 flex justify-between items-center w-full",children:[A.jsx("div",{className:"flex gap-2 items-center",children:A.jsx("div",{className:`flex items-center justify-center w-6 h-6 rounded-full text-white shadow-sm ${C?.color||"bg-zinc-600"}`,title:C?.name,children:W0.cloneElement(R,{size:12})})}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:`font-mono font-bold text-sm ${kt}`,children:Ei(I)}),F&&A.jsx(Mb,{size:14,className:"text-emerald-500"})]})]})]},J.id)})]}),d&&A.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in",children:A.jsxs("div",{className:"bg-zinc-900 w-full max-w-lg rounded-2xl border border-zinc-700 shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[A.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-900",children:[A.jsx("h3",{className:"font-bold text-lg flex items-center gap-2 text-zinc-200",children:y?"Dettagli":"Nuova Seduta"}),A.jsx("button",{onClick:ot,className:"text-zinc-500 hover:text-white",children:A.jsx(Vd,{size:24})})]}),A.jsxs("div",{className:"p-6 overflow-y-auto space-y-6",children:[A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-xs text-zinc-400 mb-1 block uppercase font-bold",children:"Paziente"}),A.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-white outline-none",value:T.patientId,onChange:J=>w({...T,patientId:J.target.value}),children:[A.jsx("option",{value:"",children:"Seleziona..."}),i.map(J=>A.jsx("option",{value:J.id,children:J.name},J.id))]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-xs text-zinc-400 mb-1 block uppercase font-bold",children:"Data"}),A.jsx("input",{type:"datetime-local",className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-2.5 text-white text-sm",value:T.date?T.date.slice(0,16):"",onChange:J=>w({...T,date:J.target.value})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-xs text-zinc-400 mb-1 block uppercase font-bold",children:"Tipo"}),A.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-2.5 text-white text-sm",value:T.typeId,onChange:J=>et(J.target.value),children:[A.jsx("option",{value:"",children:"Seleziona..."}),a.map(J=>A.jsx("option",{value:J.id,children:J.name},J.id))]})]})]})]}),A.jsxs("div",{className:"bg-zinc-800 p-4 rounded-xl border border-zinc-700 flex gap-4 items-end",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("label",{className:"text-xs text-zinc-500 block mb-1",children:"Ripetizione"}),A.jsxs("select",{className:"w-full bg-zinc-900 border border-zinc-600 rounded-lg p-2 text-sm text-zinc-200",value:T.repeatWeeks,onChange:J=>w({...T,repeatWeeks:parseInt(J.target.value)}),children:[A.jsx("option",{value:1,children:"Settimanale"}),A.jsx("option",{value:2,children:"Bisettimanale"}),A.jsx("option",{value:4,children:"Mensile"})]})]}),A.jsxs("div",{className:"w-24",children:[A.jsx("label",{className:"text-xs text-zinc-500 block mb-1",children:"Volte"}),A.jsx("input",{type:"number",min:"1",max:"52",className:"w-full bg-zinc-900 border border-zinc-600 rounded-lg p-2 text-sm text-center text-zinc-200",value:T.repeatCount,onChange:J=>w({...T,repeatCount:parseInt(J.target.value)})})]})]}),T.patientId&&T.typeId&&A.jsxs("div",{className:"bg-zinc-800 p-4 rounded-xl border border-zinc-700 relative overflow-hidden",children:[A.jsxs("div",{className:"flex justify-between items-end mb-4 relative z-10",children:[A.jsxs("h4",{className:"text-sm font-bold text-emerald-400 uppercase tracking-wide flex gap-2 items-center",children:[A.jsx(Lb,{size:16})," Cassa"]}),A.jsx("div",{className:"text-right",children:(()=>{const J=G(T.patientId,T.date||new Date),ut=Math.max(0,T.price+J);return A.jsxs("div",{children:[A.jsx("div",{className:"text-xs text-zinc-400",children:"Totale Dovuto"}),A.jsxs("div",{className:"flex items-baseline justify-end gap-2",children:[ut!==T.price&&A.jsx("span",{className:"text-xs text-zinc-500 line-through decoration-zinc-500",children:Ei(T.price)}),A.jsx("div",{className:`font-mono font-bold text-lg ${ut>T.price?"text-rose-400":"text-white"}`,children:Ei(ut)})]})]})})()})]}),(()=>{const J=G(T.patientId,T.date||new Date),ut=Math.max(0,T.price+J),C=parseFloat(T.amountPaid)||0,S=ut-C,R=S>.1,D=S<-.1;return A.jsxs("div",{className:"space-y-4 relative z-10",children:[(R||D)&&A.jsxs("div",{className:`text-xs p-3 rounded-lg flex items-start gap-3 border ${R?"bg-rose-950/30 border-rose-900/50 text-rose-200":"bg-emerald-950/30 border-emerald-900/50 text-emerald-200"}`,children:[A.jsx(Db,{size:16,className:"mt-0.5 shrink-0"}),A.jsxs("div",{children:[A.jsx("p",{className:"font-bold mb-1",children:"Stato Attuale"}),R?A.jsxs("span",{children:["Mancano ancora ",A.jsx("strong",{children:Ei(S)})," per saldare tutto."]}):A.jsxs("span",{children:["Stai incassando ",A.jsx("strong",{children:Ei(Math.abs(S))})," in pi (credito)."]})]})]}),A.jsxs("div",{className:"pt-4 border-t border-zinc-700",children:[A.jsx("label",{className:"text-xs text-zinc-400 mb-2 block uppercase font-bold",children:"Incasso"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("button",{onClick:()=>dt(ut),className:"flex-1 bg-emerald-600/10 hover:bg-emerald-600 text-emerald-400 hover:text-white border border-emerald-600/30 py-2.5 rounded-lg font-bold flex flex-col items-center",children:[A.jsx("span",{children:"Saldo Totale"}),A.jsx("span",{className:"text-xs opacity-70",children:Ei(ut)})]}),A.jsxs("div",{className:"relative w-1/3",children:[A.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500 text-sm",children:""}),A.jsx("input",{type:"number",className:"w-full bg-zinc-900 border border-zinc-600 rounded-lg py-2.5 pl-7 pr-2 text-right text-white font-mono font-bold outline-none h-full",value:T.amountPaid,onChange:N=>dt(N.target.value),placeholder:"0"})]})]})]})]})})()]}),A.jsx("textarea",{className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-sm text-zinc-200 h-24 outline-none resize-none",placeholder:"Note cliniche...",value:T.notes,onChange:J=>w({...T,notes:J.target.value})})]}),A.jsxs("div",{className:"p-4 border-t border-zinc-800 bg-zinc-900 flex justify-end gap-3",children:[y&&A.jsx("button",{onClick:()=>{confirm("Eliminare?")&&(t(r.filter(J=>J.id!==y.id)),ot())},className:"mr-auto text-rose-400 hover:text-rose-300 px-3 py-2 rounded-lg text-sm",children:A.jsx(lm,{size:16})}),A.jsx("button",{onClick:ot,className:"px-4 py-2 text-zinc-400 hover:text-white text-sm",children:"Annulla"}),A.jsxs("button",{onClick:W,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-2 rounded-lg font-bold text-sm",children:[A.jsx(sS,{size:16})," Salva"]})]})]})})]})};function Mx(){const[r,t]=Ct.useState("calendar"),[i,a]=Ct.useState(window.innerWidth>768),[l,c]=Ct.useState(()=>{try{return JSON.parse(localStorage.getItem("psy_patients"))||[]}catch{return[]}}),[d,p]=Ct.useState(()=>{try{return JSON.parse(localStorage.getItem("psy_types"))||[{id:"t1",name:"Seduta Individuale",price:60,color:"bg-blue-500",icon:"brain"}]}catch{return[]}}),[y,_]=Ct.useState(()=>{try{return JSON.parse(localStorage.getItem("psy_sessions"))||[]}catch{return[]}}),T=xx({patients:l,types:d,sessions:y},B=>{B.patients&&c(B.patients),B.types&&p(B.types),B.sessions&&_(B.sessions)});Ct.useEffect(()=>{localStorage.setItem("psy_patients",JSON.stringify(l)),T.status==="synced"&&T.saveToCloud({patients:l,types:d,sessions:y})},[l]),Ct.useEffect(()=>{localStorage.setItem("psy_types",JSON.stringify(d)),T.status==="synced"&&T.saveToCloud({patients:l,types:d,sessions:y})},[d]),Ct.useEffect(()=>{localStorage.setItem("psy_sessions",JSON.stringify(y)),T.status==="synced"&&T.saveToCloud({patients:l,types:d,sessions:y})},[y]),Ct.useEffect(()=>{const B=()=>a(window.innerWidth>768);return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const w=()=>{const B="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({patients:l,types:d,sessions:y})),G=document.createElement("a");G.setAttribute("href",B),G.setAttribute("download","psytrack_backup.json"),document.body.appendChild(G),G.click(),G.remove()},z=B=>{const G=new FileReader;G.onload=et=>{try{const W=JSON.parse(et.target.result);W.patients&&(c(W.patients),p(W.types),_(W.sessions))}catch{alert("Errore")}},G.readAsText(B)};return A.jsxs("div",{className:"h-screen bg-zinc-900 flex flex-col md:flex-row text-zinc-200 overflow-hidden font-sans",children:[A.jsxs("nav",{className:"md:w-64 bg-zinc-900 border-r border-zinc-800 flex md:flex-col justify-between z-30 order-2 md:order-1 border-t md:border-t-0 p-2 md:p-4 shrink-0",children:[A.jsxs("div",{className:"hidden md:flex items-center gap-3 mb-8 px-2",children:[A.jsx("div",{className:"w-10 h-10 bg-indigo-500/10 rounded-xl flex items-center justify-center border border-indigo-500/20 text-indigo-400 font-bold text-xl",children:""}),A.jsx("span",{className:"font-bold text-xl tracking-tight",children:"PsyTrack"})]}),A.jsxs("div",{className:"flex md:flex-col gap-1 w-full justify-around md:justify-start",children:[A.jsxs("button",{onClick:()=>t("calendar"),className:`flex md:flex-row flex-col items-center md:gap-3 p-2 md:px-4 md:py-3 rounded-xl transition-all ${r==="calendar"?"bg-indigo-600/10 text-indigo-400":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800"}`,children:[A.jsx(ev,{size:22}),A.jsx("span",{className:"text-[10px] md:text-sm font-medium",children:"Agenda"})]}),A.jsxs("button",{onClick:()=>t("patients"),className:`flex md:flex-row flex-col items-center md:gap-3 p-2 md:px-4 md:py-3 rounded-xl transition-all ${r==="patients"?"bg-emerald-500/10 text-emerald-400":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800"}`,children:[A.jsx(uv,{size:22}),A.jsx("span",{className:"text-[10px] md:text-sm font-medium",children:"Pazienti"})]}),A.jsxs("button",{onClick:()=>t("settings"),className:`flex md:flex-row flex-col items-center md:gap-3 p-2 md:px-4 md:py-3 rounded-xl transition-all ${r==="settings"?"bg-rose-500/10 text-rose-400":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800"}`,children:[A.jsx(lS,{size:22}),A.jsx("span",{className:"text-[10px] md:text-sm font-medium",children:"Impostazioni"})]})]}),A.jsx("div",{className:"hidden md:block mt-auto pt-4 border-t border-zinc-800",children:T.status==="synced"&&A.jsxs("div",{className:"flex items-center gap-2 px-2 text-xs text-emerald-500",children:[A.jsx(nv,{size:12})," Cloud Attivo"]})})]}),A.jsxs("main",{className:"flex-1 bg-zinc-900 overflow-hidden relative order-1 md:order-2 flex flex-col",children:[A.jsx("header",{className:"md:hidden p-4 border-b border-zinc-800 flex justify-between items-center z-10",children:A.jsxs("div",{className:"flex items-center gap-2 text-indigo-400",children:[A.jsx("div",{className:"w-8 h-8 bg-indigo-500/10 rounded-lg flex items-center justify-center border border-indigo-500/20",children:A.jsx("span",{className:"font-bold text-lg",children:""})}),A.jsx("h1",{className:"font-bold text-xl text-zinc-100",children:"PsyTrack"})]})}),A.jsxs("div",{className:"flex-1 overflow-hidden relative p-4 max-w-7xl mx-auto w-full",children:[r==="calendar"&&A.jsx(Ox,{sessions:y,setSessions:_,patients:l,types:d,isGrid:i,setIsGrid:a}),r==="patients"&&A.jsx(Dx,{patients:l,setPatients:c,sessions:y,isGrid:i,setIsGrid:a}),r==="settings"&&A.jsx(Nx,{types:d,setTypes:p,firebaseHook:T,onExport:w,onImport:z})]})]})]})}_b.createRoot(document.getElementById("root")).render(A.jsx(Ct.StrictMode,{children:A.jsx(Mx,{})}));
